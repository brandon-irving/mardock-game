(this["webpackJsonpmardock-game"]=this["webpackJsonpmardock-game"]||[]).push([[0],{425:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),c=a.n(i),o=a(19),s={user:null,globalLoading:!1,users:[]},l=a(486),u=a(10),p=a.n(u),d=a(16),b=a(14),j=a(86),h=a(35),m=a(11),f=a(8),x=a(117),O=(a(292),a(426),a(294),a(140)),g={position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};function v(e){var t=e.options,a=void 0===t?g:t,n=e.type,r=void 0===n?"dark":n,i=e.content,c=void 0===i?"":i;return O.b[r](c,a)}var y=new x.a.auth.GoogleAuthProvider;x.a.initializeApp({apiKey:"AIzaSyBuehaOKFHvHfNbcfwSy2SNnO_iURlxl6k",authDomain:"dnd-story-assistant.firebaseapp.com",databaseURL:"https://dnd-story-assistant.firebaseio.com",projectId:"dnd-story-assistant",storageBucket:"dnd-story-assistant.appspot.com",messagingSenderId:"783675104937",appId:"1:783675104937:web:d762c685d9708b3b21d3b8",measurementId:"G-BE6J3N57ET"});var w=x.a.auth(),k=x.a.firestore(),S=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.signInWithPopup(y);case 2:return t=e.sent,a=t.additionalUserInfo.profile.email,e.next=6,F({key:"email",comparison:"==",equals:a});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return n=k.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.email,i=t.displayName,c=t.photoURL,e.prev=8,o=Object(f.a)({displayName:i,email:r,photoURL:c,uid:t.uid},a),e.next=12,n.set(o);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 17:return e.abrupt("return",R(t.uid));case 18:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r,i,c,o,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{email:"",password:"",displayName:""},a=null,n=t.email,r=t.password,i=t.displayName,e.prev=3,e.next=6,w.createUserWithEmailAndPassword(n,r);case 6:return c=e.sent,o=c.user,e.next=10,C(o,{displayName:i,email:n});case 10:a=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error Signing up with email and password");case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.signInWithEmailAndPassword(t,a).catch((function(e){console.error("Error signing in with password and email",e)}));case 2:return e.next=4,F({key:"email",comparison:"==",equals:t});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(e,t){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.batch();case 2:return n=e.sent,r=k.collection("users"),e.next=6,n.set(r,{test:!0});case 6:return e.next=8,n.commit();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,a){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.doc("".concat(t)),e.next=3,r.get();case 3:if(e.sent.exists){e.next=14;break}if(!n){e.next=11;break}return e.next=8,r.set(Object(m.a)({},n,a));case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,r.set(a);case 13:return e.abrupt("return",e.sent);case 14:if(!n){e.next=20;break}return e.next=17,r.update(Object(m.a)({},n,a));case 17:return e.abrupt("return",e.sent);case 20:return e.next=22,r.update(a);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.doc(t).get();case 3:return a=e.sent,e.abrupt("return",Object(f.a)({},a.data()));case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching user",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function E(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(p.a.mark((function e(){var t,a,n,r,i,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:["collection","document"],a=null,n=t.length<2?k.collection(t[0]):k.collection(t[0]).doc(t[1]),e.next=5,n;case 5:return r=e.sent,e.next=8,r.get();case 8:return(i=e.sent).exists&&(a=i.data()),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(p.a.mark((function e(){var t,a,n,r,i,c,o=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{key:"name",comparison:"==",equals:"Brandon"},a={},n=t.key,r=t.comparison,i=t.equals,e.next=5,k.collection("users").where(n,r,i).get();case 5:if(!(c=e.sent).empty){e.next=9;break}return console.log("No matching documents."),e.abrupt("return");case 9:return c.forEach((function(e){a=e.data()})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,W("users/".concat(t));case 5:return a=e.sent,e.abrupt("return",Object(f.a)({uid:t},a));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("users/".concat(t.uid),a);case 2:return e.next=4,R(t.uid);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i,c,o,s,l,u,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userGivingItem,n=t.target,r=t.item,i="character.items",c="character",o=n.character,s=o.maxHp,l=o.maxMp,n.character.hp+=r.hp,n.character.mp+=r.mp,n.character.hp>s&&(n.character.hp=s),n.character.mp>l&&(n.character.mp=l),a.character.items[r.type][r.label].quantity-=1,e.next=11,k.batch();case 11:return u=e.sent,d=k.collection("users").doc(n.uid),b=k.collection("users").doc(a.uid),u.update(d,Object(m.a)({},c,n.character)),u.update(b,Object(m.a)({},i,a.character.items)),e.next=18,u.commit();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="character.items.".concat(n),console.log("log: updates",Object(m.a)({},n,a)),e.next=4,M(t,Object(m.a)({},r,a));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i,c,o,s,l,u,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,n=t.items,r=t.newEquip,i=t.type,c=t.itemsGameData,o="character.equipped.".concat(i),s="character.items",l=Object.keys(a.character.equipped[i]).length?a.character.equipped[i]:null,delete(u=Object(f.a)({},n))[i][r],l&&(u[i][l]=c[l]),e.next=9,k.batch();case 9:return d=e.sent,b=k.collection("users").doc(a.uid),d.update(b,Object(m.a)({},s,u)),d.update(b,Object(m.a)({},o,r)),e.next=15,d.commit();case 15:return console.log("log: equipItem user",{oldEquipped:l,newItems:u}),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $(){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("users");case 2:return t=e.sent,e.next=5,t.get();case 5:return a=e.sent,n=[],a.forEach((function(e){var t=e.data();t.DM||n.push(Object(f.a)(Object(f.a)({},t),{},{label:t.displayName,value:t.displayName}))})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("DM/".concat(t),a,n);case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.collection("DM").doc("battles"),e.next=3,a.update({current:Object(f.a)({},t)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Y(e){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(["DM",t]);case 2:return a=e.sent,e.abrupt("return",a||{notes:""});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=a(507),Q=a(172),Z=a(192),_=a(151),ee=a.n(_),te=a(107),ae=a(191),ne=a(54),re=a(103),ie=Object(re.a)(Object(f.a)({},{palette:{type:"dark",primary:{main:"#3f51b5"},secondary:{main:"#f50057"}}})),ce=a(488),oe=a(197),se=a(502),le=a(487),ue=a(1);function pe(){return Object(ue.jsxs)(te.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(ue.jsx)(oe.a,{color:"inherit",href:"https://github.com/brandon-irving/mardock-game",children:"Mardock Game"})," ",(new Date).getFullYear(),"."]})}function de(e){var t=e.children,a=e.maxWidth,n=void 0===a?"xs":a;return Object(ue.jsxs)(le.a,{component:"main",maxWidth:n,children:[Object(ue.jsx)(ce.a,{}),t,Object(ue.jsx)(se.a,{mt:8,children:Object(ue.jsx)(pe,{})})]})}var be=Object(ae.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function je(e){var t={};return Object.keys(e).forEach((function(a){(!e[a]||"string"===typeof e[a]&&!e[a].length)&&(t[a]="required")})),t}function he(e){var t=e.goToSignIn,a=Object(h.f)(),n=be();function r(){return(r=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:n=e.sent,console.log("log: newUser",n),a.replace("create");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:a.replace("create");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)(de,{children:[Object(ue.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ue.jsx)(X.a,{className:n.avatar,children:Object(ue.jsx)(ee.a,{})})}),Object(ue.jsx)(te.a,{align:"center",component:"h1",variant:"h5",children:"Sign Up"}),Object(ue.jsx)(ne.a,{theme:ie,manualValidate:je,blueprint:{Rows:[{Cols:[{Input:{id:"displayName",name:"displayName",type:"text",label:"Name",variant:"filled"}}]},{Cols:[{Input:{id:"email",name:"email",type:"email",label:"Email",variant:"filled"}}]},{Cols:[{Input:{id:"password",name:"password",type:"password",label:"Password",variant:"filled"}}]},{Cols:[{Button:{id:"submit",name:"submit",type:"submit",label:"Sign Up",fullWidth:!0,disabled:!1,variant:"outlined"}}]}]},initialValues:{displayName:"",email:"",password:""},handleSubmit:function(e){return r.apply(this,arguments)}}),Object(ue.jsxs)(Z.a,{container:!0,children:[Object(ue.jsx)(Z.a,{item:!0,xs:!0,children:Object(ue.jsx)(Q.a,{onClick:i,children:"Google sign up"})}),Object(ue.jsx)(Z.a,{item:!0,children:Object(ue.jsx)(Q.a,{onClick:t,children:"Already have an account? Sign in"})})]})]})}var me=Object(ae.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function fe(e){var t={};return Object.keys(e).forEach((function(a){(!e[a]||"string"===typeof e[a]&&!e[a].length)&&(t[a]="required")})),t}function xe(){Object(o.b)().user;var e=Object(h.f)(),t=me(),a=Object(n.useState)(!1),r=Object(b.a)(a,2),i=r[0],c=r[1];function s(){return(s=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(a.email,a.password);case 2:n=t.sent,r=n.character?"/":"create",e.push(r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,r=n.character?"/":"create",e.replace(r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return i?Object(ue.jsx)(he,{goToSignIn:function(){c(!1)}}):Object(ue.jsxs)(de,{children:[Object(ue.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ue.jsx)(X.a,{className:t.avatar,children:Object(ue.jsx)(ee.a,{})})}),Object(ue.jsx)(te.a,{align:"center",component:"h1",variant:"h5",children:"Sign In"}),Object(ue.jsx)(ne.a,{theme:ie,manualValidate:fe,blueprint:{Rows:[{Cols:[{Input:{id:"email",name:"email",type:"email",label:"Email",variant:"filled"}}]},{Cols:[{Input:{id:"password",name:"password",type:"password",label:"Password",variant:"filled"}}]},{Cols:[{Button:{id:"submit",name:"submit",type:"submit",label:"Sign in",fullWidth:!0,disabled:!1,variant:"outlined"}}]}]},initialValues:{email:"",password:""},handleSubmit:function(e){return s.apply(this,arguments)}}),Object(ue.jsxs)(Z.a,{container:!0,children:[Object(ue.jsx)(Z.a,{item:!0,xs:!0,children:Object(ue.jsx)(Q.a,{onClick:l,children:"Google sign in"})}),Object(ue.jsx)(Z.a,{item:!0,children:Object(ue.jsx)(Q.a,{onClick:function(){c(!0)},children:"Sign Up"})})]})]})}var Oe=a(41),ge=Object(ae.a)({grid:{margin:"0 -15px !important",width:"unset"}});function ve(e){var t=ge(),a=e.children,n=Object(Oe.a)(e,["children"]);return Object(ue.jsx)(Z.a,Object(f.a)(Object(f.a)({container:!0},n),{},{className:t.grid,children:a}))}var ye=Object(ae.a)({grid:{padding:"0 15px !important"}});function we(e){var t=ye(),a=e.children,n=Object(Oe.a)(e,["children"]);return Object(ue.jsx)(Z.a,Object(f.a)(Object(f.a)({item:!0},n),{},{className:t.grid,children:a}))}var ke=a(82),Se=a.n(ke),Ce=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase())[0]+e[1],i=e[2]+e[3],c=e[4]+e[5];return parseInt(r,16)+", "+parseInt(i,16)+", "+parseInt(c,16)},Ae=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],Be=["#ff9800","#ffa726","#fb8c00","#ffa21a"],Ie=["#f44336","#ef5350","#e53935","#f55a4e"],He=["#4caf50","#66bb6a","#43a047","#5cb860"],De=["#00acc1","#26c6da","#00acc1","#00d3ee"],qe=["#e91e63","#ec407a","#d81b60","#eb3573"],Te=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],We="#000",Ee="#FFF",Ne=(Ce(We),Ce(We),Ce(We),{boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(Ae[0])+",.4)"}),Fe={boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(De[0])+",.4)"},Pe={boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(He[0])+",.4)"},Re={boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(Be[0])+",.4)"},Me={boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(Ie[0])+",.4)"},Ge={boxShadow:"0 4px 20px 0 rgba("+Ce(We)+",.14), 0 7px 10px -5px rgba("+Ce(qe[0])+",.4)"},Le=Object(f.a)({background:"linear-gradient(60deg, "+Be[1]+", "+Be[2]+")"},Re),Ue=Object(f.a)({background:"linear-gradient(60deg, "+He[1]+", "+He[2]+")"},Pe),$e=Object(f.a)({background:"linear-gradient(60deg, "+Ie[1]+", "+Ie[2]+")"},Me),Ve=Object(f.a)({background:"linear-gradient(60deg, "+De[1]+", "+De[2]+")"},Fe),ze=Object(f.a)({background:"linear-gradient(60deg, "+Ae[1]+", "+Ae[2]+")"},Ne),Je=Object(f.a)({background:"linear-gradient(60deg, "+qe[1]+", "+qe[2]+")"},Ge),Ye=(Object(f.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+Te[10],height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),Ce(We),Ce(We),Ce(We),Ce(We),Ce(We),{color:Te[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:Te[1],fontWeight:"400",lineHeight:"1"}}),Ke=(Object(f.a)(Object(f.a)({},Ye),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(f.a)(Object(f.a)({},Ye),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"3px",backgroundColor:Te[0],padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:Le,successCardHeader:Ue,dangerCardHeader:$e,infoCardHeader:Ve,primaryCardHeader:ze,roseCardHeader:Je}),Xe=Object(ae.a)(Ke);function Qe(e){var t,a=Xe(),n=e.className,r=e.children,i=e.color,c=Object(Oe.a)(e,["className","children","color"]),o=Se()((t={},Object(m.a)(t,a.cardIcon,!0),Object(m.a)(t,a[i+"CardHeader"],i),Object(m.a)(t,n,void 0!==n),t));return Object(ue.jsx)("div",Object(f.a)(Object(f.a)({style:{marginRight:0},className:o},c),{},{children:r}))}var Ze={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+Te[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+Te[10]}},_e=Object(ae.a)(Ze);function et(e){var t,a=_e(),n=e.className,r=e.children,i=e.plain,c=e.profile,o=e.stats,s=e.chart,l=Object(Oe.a)(e,["className","children","plain","profile","stats","chart"]),u=Se()((t={},Object(m.a)(t,a.cardFooter,!0),Object(m.a)(t,a.cardFooterPlain,i),Object(m.a)(t,a.cardFooterProfile,c),Object(m.a)(t,a.cardFooterStats,o),Object(m.a)(t,a.cardFooterChart,s),Object(m.a)(t,n,void 0!==n),t));return Object(ue.jsx)("div",Object(f.a)(Object(f.a)({className:u},l),{},{children:r}))}var tt={successText:{color:He[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:Te[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:Te[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+Ce(Ee)+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:Te[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:Te[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:Ee,marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:Te[1],fontWeight:"400",lineHeight:"1"}}},at={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+Ce(We)+", 0.87)",background:Ee,width:"100%",boxShadow:"0 1px 4px 0 rgba("+Ce(We)+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}},nt=Object(ae.a)(at);function rt(e){var t,a=nt(),n=e.className,r=e.children,i=e.plain,c=e.profile,o=e.chart,s=Object(Oe.a)(e,["className","children","plain","profile","chart"]),l=Se()((t={},Object(m.a)(t,a.card,!0),Object(m.a)(t,a.cardPlain,i),Object(m.a)(t,a.cardProfile,c),Object(m.a)(t,a.cardChart,o),Object(m.a)(t,n,void 0!==n),t));return Object(ue.jsx)("div",Object(f.a)(Object(f.a)({style:{background:"#424242"},className:l},s),{},{children:r}))}var it={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:Ee},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},Le)},successCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},Ue)},dangerCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},$e)},infoCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},Ve)},primaryCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},ze)},roseCardHeader:{color:Ee,"&:not($cardHeaderIcon)":Object(f.a)({},Je)}};Object(ae.a)(it);var ct=function(e){var t=e.src,a=e.alt,n=void 0===a?"":a,r=e.width,i=void 0===r?"25vw":r;return Object(ue.jsx)("img",{style:{width:i,maxWidth:"100px",height:"inherit"},src:t,alt:n})},ot=a(7),st=a(489),lt=function(e){var t=e.progress,a=void 0===t?100:t,n=e.color,r=void 0===n?"green":n,i=e.backgroundColor,c=void 0===i?"black":i,o=Object(ot.a)((function(e){return{root:{height:15,borderRadius:10},colorPrimary:{backgroundColor:c},bar:{borderRadius:5,backgroundColor:r}}}))(st.a);return Object(ue.jsx)(o,{variant:"determinate",value:a})},ut=a(15),pt={str:{label:"Strength",description:"Increases the damage you deal and the amount of weight you can lift",points:12},spd:{label:"Speed",description:"Increases the amount of squares you can move per roll and how fast you are",points:10},vit:{label:"Vitality",description:"Increases your hp, sex appeal and resistance to illness",points:10},eva:{label:"Evasion",description:"Increases your dodge rolls and stealth",points:10},int:{label:"Intelligence",description:"Increases your mp and investigation rolls",points:10},wis:{label:"Wisdom",description:"Increases your awareness and hint rolls",points:10},dex:{label:"Dexterity",description:"Increases your ability to attack, handling skills and overall balance",points:10},per:{label:"Persuasion",description:"Increases your persuasion rolls and makes you more likeable",points:10}},dt=a.p+"static/media/darkRiteArmor.9c40cf0e.svg",bt={Potion:{type:"misc",hp:10,mp:0,label:"Potion",description:"Recover 10 hp",src:dt},"Mana Cubes":{type:"misc",hp:0,mp:10,label:"Mana Cubes",description:"Recover 10 mp",src:dt},"Enchanted Chicken Breast":{type:"misc",hp:5,mp:0,label:"Enchanted Chicken Breast",description:"Recover 20 hp",src:dt}};function jt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ht(e){return Object(ut.map)(Object(ut.flatMap)(e),(function(e){return e.special}))}function mt(e){var t=[];return Object(ut.forEach)(e,(function(e){var a=e.match(/\d+/)?Number(e.match(/\d+/)[0]):1,n=e.replace("".concat(a),""),r=Object(f.a)(Object(f.a)({},bt[n]),{},{quantity:a});t.push(r)})),t}var ft,xt,Ot,gt,vt=function(e,t){return 100*(e-0)/(t-0)},yt={"Dark Rite Armor":{type:"armor",hp:10,mp:0,label:"Dark Rite Armor",description:"",src:dt}},wt={"Jewel of Armanar":{type:"accessory",hp:10,mp:0,label:"Jewel of Armanar",description:"",src:a.p+"static/media/jewelArmanar.eb01ddc8.svg"}},kt=a.p+"static/media/sword.119d0a25.svg",St={"Long Sword":(ft={type:"weapon",requirement:{str:12}},Object(m.a)(ft,"type","sword"),Object(m.a)(ft,"hp",0),Object(m.a)(ft,"mp",0),Object(m.a)(ft,"roll","d8"),Object(m.a)(ft,"label","Long Sword"),Object(m.a)(ft,"description",""),Object(m.a)(ft,"src",kt),ft),Dagger:(xt={type:"weapon",requirement:{dex:12}},Object(m.a)(xt,"type","dagger"),Object(m.a)(xt,"hp",0),Object(m.a)(xt,"mp",0),Object(m.a)(xt,"roll","d4"),Object(m.a)(xt,"label","Dagger"),Object(m.a)(xt,"description",""),Object(m.a)(xt,"src",kt),xt),"Short Sword":(Ot={type:"weapon",requirement:{}},Object(m.a)(Ot,"type","sword"),Object(m.a)(Ot,"hp",0),Object(m.a)(Ot,"mp",0),Object(m.a)(Ot,"roll","d6"),Object(m.a)(Ot,"label","Short Sword"),Object(m.a)(Ot,"description",""),Object(m.a)(Ot,"src",kt),Ot),Bow:(gt={type:"weapon",requirement:{dex:12}},Object(m.a)(gt,"type","bow"),Object(m.a)(gt,"hp",0),Object(m.a)(gt,"mp",0),Object(m.a)(gt,"roll","d4"),Object(m.a)(gt,"label","Bow"),Object(m.a)(gt,"description",""),Object(m.a)(gt,"src",kt),gt)};function Ct(e){var t=Object(o.b)().user.character.equipped;return{accessory:wt,weapon:St}[e][t[e]]||{}}var At=function(){var e=Object(o.b)().user.character,t=e.hp,a=e.maxHp,r=e.equipped.armor,i=void 0===r?{hp:0}:r,c=Ct("accessory"),s=Ct("weapon");function l(){var e=t+((null===i||void 0===i?void 0:i.hp)||0)+((null===s||void 0===s?void 0:s.hp)||0)+((null===c||void 0===c?void 0:c.hp)||0);return vt(e,a)}var u=Object(n.useState)(l()),p=Object(b.a)(u,2),d=p[0],j=p[1];return Object(n.useEffect)((function(){j(l())}),[t,i]),Object(ue.jsxs)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[l()>100&&Object(ue.jsx)(lt,{progress:d-100,color:"teal",backgroundColor:"green"}),l()<=100&&Object(ue.jsx)(lt,{progress:d,color:"green",backgroundColor:"black"})]})},Bt=Object(ae.a)(tt),It=function(e){var t=e.title,a=void 0===t?"Knight":t,n=e.text,r=void 0===n?"The knight is a real nigga":n,i=e.imgSrc,c=void 0===i?"":i,o=e.noBox,s=void 0!==o&&o,l=Bt();return Object(ue.jsx)(we,{xs:12,sm:6,md:4,children:Object(ue.jsxs)(rt,{children:[!s&&Object(ue.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ue.jsx)(Qe,{color:"rose",children:Object(ue.jsx)(ct,{alt:a,src:c})})}),Object(ue.jsx)("p",{style:{color:"white",fontSize:"15pt",textAlign:"center"},className:l.cardCategory,children:a}),Object(ue.jsx)(et,{stats:!0,children:Object(ue.jsx)(te.a,{style:{color:"white",textAlign:"center"},variant:"subtitle1",children:r})})]})})},Ht=function(){var e=Object(o.b)().user.character,t=e.mp,a=e.maxMp,r=e.equipped.armor,i=void 0===r?{mp:0}:r,c=Ct("accessory"),s=Ct("weapon");function l(){var e=t+((null===i||void 0===i?void 0:i.mp)||0)+((null===s||void 0===s?void 0:s.mp)||0)+((null===c||void 0===c?void 0:c.mp)||0);return vt(e,a)}var u=Object(n.useState)(l()),p=Object(b.a)(u,2),d=p[0],j=p[1];return Object(n.useEffect)((function(){j(l())}),[t]),Object(ue.jsxs)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[l()>100&&Object(ue.jsx)(lt,{progress:d-100,color:"light blue",backgroundColor:"blue"}),l()<=100&&Object(ue.jsx)(lt,{progress:d,color:"blue",backgroundColor:"black"})]})},Dt=a(490),qt=a(491),Tt=a(479),Wt=Object(ae.a)(tt),Et=function(e){var t=e.children;Wt();return Object(ue.jsx)(we,{xs:12,sm:6,md:4,children:Object(ue.jsx)(rt,{children:Object(ue.jsx)("div",{style:{color:"white",margin:"10px",display:"flex",flexWrap:"wrap"},children:t})})})},Nt=(a.p,a.p,function(e){var t=e.logo,a=e.alt,n=e.text,r=void 0===n?"":n;return Object(ue.jsxs)(Z.a,{container:!0,children:[Object(ue.jsx)(Z.a,{item:!0,xs:3,children:Object(ue.jsx)("img",{style:{width:"100%",maxHeight:"55px"},src:t,alt:a})}),Object(ue.jsx)(Z.a,{item:!0,xs:9,style:{display:"flex",alignItems:"center"},children:r})]})});function Ft(e){return Object.keys(pt).reduce((function(t,a){var n=e[a],r=n.points,i=0;return r>=12&&r<14&&(i=1),r>=14&&r<16&&(i=2),r>=16&&r<18&&(i=3),r>=18&&r<20&&(i=4),r>=20&&(i=5),Object(f.a)(Object(f.a)({},t),{},Object(m.a)({},a,Object(f.a)(Object(f.a)({},pt[a]),{},{points:n,abbr:a,statBoost:i})))}),{})}function Pt(e){var t=Object(o.b)().user.character;return Ft(e||t.stats)}var Rt=a.p+"static/media/knight.f5702281.svg",Mt={Knight:{statBoost:{str:2},starterWeapon:"Long Sword",src:Rt,label:"Knight",description:"If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player"},Archer:{statBoost:{dex:2},starterWeapon:"Bow",src:Rt,label:"Archer",description:"If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player"},Assassin:{statBoost:{dex:2},starterWeapon:"Dagger",src:Rt,label:"Assassin",description:"If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player"},Diplomat:{statBoost:{per:2},starterWeapon:"Short Sword",src:Rt,label:"Diplomat",description:"If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player"}},Gt={"Novice Adventurer":{statBoost:{},src:a.p+"static/media/novice.d700e06c.svg",label:"Novice Adventurer",description:"It's clear you're a beginner at adventuring, get used to people underestimating you until you prove them wrong!"}},Lt=Object(ae.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(6),height:e.spacing(6)}}}));function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"John Doe",t=e.split(" "),a=[];return Object(ut.forEach)(t,(function(e){a.push(e.charAt(0))})),a.join(" ")}var $t,Vt=function(){var e=Object(o.b)().user.character,t=Lt(),a=Pt(),n=function(){var e=Object(o.b)().user.character.equipped;return Object(ut.map)(Object.keys(e),(function(t){var a=e[t],n=null;return"armor"===t?n=Object(f.a)(Object(f.a)({},a),yt[a.label]):"weapon"===t||"secondaryWeapon"===t?n=St[a]||"":"accessory"===t&&(n=wt[a]||""),n}))}(),r=Gt[e.title],i=Mt[e.class];return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Dt.a,{children:Object(ue.jsxs)(qt.a,{children:[Object(ue.jsxs)(Z.a,{container:!0,children:[Object(ue.jsx)(Z.a,{item:!0,xs:3,children:Object(ue.jsx)(X.a,{className:t.large,children:Ut(e.name)})}),Object(ue.jsxs)(Z.a,{style:{textAlign:"end"},item:!0,xs:9,children:[Object(ue.jsx)(te.a,{children:e.name}),Object(ue.jsxs)(te.a,{children:["Level: ",e.level]}),Object(ue.jsxs)(te.a,{children:[e.exp," Exp"]}),Object(ue.jsxs)(te.a,{children:[e.gil," Gil"]})]}),Object(ue.jsx)(Z.a,{container:!0,style:{marginTop:"10px"},children:Object(ut.map)(n,(function(e,t){return e?Object(ue.jsx)(Z.a,{item:!0,xs:4,children:Object(ue.jsx)(Nt,{text:e.label,logo:e.src,alt:e.src})},t):null}))})]}),Object(ue.jsx)(Tt.a,{style:{color:"white",marginTop:"10px",marginBottom:"10px"}}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(At,{}),Object(ue.jsx)(Ht,{})]})]})}),Object(ue.jsxs)(ve,{children:[Object(ue.jsx)(Et,{children:Object(ue.jsx)(Z.a,{container:!0,children:Object(ut.map)(Object.keys(a),(function(e,t){var n=a[e],r="".concat(e.toUpperCase(),": ").concat(n.points);return n.statBoost>0&&(r+=" +".concat(n.statBoost)),Object(ue.jsx)(Z.a,{item:!0,xs:4,children:r},t)}))})}),Object(ue.jsx)(It,{title:r.label,text:r.description,imgSrc:r.src}),Object(ue.jsx)(It,{title:i.label,text:i.description,imgSrc:i.src})]})]})},zt=a(5),Jt=a(31),Yt=a(508),Kt=a(495),Xt=a(484),Qt=a(170),Zt=a(193),_t=a(254),ea=a.n(_t),ta=a(256),aa=a.n(ta),na=a(255),ra=a.n(na),ia=a(171),ca=a(496),oa=a(478),sa=a(154),la=a.n(sa),ua=a(492),pa=a(493),da=a(250),ba=a.n(da),ja=a.p+"static/media/fist.50aa2aec.svg",ha=[{route:"/",title:"Home",icon:Object(ue.jsx)(ba.a,{})},{route:"/Character",title:"Character",icon:Object(ue.jsx)(ua.a,{})},{route:"/Battle",title:"Battle",icon:Object(ue.jsx)(ct,{width:"7vw",src:ja,alt:"battle"})},{route:"/Store",title:"Store",icon:Object(ue.jsx)(pa.a,{})}],ma=a(482),fa=a(494),xa=a(483),Oa=function(e){var t=e.dialog,a=void 0===t?{fullScreen:!1,open:!1,setopen:function(){}}:t,n=e.children,r=e.onClick,i=void 0===r?function(){return null}:r,c=Object(ut.omit)(e,["dialog"]);function o(){return(o=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setopen(!0),e.next=3,i();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Q.a,Object(f.a)(Object(f.a)({},c),{},{onClick:function(){return o.apply(this,arguments)},children:n})),Object(ue.jsxs)(ma.a,{fullScreen:a.fullScreen,fullWidth:!0,open:a.open,onClose:function(){a.setopen(!1)},children:[Object(ue.jsx)(fa.a,{id:a.title,children:a.title}),Object(ue.jsx)(xa.a,{children:a.content})]})]})},ga=a(152),va=a(153),ya=va.a.div($t||($t=Object(ga.a)(["\nposition: absolute; \nright: 3vw;    \n:hover {\n       pointer: cursor;\n      }\n"]))),wa=a(503),ka=a(485),Sa=function(e){return Object(ut.map)(Object.keys(e),(function(t){return Object(f.a)(Object(f.a)({},e[t]),{},{value:e[t].label})}))};var Ca=a(237),Aa=a(477),Ba=a(104),Ia="misc";function Ha(e,t){var a=Object(o.b)().user,n=function(e,t){var a={misc:bt,weapon:St,armor:yt,accessory:wt}[t],n=e.character.items,r=n[t];return[Object.keys(r).reduce((function(e,t){var n=Object(Ba.a)(e),i=Object(f.a)(Object(f.a)(Object(f.a)({},a[t]),r[t]),{},{label:t,value:t});return n.push(i),n}),[]),a,n,r]}(e||a,t),r=Object(b.a)(n,3);return[r[0],r[1],r[2][t]]}function Da(e){var t=e.type,a=void 0===t?"":t,i=Object(o.b)(),c=i.user,s=i.updateContextState,l=Ha(void 0,a),u=Object(b.a)(l,3),j=u[0],h=(u[1],u[2],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.a.useState([]),a=Object(b.a)(t,2),n=a[0],i=a[1],c=r.a.useState(!0),o=Object(b.a)(c,2),s=o[0],l=o[1];function u(){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$();case 2:a=t.sent,i(Object(ut.filter)(a,(function(t){return t.uid!==e.uid}))),l(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.useEffect((function(){u()}),[]),[n,s]}()),m=Object(b.a)(h,2),f=m[0],x=m[1],O=Object(n.useState)(""),g=Object(b.a)(O,2),v=g[0],y=g[1],w=Object(n.useState)(j[0]?j[0]:""),k=Object(b.a)(w,2),S=k[0],C=k[1];function A(){return(A=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({globalLoading:!0}),e.next=3,G({userGivingItem:c,type:a,target:v,item:S});case 3:s({globalLoading:!1});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){y(f[0])}),[x]),Object(n.useEffect)((function(){var e=Object(ut.find)(j,{label:S.label}),t=Object(ut.find)(f,{label:v.label});C(e),y(t)}),[c]),v?Object(ue.jsxs)("div",{children:[0===j.length&&Object(ue.jsx)(te.a,{align:"center",children:"No items available"}),0!==j.length&&Object(ue.jsxs)(Z.a,{style:{marginTop:"30px"},container:!0,children:[Object(ue.jsxs)(Z.a,{style:{marginBottom:"30px"},item:!0,xs:12,children:[Object(ue.jsx)(Ca.a,{fullWidth:!0,id:"item",select:!0,value:S.label,onChange:function(e){var t=Object(ut.find)(j,{label:e.target.value});y(t)},children:Object(ut.map)(j,(function(e){return Object(ue.jsx)(Aa.a,{value:e.value,children:e.label},e.value)}))}),Object(ue.jsxs)(te.a,{children:["Quantity: ",S.quantity]})]}),Object(ue.jsx)(Z.a,{style:{marginBottom:"30px"},item:!0,xs:12,children:Object(ue.jsx)(Ca.a,{fullWidth:!0,id:"target",select:!0,value:v.label,onChange:function(e){var t=Object(ut.find)(f,{label:e.target.value});y(t)},children:Object(ut.map)(f,(function(e){return Object(ue.jsx)(Aa.a,{value:e.value,children:e.label},e.value)}))})}),Object(ue.jsx)(Z.a,{item:!0,xs:12,children:Object(ue.jsx)(Q.a,{variant:"outlined",fullWidth:!0,onClick:function(){return A.apply(this,arguments)},children:"Use Item"})})]})]}):null}function qa(e){var t=e.type,a=void 0===t?"":t,n=Object(o.b)(),i=n.user,c=n.updateContextState,s=Ha(void 0,a),l=Object(b.a)(s,3),u=l[0],j=l[1],h=(l[2],i.character),m=h.items,f=h.equipped,x=r.a.useState(u[0]?u[0].label:""),O=Object(b.a)(x,2),g=O[0],v=O[1];function y(){return(y=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({globalLoading:!0}),e.next=3,U({user:i,items:m,newEquip:g,type:a,itemsGameData:j});case 3:t=e.sent,v(t),c({globalLoading:!1});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(te.a,{variant:"h5",align:"center",children:Object.keys(f[a]).length>0?"Equipped: ".concat(f[a]):"Nothing Equipped"}),"            ",0===u.length&&Object(ue.jsxs)(te.a,{align:"center",children:["No other ",a,"s"]}),0!==u.length&&Object(ue.jsxs)(Z.a,{style:{marginTop:"30px"},container:!0,children:[Object(ue.jsx)(Z.a,{style:{marginBottom:"30px"},item:!0,xs:12,children:Object(ue.jsx)(Ca.a,{fullWidth:!0,id:a,select:!0,value:g,onChange:function(e){v(e.target.value)},children:Object(ut.map)(u,(function(e){return Object(ue.jsx)(Aa.a,{value:e.value,children:e.label},e.value)}))})}),Object(ue.jsx)(Z.a,{item:!0,xs:12,children:Object(ue.jsx)(Q.a,{variant:"outlined",fullWidth:!0,onClick:function(){return y.apply(this,arguments)},children:"Swap Equipped"})})]})]})}function Ta(e){var t=e.children,a=e.value,n=e.index,r=Object(Oe.a)(e,["children","value","index"]);return Object(ue.jsx)("div",Object(f.a)(Object(f.a)({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},r),{},{children:a===n&&Object(ue.jsx)(se.a,{p:3,children:t})}))}var Wa=Object(ae.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function Ea(){var e=Wa(),t=r.a.useState(0),a=Object(b.a)(t,2),n=a[0],i=a[1],c=function(){var e=Object(o.b)().user.character.items;return Object.keys(e).reduce((function(t,a){var n=Object(f.a)({},t),r=e[a],i={misc:bt,weapon:St,accessory:wt,armor:yt}[a];return n[a]=Object(ut.map)(Object.keys(r),(function(e){return Object(f.a)(Object(f.a)({},r[e]),i[e])})),n}),{})}();return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(wa.a,{variant:"scrollable",value:n,onChange:function(e,t){i(t)},"aria-label":"Vertical tabs example",className:e.tabs,children:Object(ut.map)(["Items","Weapons","Armor","Accessories","Special Items"],(function(e,t){return Object(ue.jsx)(ka.a,Object(f.a)({label:e},{id:"vertical-tab-".concat(a=t),"aria-controls":"vertical-tabpanel-".concat(a)}),e);var a}))}),Object(ue.jsx)(Ta,{value:n,index:0,children:Object(ue.jsx)(Da,{type:"misc",options:c.misc})}),Object(ue.jsx)(Ta,{value:n,index:1,children:Object(ue.jsx)(qa,{type:"weapon"})}),Object(ue.jsx)(Ta,{value:n,index:2,children:Object(ue.jsx)(qa,{type:"armor"})}),Object(ue.jsx)(Ta,{value:n,index:3,children:Object(ue.jsx)(qa,{type:"accessory"})}),Object(ue.jsx)(Ta,{value:n,index:4,children:Object(ue.jsx)(Da,{type:"specialItem",options:c.specialItem})})]})}var Na=function(e){var t=e.children,a=r.a.useState(!1),n=Object(b.a)(a,2),i=n[0],c=n[1];return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(ya,{onClick:function(){c(!0)},children:t}),Object(ue.jsxs)(ma.a,{fullWidth:!0,style:{bottom:"50vw"},open:i,onClose:function(){c(!1)},children:[Object(ue.jsx)(fa.a,{id:"Bag",children:"Bag"}),Object(ue.jsx)(xa.a,{children:Object(ue.jsx)(Ea,{})})]})]})},Fa=a.p+"static/media/bag.74d92ec9.svg",Pa=240,Ra=Object(ae.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Pa,width:"calc(100% - ".concat(Pa,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Pa,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Pa,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function Ma(e){var t,a,n=e.children,i=Ra(),c=Object(Jt.a)(),o=Object(h.f)(),s=function(e){var t;return(null===(t=Object(ut.find)(ha,{route:e}))||void 0===t?void 0:t.title)||""}(o.location.pathname),l=r.a.useState(!1),u=Object(b.a)(l,2),j=u[0],f=u[1];function x(){return(x=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsxs)("div",{className:i.root,children:[Object(ue.jsx)(ce.a,{}),Object(ue.jsx)(Kt.a,{position:"fixed",className:Object(zt.a)(i.appBar,Object(m.a)({},i.appBarShift,j)),children:Object(ue.jsxs)(Xt.a,{children:[Object(ue.jsx)(Zt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},edge:"start",className:Object(zt.a)(i.menuButton,Object(m.a)({},i.hide,j)),children:Object(ue.jsx)(ea.a,{})}),Object(ue.jsx)(te.a,{variant:"h6",noWrap:!0,children:s}),Object(ue.jsx)(Na,{children:Object(ue.jsx)(ct,{width:"40px",src:Fa,alt:"bag"})})]})}),Object(ue.jsxs)(Yt.a,{variant:"permanent",className:Object(zt.a)(i.drawer,(t={},Object(m.a)(t,i.drawerOpen,j),Object(m.a)(t,i.drawerClose,!j),t)),classes:{paper:Object(zt.a)((a={},Object(m.a)(a,i.drawerOpen,j),Object(m.a)(a,i.drawerClose,!j),a))},children:[Object(ue.jsx)("div",{className:i.toolbar,children:Object(ue.jsx)(Zt.a,{onClick:function(){f(!1)},children:"rtl"===c.direction?Object(ue.jsx)(ra.a,{}):Object(ue.jsx)(aa.a,{})})}),Object(ue.jsx)(Tt.a,{}),Object(ue.jsxs)(Qt.a,{children:[ha.map((function(e,t){return Object(ue.jsxs)(ia.a,{button:!0,children:[Object(ue.jsx)(ca.a,{onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),o.push("".concat(t))}(t,e.route)},children:e.icon}),Object(ue.jsx)(oa.a,{primary:e.title})]},t)})),Object(ue.jsx)(Tt.a,{}),Object(ue.jsxs)(ia.a,{button:!0,children:[Object(ue.jsx)(ca.a,{onClick:function(){return x.apply(this,arguments)},children:Object(ue.jsx)(la.a,{})}),Object(ue.jsx)(oa.a,{primary:"Log out"})]})]})]}),Object(ue.jsxs)("main",{className:i.content,children:[Object(ue.jsx)("div",{className:i.toolbar}),n]})]})}var Ga={sword:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}},dagger:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}},fisticuff:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}},projectile:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}},spear:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}},gun:{"Wide Slash":{useDescription:"Ap: 3",ap:3,label:"Wide Slash",rule:"Roll a d8 and deal damage to any 2 monsters next to eachother near you",description:"An experience slash that can strike two enemies if they are next to eachother"},"Pin Missle Strike":{useDescription:"Ap: 3",ap:3,label:"Pin Missle Strike",rule:"Roll a d4 twice, the amount of damage dealt is the product of the two",description:"A multi strike attack with pin point precision"},"Fire Slash":{useDescription:"Ap: 3",ap:3,label:"Fire Slash",rule:"Your attack now deals fire damage",description:"The user blesses their blade with the sun spirit, Ilumite"}}};a(125);var La=function(e){var t=e.values,a=e.type,n=void 0===a?"base":a,r=e.options,i=void 0===r?[{label:"",value:""}]:r,c=e.targets,o=void 0===c?[{label:"",value:""}]:c;return{Rows:[{Cols:[{Input:{id:n,name:n,type:"select",options:i,helperText:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(te.a,{style:{fontWeight:"bold",fontSize:"10pt"},children:"Description"}),Object(ue.jsx)(te.a,{style:{fontSize:"10pt",marginBottom:"10px"},children:t[n].description}),"Items"!==n&&Object(ue.jsxs)(ue.Fragment,{children:[" ",Object(ue.jsx)(te.a,{style:{fontWeight:"bold",fontSize:"10pt"},children:"How to use"}),Object(ue.jsx)(te.a,{style:{fontSize:"10pt",marginBottom:"10px"},children:t[n].rule}),Object(ue.jsx)(te.a,{style:{fontWeight:"bold",fontSize:"10pt"},children:"Cost"}),Object(ue.jsx)(te.a,{style:{fontSize:"10pt"},children:t[n].useDescription})]})]})}}]},{Cols:[{Input:{id:"target",name:"target",type:"select",label:"Target",options:o}}]},{Cols:[{style:{display:"flex",justifyContent:"flex-end"},Button:{id:"submit",name:"submit",type:"submit",label:"Submit",disabled:!1}}]}]}},Ua={Attack:"You dont know any specials with this weapon",Items:"No items",Spell:"You don't know any spells"},$a=[{description:"This is a description",label:"Long Sword",value:"Long Sword"},{description:"This is another description",label:"Short Sword",value:"Short Sword"}],Va=[{label:"Monster 1",value:"Monster 1"},{label:"Monster 2",value:"Monster 2"}];function za(e){var t,a=e.type,n=void 0===a?"":a,i=e.options,c=void 0===i?$a:i,o=e.targets,s=void 0===o?Va:o,l=e.onSubmit,u=void 0===l?function(){}:l,p=(t={},Object(m.a)(t,n,c[0]),Object(m.a)(t,"target",s[0]),t),d=r.a.useState(p),j=Object(b.a)(d,2),h=j[0],f=j[1];if(!c.length)return Ua[n];return Object(ue.jsx)(ne.a,{theme:ie,manualValidate:function(e){var t={};return Object.keys(e).forEach((function(a){(!e[a]||"string"===typeof e[a]&&!e[a].length)&&(t[a]="required")})),f(e),t},blueprint:La({values:h,type:n,options:c,targets:s}),initialValues:p,handleSubmit:function(e,t){window.alert(JSON.stringify(e)),u(),t.resetForm()}})}var Ja=function(e){var t=e.closeModal,a=function(){var e=Object(o.b)().user.character,t=e.techniques,a=e.equipped.weapon,n=St[a],r=Ga[n.type];console.log("log: weapon",{listOfAttacks:r,weapon:a,equippedWeapon:n});var i=[];return Object(ut.forEach)(t.attacks,(function(e){r[e]&&i.push(Object(f.a)(Object(f.a)({},r[e]),{},{value:r[e].label}))})),i}();return Object(ue.jsx)(za,{onSubmit:function(){t()},type:"Attack",options:a})},Ya=function(e){var t=e.closeModal,a=Ha(void 0,Ia),n=Object(b.a)(a,1)[0];return Object(ue.jsx)(za,{options:n,onSubmit:t,type:"Items"})},Ka=function(e){return{useDescription:"Mp: 4",label:"".concat(e," Ball"),description:"A sphere made of ".concat(e,", hurled at an enemy 3 meters in the users line of vision"),element:e.toLowerCase(),rule:"Roll a d8 dice and deal damage equal to that result + elemental damage",mp:4}},Xa={"Fire Ball":Ka("Fire"),"Ice Ball":Ka("Ice"),"Thunder Ball":Ka("Thunder"),"Shadow Ball":Ka("Shadow"),"Lumen Ball":Ka("Lumen"),"Wind Ball":Ka("Wind"),Heal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hp+10",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a={label:"Heal Ball",stat:e,element:"heal",mp:t};return a}()};var Qa=function(e){var t=e.closeModal,a=function(){var e=Object(o.b)().user.character.techniques;return Object(ut.map)(e.spells,(function(e){return Object(f.a)(Object(f.a)({},Xa[e]),{},{value:Xa[e].label})}))}();return Object(ue.jsx)(za,{onSubmit:function(){t()},type:"Spell",options:a})},Za=function(){var e=Object(o.b)().user.character,t=e.ap,a=e.maxAp,n=e.equipped.armor,r=void 0===n?{ap:0}:n,i=Ct("weapon"),c=Ct("accessory");Pt();return Object(ue.jsx)(te.a,{children:"AP: ".concat(t+(r.ap||0)+(i.ap||0)+(c.ap||0),"/").concat(a)})},_a={wolf:{common:{Slash:{label:"Slash",damage:jt(1,4),description:"",element:"normal",mp:0},Bite:{label:"Bite",damage:jt(1,4),description:"",element:"normal",mp:0},Growl:{label:"Growl",damage:jt(0,0),description:"",element:"normal",mp:0},Headbutt:{label:"Headbutt",damage:jt(1,4),description:"",element:"normal",mp:0}},special:{"Grand Slash":{label:"Grand Slash",damage:jt(6,10),description:"",element:"normal",mp:0},"Monster Howl":{label:"Monster Howl",damage:jt(1,4),description:"",element:"normal",mp:0},"Dark Bite":{label:"Dark Bite",damage:jt(6,20),description:"",element:"shade",mp:0},"Shadow Ball":{label:"Shadow Ball",damage:jt(12,20),description:"",element:"shade",mp:0}}},bear:{common:{Slash:{label:"Slash",damage:jt(1,4),description:"",element:"normal",mp:0},Bite:{label:"Bite",damage:jt(1,4),description:"",element:"normal",mp:0},Headbutt:{label:"Headbutt",damage:jt(1,4),description:"",element:"normal",mp:0},Swipe:{label:"Swipe",damage:jt(1,4),description:"",element:"normal",mp:0}},special:{"Force Claw":{label:"Force Claw",damage:jt(5,9),description:"",element:"normal",mp:0},"Ferocious Fury":{label:"Ferocious Fury",damage:jt(1,4),description:"",element:"normal",mp:0},"Grand Blade":{label:"Grand Blade",damage:jt(0,0),description:"",element:"normal",mp:0},"Earth Blast":{label:"Earth Blast",damage:jt(1,4),description:"",element:"normal",mp:0}}},snake:{common:{Bite:{label:"Bite",damage:jt(1,4),description:"",element:"normal",mp:0},Wrap:{label:"Wrap",damage:jt(0,0),description:"",element:"normal",mp:0},Headbutt:{label:"Headbutt",damage:jt(1,4),description:"",element:"normal",mp:0}},special:{"Venomous Bite":{label:"Venomous Bite",damage:jt(1,4),description:"",element:"normal",mp:0},"Buried Assault":{label:"Buried Assault",damage:jt(1,4),description:"",element:"normal",mp:0},"Acid Spit":{label:"Acid Spit",damage:jt(0,0),description:"",element:"normal",mp:0},"Petrify Stare":{label:"Petrify Stare",damage:jt(1,4),description:"",element:"normal",mp:0}}},slime:{common:{Tackle:{label:"Tackle",damage:jt(1,4),description:"",element:"normal",mp:0},Bounce:{label:"Bounce",damage:jt(1,4),description:"",element:"normal",mp:0}},special:{"Super Tackle":{label:"Super Tackle",damage:jt(1,4),description:"",element:"normal",mp:0},"Super Bounce":{label:"Super Bounce",damage:jt(1,4),description:"",element:"normal",mp:0},"Super Fire Ball":{label:"Super Fire Ball",damage:jt(1,4),description:"",element:"normal",mp:0},"Super Thunder Bolt":{label:"Super Thunder Bolt",damage:jt(1,4),description:"",element:"normal",mp:0}}},goblin:{common:{Scratch:{label:"Scratch",damage:jt(1,4),description:"",element:"normal",mp:0},Strike:{label:"Strike",damage:jt(1,4),description:"",element:"normal",mp:0},"Eye Poke":{label:"Eye Poke",damage:jt(0,0),description:"",element:"normal",mp:0},Cry:{label:"Cry",damage:jt(1,4),description:"",element:"normal",mp:0}},special:{"Emperor Assault":{label:"Emperor Assault",damage:jt(1,4),description:"",element:"normal",mp:0},Heal:{label:"Heal",damage:jt(1,4),description:"",element:"normal",mp:0},"Fire Ball":{label:"Fire Ball",damage:jt(0,0),description:"",element:"normal",mp:0}}}},en=a.p+"static/media/wolf.c4291b28.svg",tn={wolf:{"Young Dire Wolf":{src:en,name:"Young Dire Wolf",type:"wolf",description:"",level:5,hp:25,mp:20,attackConfig:{common:2,special:0}},"Dire Wolf":{src:en,name:"Dire Wolf",type:"wolf",description:"",level:9,hp:25,mp:20,attackConfig:{common:2,special:0}},special:{"Grand Dire Wolf":{src:en,name:"Grand Dire Wolf",type:"wolf",description:"",level:14,hp:25,mp:20,attackConfig:{attacks:["Grand Slash","Dark Bite"]}},"King Dire Wolf":{src:a.p+"static/media/kingDireWolf.4db17a12.svg",name:"King Dire Wolf",type:"wolf",description:"",level:25,hp:25,mp:20,attackConfig:{attacks:["Grand Slash","Monster Howl","Dark Bite","Shadow Ball"]}}}},bear:{"Cub Soldier":{src:en,name:"Cub Soldier",type:"bear",description:"",level:5,hp:25,mp:20,attackConfig:{common:2,special:0}},"Bear Scout":{src:en,name:"Bear Scout",type:"bear",description:"",level:8,hp:25,mp:20,attackConfig:{common:2,special:0}},"Bear Soldier":{src:en,name:"Bear Soldier",type:"bear",description:"",level:12,hp:25,mp:20,attackConfig:{common:2,special:1}},special:{"Bear Leutinant":{src:en,name:"Bear Leutinant",type:"bear",description:"",level:16,hp:25,mp:20,attackConfig:{common:2,special:2}},"Bear Captain":{src:en,name:"Bear Captain",type:"bear",description:"",level:20,hp:25,mp:20,attackConfig:{attacks:["Force Claw","Power Slash","Grand Blade"]}},"Bear General":{src:en,name:"Bear General",type:"bear",description:"",level:25,hp:25,mp:20,attackConfig:{attacks:["Force Claw","Ferocious Fury","Grand Blade","Earth Blast"]}}}},snake:{"Aba Cobra":{src:en,name:"Aba Cobra",type:"snake",description:"",level:5,hp:25,mp:20,attackConfig:{common:2,special:1}},"Abdu Cobra":{src:en,name:"Abdu Cobra",type:"snake",description:"",level:10,hp:25,mp:20,attackConfig:{common:2,special:1}},special:{"Abdura Cobra":{src:en,name:"Abdura Cobra",type:"snake",description:"",level:20,hp:25,mp:20,attackConfig:{attacks:["Venomous Bite","Buried Assault","Acid Spit","Petrify Stare"]}}}},slime:{"Blue Slime":{src:en,name:"Blue Slime",type:"slime",description:"",level:5,hp:25,mp:20,attackConfig:{common:2,special:0}},"Red Slime":{src:en,name:"Red Slime",type:"slime",description:"",level:10,hp:25,mp:20,attackConfig:{common:2,special:0}},special:{"King Slime":{src:en,name:"King Slime",type:"slime",description:"",level:30,hp:25,mp:20,attackConfig:{common:2,special:3}}}},goblin:{Goblin:{src:en,name:"Goblin",type:"globlin",description:"",level:9,hp:25,mp:20,attackConfig:{common:2,special:1}},"Warrior Goblin":{src:en,name:"Warrior Goblin",type:"globlin",description:"",level:16,hp:25,mp:20,attackConfig:{common:2,special:2}},special:{"Emperor Goblin":{src:en,name:"Emperor Goblin",type:"globlin",description:"",level:25,hp:25,mp:20,attackConfig:{attacks:["Emperor Assault","Heal","Fire Ball"]}}}}};function an(e){var t=e.type,a=void 0===t?"wolf":t,n=e.level,r=void 0===n?5:n,i=e.attackConfig,c=void 0===i?{common:2,special:1}:i,o={type:a,level:r,attacks:[],exp:5.5*r},s=_a[a],l=Object.keys(s.common),u=Object.keys(s.special);if(c.attacks)Object(ut.forEach)(c.attacks,(function(e){o.attacks.push(s.special[e])})),Object(ut.forEach)(l,(function(e){var t=s.common[e];o.attacks.push(t)}));else{for(var p=0;p<c.common;p++){var d=jt(0,l.length-1),b=s.common[l[d]];o.attacks.push(b),l.splice(d,1)}for(var j=0;j<c.special;j++){var h=jt(0,u.length-1),x=s.special[u[h]];o.attacks.push(x),u.splice(h,1)}}return Object(f.a)(Object(f.a)({},o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Object.keys(pt).reduce((function(t,a){var n=Object(f.a)({},t),r=jt(9,14);return e>5&&e<=10&&(r=jt(10,15)),e>10&&e<=15&&(r=jt(12,16)),e>15&&e<=20&&(r=jt(14,20)),e>20&&(r=jt(20,25)),Object(f.a)(Object(f.a)({},n),{},Object(m.a)({},a,r))}),{})}(r))}function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wolf:3,bear:2,special:["Grand Dire Wolf"]},t=Object.keys(e),a=t.reduce((function(t,a,n){var r=0===n?[]:Object(Ba.a)(t),i=tn[a],c=e[a],o=Object.keys(tn[a]||{});if(o.pop(),"special"===a){var s=ht(tn);Object(ut.forEach)(e.special,(function(e){Object(ut.forEach)(s,(function(t){t[e]&&r.push(Object(f.a)(Object(f.a)({},t[e]),{},{name:"".concat(t[e].name," ").concat(n)},an(t[e])))}))}))}else for(var l=0;l<c;l++){var u=o[jt(0,o.length-1)],p=Object(f.a)(Object(f.a)({},i[u]),{},{name:"".concat(i[u].name," ").concat(l)},an(i[u]));r.push(p)}return r}),[]),n=0;return Object(ut.forEach)(a,(function(e){n+=e.exp})),{monsters:a,exp:Math.round(n)}}var rn={tutorialBattle1:{monsters:nn({wolf:4}).monsters,rewards:{exp:nn({wolf:4}).exp,items:mt(["2Potion"])}},tutorialBattle2:{monsters:nn({wolf:2,special:["Grand Dire Wolf"]}).monsters,rewards:{exp:nn({wolf:2,special:["Grand Dire Wolf"]}).exp,items:mt(["2Potion"])}}},cn=function(e){var t=e.monster;return console.log("log: monster",t),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(te.a,{children:t.name}),Object(ue.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ue.jsx)("img",{style:{width:"40vw"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAmBAMAAACi8w9qAAAAIVBMVEUgICAISGBYOAgIgIgwqKDYYGCggBDg0ADY0Lj4vyQAAABtaUYvAAAAC3RSTlP///////////8AANlr/IAAAAGXSURBVHicbZKxbuQgEIbHN8iHO6+gSBl5pdSzYR8A5ClS5hGsFNSbKikt3UnZclq/7Q25OIHLucDw8cP8/ABb8wnAx7/B0Dk3fOeQnPuPXtgH2L7zLqV9WPMiHyoOu4c0l6JqadBGgJmh6MxhJlVhCKTU8DRNHAtPiTaZ76fpGADkR84Zzro0jqo31Of8pPpN+rwEVKVxQKI9lb3XlYx3iIPxPiBif+yXv35kuV/oSJzYUbilJ/rgG96VmdvkqdB8HHbeQ7+wSVw2hx53LmIhm/OBXegXC/KVA7zqOdjPDuylzhl/XtWOd8G+Yc1FXlajeni7SJOnPHvS/NJ4aXOWLs3hnD4vYOcGtWxidTrUXGI8e817JqKGezaaAzsMY81NV46r94iu8dmZSIqZKDTcmBghpQgtl8iGLoc0lguiL27XZDS5uV8Qx+vwyQHYzJBOhKqHodqfo7p3+kJOoanrHzqdCCcbTg3nG/Aa/2hdaPw8rLJyoFWujZ/fasICWG1/1X6sElkfV5XY2g+IDmxRvvf+ef91/w9tFkjHdEgU+wAAAABJRU5ErkJggg==",alt:""})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(At,{}),Object(ue.jsx)(Ht,{})]})]})},on=Object(ae.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function sn(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)({}),a=Object(b.a)(t,2),r=a[0],i=a[1];function c(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(rn[e]);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){c()}),[]),r||{battle:{}}}("tutorialBattle1"),t=e.monsters,a=r.a.useState(null),i=Object(b.a)(a,2),c=i[0],o=i[1];var s=on();return r.a.useEffect((function(){e.monsters&&J(e)}),[e]),t?Object(ue.jsxs)(ue.Fragment,{children:[null!==c&&Object(ue.jsx)(cn,{monster:c,close:function(){o(null)}}),Object(ue.jsx)("div",{className:s.root,children:!c&&Object(ue.jsx)(Qt.a,{component:"nav","aria-label":"monster-list",children:Object(ut.map)(t,(function(e,a){return Object(ue.jsxs)(r.a.Fragment,{children:[Object(ue.jsxs)(ia.a,{button:!0,onClick:function(){return o(e)},children:[Object(ue.jsx)(ca.a,{children:Object(ue.jsx)(ct,{width:"50px",src:e.src})}),Object(ue.jsx)(oa.a,{primary:e.name})]}),void 0!==t[a+1]&&Object(ue.jsx)(Tt.a,{})]},a)}))})})]}):null}var ln=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!1),c=Object(b.a)(i,2),o=c[0],s=c[1],l=r.a.useState(!1),u=Object(b.a)(l,2),p=u[0],d=u[1];return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(sn,{}),Object(ue.jsxs)(Z.a,{style:{textAlign:"center",marginTop:"50vw"},container:!0,children:[Object(ue.jsx)(Z.a,{item:!0,xs:6,children:Object(ue.jsx)(Oa,{dialog:{open:a,setopen:n,title:"Attacks",content:Object(ue.jsx)(Ja,{closeModal:function(){return n(!1)}})},fullWidth:!0,variant:"outlined",children:"Attack"})}),Object(ue.jsx)(Z.a,{item:!0,xs:6,children:Object(ue.jsx)(Oa,{dialog:{open:o,setopen:s,title:"Spells",content:Object(ue.jsx)(Qa,{closeModal:function(){return s(!1)}})},fullWidth:!0,variant:"outlined",children:"Spell"})}),Object(ue.jsx)(Z.a,{item:!0,xs:6,children:Object(ue.jsx)(Oa,{dialog:{title:"Items",content:Object(ue.jsx)(Ya,{closeModal:function(){return d(!1)}}),open:p,setopen:d},fullWidth:!0,variant:"outlined",children:"Items"})}),Object(ue.jsx)(Z.a,{item:!0,xs:6,children:Object(ue.jsx)(Oa,{fullWidth:!0,variant:"outlined",children:"Evade"})})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(At,{}),Object(ue.jsx)(Ht,{}),Object(ue.jsx)(Za,{})]})]})},un=function(){return Object(ue.jsx)("div",{children:"CharacterPage"})},pn=a(509),dn=a(498),bn=a(505),jn=a(499),hn={title:"Novice Adventurer",ap:10,class:"Knight",equipped:{accessory:"",armor:{},weapon:"Long Sword",secondaryWeapon:""},exp:0,gil:0,hp:10,mp:10,items:{misc:{},weapon:{},armor:{},accessory:{},specialItem:{}},level:1,maxAp:10,maxHp:10,maxMp:10,stats:{},techniques:{attacks:{sword:[],bow:[],spear:[],fisticuff:[],projectile:[],gun:[]},spells:[]},dmMessage:{hint:null,innerThoughts:null}},mn=function(e){return{Rows:[{Cols:[{Input:{id:"class",name:"class",type:"select",label:"class",variant:"filled",options:e}}]}]}},fn=function(e){var t=e.createUserObj,a=e.updateCharacter,n={class:t.class},r=Object(ut.map)(Object.keys(Mt),(function(e){var t=Mt[e];return Object(f.a)(Object(f.a)({},t),{},{value:t.label})}));return Object(ue.jsx)("div",{children:Object(ue.jsx)(ne.a,{theme:ie,manualValidate:function(e){var n={};return Object.keys(e).forEach((function(r){var i=e[r];if(!i||"string"===typeof i&&!i.length)a({class:null}),n[r]="required";else if("class"===r){Object(ut.forEach)(Object.keys(t.stats),(function(e){t.stats[e].points=10}));var c=Object.keys(i.statBoost)[0],o=i.statBoost[c],s=t.stats[c],l=s.points;a({class:i.label,stats:Object(f.a)(Object(f.a)({},t.stats),{},Object(m.a)({},c,Object(f.a)(Object(f.a)({},s),{},{points:l+o})))})}})),n},blueprint:mn(r),initialValues:n})})},xn=a(497),On=a(257),gn=a.n(On),vn=Object(ae.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),yn=function(e){var t=e.updateCharacterStat,a=e.stat,r=e.availablePoints,i=e.setavailablePoints,c=Object(n.useState)(a.points-10),o=Object(b.a)(c,2),s=o[0],l=o[1],u=s>=3?"green":"red";var p=r?5:s,d=a.statBoost?"(Roll +".concat(a.statBoost,")"):"";return Object(ue.jsxs)("div",{style:{textAlign:"center"},children:[Object(ue.jsxs)(ia.a,{alignItems:"flex-start",children:[Object(ue.jsx)(xn.a,{children:Object(ue.jsx)(X.a,{alt:a.abbr,children:a.abbr})}),Object(ue.jsx)(oa.a,{primary:"".concat(a.label,": ").concat(a.points," ").concat(d),secondary:a.description})]},a.abbr),Object(ue.jsx)(gn.a,{onChange:function(e){l((function(n){var c=r-1,o=1;return(r<=0||n>e)&&(c=r+1,o=-1),i(c),t(a.abbr,o),e}))},style:{input:{fontSize:"14pt",color:u,width:"100px",height:"40px"}},mobile:!0,min:0,max:p,value:s})]})};function wn(e){var t=e.updateCharacter,a=e.createUserObj,n=e.availablePoints,r=e.setavailablePoints,i=vn(),c=Ft(a.stats);function o(e,a){var n=Object(f.a)({},c);n[e].points=n[e].points+a,t({stats:Ft(n)})}return Object(ue.jsxs)(Qt.a,{className:i.root,children:[Object(ue.jsx)("p",{children:n}),Object(ut.map)(Object.keys(c),(function(e,t){var i=Object(f.a)(Object(f.a)({},a.stats[e]),{},{abbr:e});return Object(ue.jsx)(yn,{updateCharacterStat:o,stat:i,availablePoints:n,setavailablePoints:r},t)}))]})}var kn=function(e){return{Rows:[{Cols:[{Input:{id:"weapon",name:"weapon",type:"select",label:"Weapon",variant:"filled",options:e}}]}]}},Sn=function(e){var t=e.initialValues,a=e.createUserObj,n=e.updateCharacter,r=(a.equipped.weapon,Object.keys(St).map((function(e){return{label:e,value:e}})));return Object(ue.jsx)("div",{children:Object(ue.jsx)(ne.a,{theme:ie,manualValidate:function(e){var t={};return Object.keys(e).forEach((function(r){(!e[r]||"string"===typeof e[r]&&!e[r].length)&&(t[r]="required"),"weapon"===r&&n({equipped:Object(f.a)(Object(f.a)({},a.equipped),{},{weapon:e[r].value})})})),t},blueprint:kn(r),initialValues:t})})},Cn=function(e){e.createUserObj;return Object(ue.jsx)("div",{})},An=Object(ae.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));function Bn(){var e=Object(o.b)().user,t=Object(h.f)(),a=An(),i=Object(n.useState)(0),c=Object(b.a)(i,2),s=c[0],l=c[1],u=["Select a Class","Choose Your Stats","Choose a Weapon","Create Character"],j=Object(n.useState)(Object(f.a)(Object(f.a)({},hn),{},{name:e.displayName,stats:pt})),x=Object(b.a)(j,2),O=x[0],g=x[1],y=Object(n.useState)(10),w=Object(b.a)(y,2),k=w[0],S=w[1],C=function(){var e=Object(o.b)(),t=e.user,a=e.updateContextState;function n(){return(n=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,n);case 2:r=e.sent,console.log("log: useUpdateCharacter",{user:t,updates:n}),a({user:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return[function(e){return n.apply(this,arguments)}]}(),A=Object(b.a)(C,1)[0];function B(){var e=!1;return O.class||(e="Please select a class"),O.equipped.weapon||(e="Please select a weapon"),O.equipped.weapon||(e="Please select a weapon"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requirement:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stats:{}},a=!1;return Object(ut.forEach)(Object.keys(t.stats),(function(n){var r=t.stats[n].points,i=e.requirement[n],c=!Object.keys(e.requirement).length;(i&&r>=i||c)&&(a=!0)})),a}(St[O.equipped.weapon],O)||(e="You are not able to use this weapon"),e}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(f.a)({},O);Object(ut.forEach)(Object.keys(e),(function(a){t[a]=e[a]})),g(t)}var H=function(){if(B()&&2===s)return v({type:"error",content:B()});l((function(e){return e+1}))},D=function(){l((function(e){return e-1}))};function q(e){switch(e){case 0:return Object(ue.jsx)(fn,{createUserObj:O,updateCharacter:I});case 1:return Object(ue.jsx)(wn,{createUserObj:O,updateCharacter:I,availablePoints:k,setavailablePoints:S});case 2:return Object(ue.jsx)(Sn,{createUserObj:O,updateCharacter:I,initialValues:{weapon:O.equipped.weapon}});case 3:return Object(ue.jsx)(Cn,{createUserObj:O});default:return"Unknown step"}}function T(){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(f.a)(Object(f.a)({},O),{},{stats:Object.keys(O.stats).reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},t,O.stats[t].points))}),{})}),e.next=4,A({character:a});case 4:t.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("log: error",e.t0);case 10:console.log("log: handleSubmit",{createUserObj:O});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return r.a.useEffect((function(){console.log("log: checkIfCharacterExists user",e),e.character?t.replace("/"):e.uid||t.replace("/sign-in")}),[e]),Object(ue.jsx)(de,{children:Object(ue.jsx)("div",{className:a.root,children:Object(ue.jsx)(pn.a,{activeStep:s,orientation:"vertical",children:u.map((function(e,t){return Object(ue.jsxs)(dn.a,{children:[Object(ue.jsx)(bn.a,{onClick:function(){return function(e){if(B()&&3===e)return v({type:"error",content:B()});l(e)}(t)},children:e}),Object(ue.jsxs)(jn.a,{children:[q(t),Object(ue.jsx)("div",{className:a.actionsContainer,children:Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Q.a,{disabled:0===s,onClick:D,className:a.button,children:"Back"}),Object(ue.jsx)(Q.a,{variant:"contained",color:"primary",onClick:s===u.length-1?T:H,className:a.button,children:s===u.length-1?"Finish":"Next"})]})})]})]},e)}))})})})}var In,Hn=a(500),Dn=a(431),qn=a(481),Tn={John:{name:"John",alliance:"good",occupation:"CIA Agent"}},Wn={"Chapter 1":{characters:[Tn.John],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",battles:{tutorialBattle1:rn.tutorialBattle1,tutorialBattle2:rn.tutorialBattle2},results:""},"Chapter 2":{characters:[Tn.John],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",battles:{tutorialBattle1:rn.tutorialBattle1,tutorialBattle2:rn.tutorialBattle2},results:""},"Chapter 3":{characters:[Tn.John],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",battles:{tutorialBattle1:rn.tutorialBattle1,tutorialBattle2:rn.tutorialBattle2},results:""}},En=a(258),Nn=a.n(En),Fn=va.a.div(In||(In=Object(ga.a)(["\nmargin: 25px;\n\n"]))),Pn=function(e){var t=e.defaultData,a=e.onSave,n=void 0===a?function(){return null}:a,r=e.label,i=void 0===r?"Start typing...":r;return Object(ue.jsx)(Fn,{children:Object(ue.jsx)(Nn.a,{onSave:function(e){n(e)},defaultValue:t,label:i})})};function Rn(){var e=Object(o.b)().users,t=Object(ut.map)(e,(function(e){return Object(f.a)(Object(f.a)({},e),{},{label:e.character.name,value:e.character.name})}));return{options:Object(Ba.a)(t),users:e}}var Mn=Object(ae.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Gn=function(){var e=Mn(),t=Object(n.useState)(!0),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({}),s=Object(b.a)(c,2),l=s[0],u=s[1],j=function(){var e=Object(o.b)(),t=e.isGlobalLoading,a=e.updateContextState;return[t,function(e){a({isGlobalLoading:e})}]}(),h=Object(b.a)(j,2),m=h[0],f=h[1];function x(e){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Y(t);case 3:a=e.sent,u({label:t,notes:a.notes}),f(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(l.label,t,"notes");case 2:console.log("log: handleNoteSave",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("Chapter 1");case 2:t=e.sent,u({label:"Chapter 1",notes:t.notes}),i(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),r?null:Object(ue.jsxs)(Z.a,{container:!0,children:[Object(ue.jsx)(Z.a,{style:{maxHeight:500,overflow:"scroll"},item:!0,xs:6,children:Object(ue.jsx)(Qt.a,{children:Object(ut.map)(Object.keys(Wn),(function(e){return Object(ue.jsx)(ia.a,{children:Object(ue.jsxs)(Dt.a,{style:{margin:"25px"},children:[Object(ue.jsxs)(qt.a,{children:[Object(ue.jsx)(te.a,{align:"center",variant:"h5",component:"h2",children:e}),Object(ue.jsx)(te.a,{variant:"h5",color:"textSecondary",children:"Story"}),Object(ue.jsx)(Tt.a,{}),Object(ue.jsxs)(te.a,{variant:"h6",children:[Wn[e].description,Object(ue.jsx)("br",{})]})]}),Object(ue.jsx)(Hn.a,{children:Object(ue.jsx)(Q.a,{onClick:Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(e));case 1:case"end":return t.stop()}}),t)}))),fullWidth:!0,children:"Start Chapter"})})]})},e)}))})}),Object(ue.jsxs)(Z.a,{style:{border:"1px solid"},item:!0,xs:6,children:[Object(ue.jsxs)(te.a,{variant:"h5",align:"center",children:[l.label," Notes"]}),Object(ue.jsx)(Pn,{defaultData:l.notes,onSave:function(e){return g.apply(this,arguments)}})]}),Object(ue.jsx)(Dn.a,{className:e.backdrop,open:m,children:Object(ue.jsx)(qn.a,{color:"inherit"})})]})},Ln=a(511),Un=a(512),$n=a(513),Vn=a(259),zn=a.n(Vn),Jn=a(173),Yn=a.n(Jn),Kn=a(260),Xn=a.n(Kn),Qn=a(261),Zn=a.n(Qn),_n=a(262),er=a.n(_n),tr=function(){var e,t=Rn().options;return Object(ue.jsx)(ne.a,{theme:ie,blueprint:(e={options:t},{Rows:[{Cols:[{Input:{id:"target",name:"target",type:"select",label:"Target",options:e.options}}]},{Cols:[{Input:{id:"hint",name:"hint",type:"text",label:"Hint"}}]},{Cols:[{Input:{id:"innerThoughts",name:"innerThoughts",type:"text",label:"Inner Thoughts"}}]},{Cols:[{style:{display:"flex",justifyContent:"flex-end"},Button:{id:"submit",name:"submit",type:"submit",label:"Submit",disabled:!1}}]}]}),initialValues:{hint:"",innerThoughts:"",target:t[0]},handleSubmit:function(e,t){window.alert(JSON.stringify(e)),t.resetForm()}})};var ar=function(e){var t=e.options,a=e.itemTypes,n=e.availableItems,r=e.setavailableItems,i=e.allItems;return{Rows:[{Cols:[{Input:{id:"itemType",name:"itemType",type:"select",label:"Item Type",options:a,onChange:function(e){var t=e.value,a=e.formHandler,n=i[t.label];n&&(r(n),a.setFieldValue("availableItem",n[0]))}}}]},{Cols:[{Input:{id:"availableItem",name:"availableItem",type:"select",label:"Items",options:n}}]},{Cols:[{Input:{id:"target",name:"target",type:"select",label:"Target",options:t}}]},{Cols:[{Input:{id:"quantity",name:"quantity",type:"number",label:"Amount"}}]},{Cols:[{Input:{id:"targetAll",name:"targetAll",type:"checkbox",label:"Give to all"}}]},{Cols:[{style:{display:"flex",justifyContent:"flex-end"},Button:{id:"submit",name:"submit",type:"submit",label:"Submit",disabled:!1}}]}]}},nr=function(){var e=Rn(),t=e.options,a=e.users;console.log("log: user",{users:a});var n=t[0],i=function(e){var t=e.character.items;return Object.keys(t).reduce((function(e,t){var a={misc:bt,weapon:St,accessory:wt,armor:yt,specialItem:{}}[t];return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},t,Sa(a)))}),{})}(n),c=Object(ut.map)(Object.keys(i),(function(e){return{label:e,value:e}})),o={targetAll:!1,quantity:1,availableItem:i.misc[0],itemType:Object(ut.find)(c,{label:"misc"}),target:n},s=r.a.useState(o),l=Object(b.a)(s,2),u=l[0],j=l[1],h=r.a.useState(i.misc),x=Object(b.a)(h,2),O=x[0],g=x[1],y=function(e,t){var a=Ha(e,t),n=Object(b.a)(a,2),r=(n[0],n[1]),i=e.character.items[t];function c(){return(c=Object(d.a)(p.a.mark((function a(){var n,c,o=arguments;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:["3_Potion"],c=Object(f.a)({},i),Object(ut.forEach)(n,(function(e){var t=e.split("_"),a=Object(b.a)(t,2),n=a[0],o=a[1],s=Number(n),l=Object(f.a)(Object(f.a)({},r[o]),{},{quantity:s}),u=i[o];if(console.log("log: user, newItems, type",{itemToAdd:l,characterDbItems:i,itemsCharacterIsCarrying:u}),u){var p=u.quantity;s>0&&(p+=l.quantity),s<0&&(p-=l.quantity),p<0&&(p=0),u.quantity=p}else c[o]=l})),console.log("log: newItems",{newItems:c,user:e,type:t}),a.next=6,L(e,c,t);case 6:v({type:"success",content:"Successfully given ".concat(e.displayName," items")});case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return[function(){return c.apply(this,arguments)}]}(u.target,u.itemType.label),w=Object(b.a)(y,1)[0],k=function(e){var t=Rn().options;function a(){return(a=Object(d.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("log: options",{type:e,options:t}),a.next=3,H();case 3:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return[function(){return a.apply(this,arguments)}]}(u.itemType.label),S=Object(b.a)(k,1)[0];function C(){return(C=Object(d.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(a.quantity,"_").concat(a.availableItem.label),console.log("log: submit",{submitConfig:[a.target,a.itemType.label],reqString:r}),!a.targetAll){e.next=7;break}return e.next=5,S(t);case 5:e.next=9;break;case 7:return e.next=9,w([r]);case 9:n.resetForm();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ue.jsx)(ne.a,{theme:ie,manualValidate:function(e){return j(e)},blueprint:ar({availableItems:O,setavailableItems:g,options:t,itemTypes:c,allItems:i}),initialValues:o,handleSubmit:function(e,t){return C.apply(this,arguments)}})},rr=Object(ae.a)((function(e){return{speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),ir=[{icon:Object(ue.jsx)(zn.a,{}),name:"Hint"},{icon:Object(ue.jsx)(Yn.a,{}),name:"Item"},{icon:Object(ue.jsx)(Xn.a,{}),name:"Start Battle"},{icon:Object(ue.jsx)(Zn.a,{}),name:"Characters"},{icon:Object(ue.jsx)(er.a,{}),name:"Like"}];function cr(){var e=rr(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],i=a[1],c=r.a.useState(!1),o=Object(b.a)(c,2),s=o[0],l=o[1];var u={Hint:Object(ue.jsx)(tr,{}),Item:Object(ue.jsx)(nr,{}),"Start Battle":Object(ue.jsx)("div",{children:"Start Battle"}),Characters:Object(ue.jsx)("div",{children:"Characters"})};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Ln.a,{ariaLabel:"SpeedDial example",className:e.speedDial,icon:Object(ue.jsx)(Un.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:n,direction:"up",children:ir.map((function(e){return Object(ue.jsx)($n.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(){return l(e.name)}},e.name)}))}),Object(ue.jsxs)(ma.a,{open:void 0!==u[s],onClose:function(){l("")},children:[Object(ue.jsx)(fa.a,{id:s}),Object(ue.jsx)(xa.a,{children:u[s]})]})]})}var or=function(e){var t=e.dmUser,a=Object(h.f)(),n=Object(o.b)(),i=n.users,c=n.updateContextState,s=r.a.useState(0),l=Object(b.a)(s,2),u=l[0],j=l[1];function m(){return(m=Object(d.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:a=e.sent,console.log("log: dmUser",t),c({users:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){!function(){m.apply(this,arguments)}()}),[]),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Kt.a,{position:"static",children:Object(ue.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ue.jsxs)(wa.a,{value:u,onChange:function(e,t){j(t)},"aria-label":"simple tabs example",children:[Object(ue.jsx)(ka.a,Object(f.a)({label:"Story"},lr(0))),Object(ue.jsx)(ka.a,Object(f.a)({label:"Item Two"},lr(1))),Object(ue.jsx)(ka.a,Object(f.a)({label:"Item Three"},lr(2)))]}),Object(ue.jsx)(Zt.a,{onClick:function(){I(),a.replace("/sign-in")},color:"inherit","aria-label":"signout",children:Object(ue.jsx)(la.a,{})})]})}),Object(ue.jsx)(sr,{value:u,index:0,children:Object(ue.jsx)(Gn,{})}),Object(ue.jsx)(sr,{value:u,index:1,children:"Item Two"}),Object(ue.jsx)(sr,{value:u,index:2,children:"Item Three"}),i.length>0&&Object(ue.jsx)(cr,{})]})};function sr(e){var t=e.children,a=e.value,n=e.index,r=Object(Oe.a)(e,["children","value","index"]);return Object(ue.jsx)("div",Object(f.a)(Object(f.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(ue.jsx)(se.a,{p:3,children:t})}))}function lr(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ur=function(){return Object(ue.jsx)(o.a,{stateConfig:{users:[],isGlobalLoading:!1},children:Object(ue.jsx)(de,{maxWidth:"xl",children:Object(ue.jsx)(or,{})})})},pr=function(e){var t=e.children,a=Object(Oe.a)(e,["children"]),n=Object(o.b)().user,i=Object(h.f)(),c=!!n.uid;return r.a.useEffect((function(){!function(){var e=null;c||(e="/sign-in"),n.DM?e="/DM":c&&!n.character&&(e="/create"),e&&i.replace(e)}()}),[]),Object(ue.jsx)(h.a,Object(f.a)(Object(f.a)({},a),{},{render:function(){return n.DM?Object(ue.jsx)(ur,{dmUser:n}):c&&n.character?t:c&&!n.character?Object(ue.jsx)(Bn,{}):c?void 0:Object(ue.jsx)(xe,{})}}))};function dr(){var e=Object(o.b)(),t=e.user,a=e.updateContextState,r=Object(n.useState)(!0),i=Object(b.a)(r,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){w.onAuthStateChanged(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:n=e.t0,a({user:n}),s(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){c||(k.collection("DM").onSnapshot((function(e){e.docChanges().forEach((function(e){var t=e.doc.data();e.type,"modified"===e.type&&console.log("log: data",t),e.type}))})),function(e,t){k.collection("users").onSnapshot((function(a){a.docChanges().forEach((function(a){var n=a.doc.data();if(t.uid===n.uid){if(a.type,"modified"===a.type){var r,i=(null===(r=n.character)||void 0===r?void 0:r.dmMessage)||{},c=i.hint,o=i.innerThoughts,s=c||o||"";c&&(v({type:"info",content:"\u2728  ".concat(s)}),M(n,{"character.dmMessage.hint":null})),o&&(v({type:"warning",content:"\ud83d\udcad ".concat(s)}),M(n,{"character.dmMessage.innerThoughts":null})),e({user:Object(f.a)(Object(f.a)({},n),{},{hint:null,innerThoughts:null})})}a.type}}))}))}(a,t))})),c?null:Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(j.a,{children:Object(ue.jsxs)(h.c,{children:[Object(ue.jsx)(pr,{path:"/Battle",children:Object(ue.jsx)(Ma,{children:Object(ue.jsx)(ln,{})})}),Object(ue.jsx)(pr,{path:"/",exact:!0,children:Object(ue.jsx)(Ma,{children:Object(ue.jsx)(Vt,{})})}),Object(ue.jsx)(pr,{path:"/Character",children:Object(ue.jsx)(Ma,{children:Object(ue.jsx)(un,{})})}),Object(ue.jsx)(h.a,{path:"/create",children:Object(ue.jsx)(Bn,{})}),t.character&&Object(ue.jsx)(pr,{children:Object(ue.jsx)(Ma,{children:Object(ue.jsx)(Vt,{})})}),Object(ue.jsx)(h.a,{path:"/sign-in",children:Object(ue.jsx)(xe,{})}),t.DM&&Object(ue.jsx)(h.a,{path:"/DM",children:Object(ue.jsx)(or,{})}),Object(ue.jsx)(h.a,{children:Object(ue.jsx)(xe,{})})]})})})}var br=Object(ae.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1e5,color:"#fff"}}})),jr=function(){var e=br(),t=Object(o.b)().globalLoading;return Object(ue.jsx)(Dn.a,{className:e.backdrop,open:t,children:Object(ue.jsx)(qn.a,{color:"inherit"})})};a(424);var hr=function(){return Object(ue.jsxs)(o.a,{stateConfig:s,children:[Object(ue.jsxs)(l.a,{theme:ie,children:[Object(ue.jsx)(dr,{}),Object(ue.jsx)(O.a,{})]}),Object(ue.jsx)(jr,{})]})},mr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,515)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(ue.jsx)(hr,{}),document.getElementById("root")),mr()}},[[425,1,2]]]);
//# sourceMappingURL=main.d971f43d.chunk.js.map