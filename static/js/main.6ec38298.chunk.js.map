{"version":3,"sources":["core/globalStateVars.js","gameData/constants.js","gameData/player/classes.js","images/Mage.svg","images/knight.svg","images/Philosopher.svg","images/Archer.svg","images/Assassin.svg","images/Diplomat.svg","common/hooks/useStatSheet.js","common/RollBoosts.js","core/toaster.js","firebase/index.js","gameData/player/levels.js","core/theme.js","common/BasicRoot.js","pages/SignUpPage.js","pages/SignInPage.js","common/material/Grid/GridContainer.js","common/material/Grid/GridItem.js","common/material/material-dashboard-react.js","common/material/Card/styles/cardStyle.js","common/material/Card/Card.js","common/material/Card/styles/cardHeaderStyle.js","common/material/Card/CardHeader.js","common/material/Card/styles/cardIconStyle.js","common/material/Card/CardIcon.js","common/material/Card/styles/cardFooterStyle.js","common/material/Card/CardFooter.js","common/material/dashboardStyle.js","common/ImageIcon.js","common/ProgressBar/index.js","images/darkRiteArmor.svg","gameData/items/items.js","gameData/helpers.js","gameData/items/armors.js","gameData/items/accessories.js","images/jewelArmanar.svg","gameData/items/weapons.js","images/sword.svg","images/dagger.svg","images/bow.svg","common/hooks/useGetEquippedData.js","common/ProgressBar/HpBar.js","common/InfoCard.js","common/ProgressBar/MpBar.js","common/InfoCard2.js","common/CustomIcon.js","images/novice.svg","gameData/player/titles.js","gameData/player/spells.js","pages/BattlePage/BaseForm.js","pages/BattlePage/SpellForm.js","common/hooks/useGetSpells.js","common/CustomNumberInput/styled.js","common/CustomNumberInput/index.js","pages/Home.js","common/hooks/useEquipped.js","images/fist.svg","core/routes.js","common/DialogButton.js","common/FloatingButton/styled.js","common/helpers/convertToOptions.js","common/hooks/useGetBagOptions.js","common/hooks/useGetItems.js","common/FloatingButton/forms/UseBaseForm.js","common/hooks/useGetTargets.js","common/helpers/checkIfSkilledEnoughToEquip.js.js","common/FloatingButton/forms/EquipBaseForm.js","common/FloatingButton/Bag.js","common/FloatingButton/index.js","images/bag.svg","common/Root.js","gameData/player/attacks.js","pages/BattlePage/AttackForm.js","common/hooks/useGetAttacks.js","pages/BattlePage/ItemsForm.js","gameData/player/skills.js","pages/BattlePage/SkillForm.js","common/hooks/useGetSkills.js","common/ApNotifier.js","pages/BattlePage/MonsterView.js","common/hooks/useGetBattle.js","pages/BattlePage/MonsterList.js","pages/BattlePage/index.js","pages/CharacterPage/index.js","pages/Store/index.js","gameData/player/initialCharacterObject.js","pages/CreatePage/ClassForm.js","pages/CreatePage/StatsForm.js","pages/CreatePage/WeaponForm.js","pages/CreatePage/CompleteCreateForm.js","pages/CreatePage/index.js","common/hooks/useUpdateCharacter.js","gameData/monsters/attacks.js","images/wolf.svg","gameData/monsters/index.js","images/sprites/wolfknight.gif","images/sprites/direwolfknight.gif","images/sprites/grandwolfknight.gif","images/sprites/kingwolfknight.gif","images/sprites/basicknight.gif","images/sprites/royalguard.gif","images/sprites/knightardius.gif","gameData/monsters/builders.js","gameData/battles.js","gameData/story.js","common/RichTextEditor/styled.js","common/RichTextEditor/index.js","pages/DmView/hooks.js","pages/DmView/Story/index.js","pages/DmView/QuickMenu/HintForm.js","common/hooks/useUpdateItems.js","pages/DmView/QuickMenu/ItemForm.js","pages/DmView/QuickMenu/UpdateCharacterForm.js","pages/DmView/QuickMenu/index.js","common/LoadingContainer.js","pages/DmView/Battle/InViewList.js","pages/DmView/Battle/PlayerCard.js","pages/DmView/Battle/columns.js","pages/DmView/Battle/BattleTable.js","pages/DmView/Battle/SelectBattleForm.js","pages/DmView/Battle/index.js","pages/DmView/DmView.js","pages/DmView/DmViewResolver.js","common/PrivateRoute.js","AppRouter.js","common/GlobalLoader.js","App.js","reportWebVitals.js","index.js"],"names":["globalStateConfig","user","globalLoading","users","battle","statSheet","str","label","description","points","spd","vit","eva","int","wis","dex","per","classes","Mage","spells","statBoost","starterWeapon","src","statDescription","Knight","attacks","Philosopher","Archer","Assassin","Diplomat","convertStatSheet","stats","Object","keys","reduce","acc","abbr","stat","statCount","applyClassBoost","characterClass","appliedStats","classStats","forEach","applyStatBoostToHpAnsMp","character","isInitial","newCharacter","hp","Math","round","maxHp","mp","maxMp","useStatSheet","manualStats","applyClass","useContextState","desiredClass","class","finalStats","RollBoosts","isLevelUp","oldStats","battleRollBoosts","title","i","statMessage","toUpperCase","oldStat","push","Grid","style","marginTop","marginBottom","container","item","xs","Typography","map","message","defaultOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","launchToaster","options","type","content","toast","launchErrorToaster","launchInfoToaster","launchSuccussToaster","handleDmMessage","dmMessage","hint","innerThoughts","length","launchWarningToaster","updateCharacter","handleNewItemMessage","newUser","oldUser","newItems","items","oldItems","oldItem","quantity","e","console","error","handleBattleSuccess","updateContextState","success","variant","rewards","consequence","updateDMDocs","handleLevelUpMessage","level","provider","firebase","auth","GoogleAuthProvider","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","signInWithGoogle","a","signInWithPopup","email","additionalUserInfo","profile","findUser","key","comparison","equals","generateUserDocument","additionalData","userRef","doc","uid","get","exists","displayName","photoURL","userForCloudStore","set","getUserDocument","createUserWithEmailAndPasswordHandler","values","password","createUserWithEmailAndPassword","signInWithEmailAndPasswordHandler","signInWithEmailAndPassword","catch","signOut","batchUpdate","path","updates","batch","collection","update","commit","updateDoc","specialKey","ref","getDocument","data","getCollection","collectionPath","apiCall","collectionRef","query","where","snapshot","empty","userDocument","dontGetUser","itemUse","userGivingItem","target","userGivingItemPath","targetPath","targetRef","userGivingItemRef","giveCharacterItem","itemCategory","activateSpell","newMp","activateAbility","ap","newAp","equipItem","newEquip","itemsGameData","oldEquipped","equippedPath","itemsPath","equipped","handleLevelUp","leveledCharacter","cloneDeep","exp","statKey","levelingSystem","getAllUsers","desiredUser","DM","value","updateStoryChapter","chapter","startBattle","current","getStoryChapter","res","notes","updateMonsters","monsters","dmRef","giveUserRewards","characterUpdates","inView","log","sendUserAMessage","theme","createMuiTheme","palette","primary","main","secondary","Copyright","color","align","Link","href","Date","getFullYear","BasicRoot","children","maxWidth","Container","component","CssBaseline","Box","mt","useStyles","makeStyles","paper","spacing","display","flexDirection","alignItems","width","avatar","margin","backgroundColor","form","submit","validate","errors","field","SignUpPage","goToSignIn","history","useHistory","replace","handleGoogleSignUp","justifyContent","Avatar","className","manualValidate","blueprint","Rows","Cols","Input","id","name","Button","fullWidth","disabled","initialValues","handleSubmit","onClick","SignIn","useState","signUp","setsignUp","route","handleGoogleSignIn","grid","GridContainer","props","rest","padding","GridItem","hexToRgb","input","test","Error","first","second","last","parseInt","primaryColor","warningColor","dangerColor","successColor","infoColor","roseColor","grayColor","blackColor","whiteColor","primaryBoxShadow","boxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","warningCardHeader","background","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","paddingTop","borderTop","height","fontFamily","fontWeight","lineHeight","textDecoration","minHeight","cardStyle","card","border","borderRadius","minWidth","wordWrap","fontSize","cardPlain","cardProfile","textAlign","cardChart","styles","Card","plain","chart","cardClasses","classNames","cardHeaderStyle","cardHeader","borderBottom","zIndex","overflow","cardHeaderPlain","marginLeft","marginRight","cardHeaderStats","cardHeaderIcon","cardIconStyle","cardIcon","float","CardIcon","cardIconClasses","cardFooterStyle","cardFooter","cardFooterProfile","cardFooterPlain","paddingLeft","paddingRight","cardFooterStats","top","cardFooterChart","CardFooter","cardFooterClasses","dashboardStyle","successText","upArrowCardCategory","cardCategory","cardCategoryWhite","cardTitle","cardTitleWhite","ImageIcon","size","alt","small","medium","large","ProgressBar","BorderLinearProgress","withStyles","root","colorPrimary","bar","LinearProgress","price","darkRiteArmor","randomIntFromInterval","min","max","floor","random","getSpecialMonsterList","containerObject","flatMap","monsterConfig","special","generateItems","itemsArray","listOfItems","itemInfoString","match","Number","itemName","normalise","MAX","armors","accessories","iconMapper","weapons","attackType","requirement","roll","range","useGetEquippedData","accessory","weapon","HpBar","monster","desired","armor","getHp","currentHp","gaugeValue","setgaugeValue","useEffect","InfoCard","text","topText","imgSrc","noBox","sm","md","MpBar","getMp","currentMp","InfoCard2","flexWrap","CustomIcon","logo","maxHeight","titles","element","rule","ballSpell","die","useDescription","toLowerCase","defaultTargets","BaseBluePrint","targets","foundValue","find","subscript","errorMessageMap","Attack","Spell","Skill","BaseForm","onSubmit","React","setvalues","foundItem","SpellForm","closeModal","techniques","useGetSpells","convertedTargets","ButtonContainer","styled","div","NumberField","CustomNumberInput","onChange","stateValue","setstateValue","seterror","handleClick","dir","prevValue","newValue","IconButton","dark","getInitials","fullName","names","split","initialsArray","charAt","join","Home","equipment","equippedInfo","useEquipped","characterTitle","CardContent","gil","index","Divider","routes","icon","AccountCircle","fist","DialogButton","dialog","fullScreen","open","setopen","buttonProps","omit","Dialog","onClose","DialogTitle","DialogContent","FloatingButtonContainer","convertToOptions","obj","useKey","useGetBagOptions","itemsMap","itemType","repo","misc","itemsRepo","weaponsRepo","accessoriesRepo","armorRepo","useGetItems","manualUser","itemsFullData","itemStorage","useGetSpecificItem","UseBaseForm","excludeUser","settargets","loading","setloading","onLoad","filter","useGetTargets","settarget","TextField","select","event","option","MenuItem","checkIfSkilledEnoughToEquip","skilledEnough","statName","noRequirements","EquipBaseForm","setvalue","equippedFullInfo","newInitialEquipInBag","selectedEquip","TabPanel","other","role","hidden","aria-labelledby","p","flexGrow","tabs","borderRight","divider","Bag","setValue","Tabs","aria-label","Tab","specialItem","FloatingButton","bottom","drawerWidth","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","mixins","Root","useTheme","headerTitle","getTitle","location","pathname","setOpen","AppBar","clsx","Toolbar","edge","noWrap","bag","Drawer","direction","List","config","ListItem","button","ListItemIcon","preventDefault","stopPropagation","handleLinkClick","ListItemText","sword","maxDamage","dagger","bow","fisticuff","projectile","spear","gun","AttackForm","listOfAttacks","availableAttacks","useGetAttacks","ItemsForm","skills","SkillForm","availableSkills","skill","SKILLS_MAP","useGetSkills","ApNotifier","maxAp","MonsterView","monsterName","close","startIcon","ArrowBack","filterMonstersInSight","useGetBattle","setdata","getData","battles","isDm","MonsterList","setmonster","initialBattle","Fragment","BattlePage","aopen","setaopen","sopen","setsopen","iopen","setiopen","skopen","setskopen","CharacterPage","Store","initialCharacterObject","secondaryWeapon","BluePrint","statDescriptionGenerator","statTextArray","statDesc","isIncrease","isSlightDecrease","isDecrease","fullStat","desiredModifier","ClassForm","createUserObj","setavailablePoints","setcharacterClass","classOption","fieldName","inline","Stat","updateCharacterStat","availablePoints","initialStatPoint","statPoint","setstatPoints","rollBonusText","ListItemAvatar","oldValue","newAvailablePoints","updateValue","StatsForm","desiredStats","newCharStats","helperText","WeaponForm","weaponData","statAbbr","requiredText","weaponName","CompleteCreateForm","actionsContainer","resetContainer","CreatePage","classStyles","activeStep","setActiveStep","steps","setcreateUserObj","useUpdateCharacter","updateFireBaseCharacter","isInvalidateCharacerObj","invalid","fields","newObj","handleNext","prevActiveStep","handleBack","getStepContent","step","Stepper","orientation","Step","StepLabel","goToStep","StepContent","attack","humanEnemyAttacks","monsterAttacks","wolf","common","damage","bear","snake","slime","goblin","garvinKnight","pirate","attackConfig","buildMonster","attackMap","availableCommonAttacks","availableSpecialAttacks","attackName","randomInt","splice","newStats","randomStat","generateStats","generateMonsters","configKeys","generatedMonsters","monsterType","newMonsters","monsterData","amountOfMonster","monsterList","pop","specialMonsters","monsterKey","randomMonsterKey","randomMonster","experience","tutorialBattle1","tutorialBattle2","innBattle","pirateBattle","story","RichTextContainer","RichTextEditor","defaultData","onSave","defaultValue","useGetUserOptions","userOptions","backdrop","Story","isLoading","setisLoading","selectedChapter","setselectedChapter","useGlobalLoading","setglobalLoading","handleSelectChapter","ch","getFirstChapterData","CardActions","Backdrop","CircularProgress","HintForm","formik","itemTypes","availableItems","setavailableItems","allItems","formHandler","newAvailableItems","setFieldValue","ItemForm","firstUser","useGetAllItemOptions","targetAll","availableItem","characterDbItems","quantityString","itemToAdd","itemsCharacterIsCarrying","newQuantity","useUpdateItems","updateItems","newUsers","newOption","currentItems","useBatchUpdateItems","updateBatchItems","reqString","UpdateCharacterForm","omittedCharObj","window","alert","JSON","stringify","resetForm","speedDial","right","left","actions","QuickMenu","dialogType","setdialogType","dialogContent","Hint","Item","Characters","SpeedDial","ariaLabel","SpeedDialIcon","onOpen","action","SpeedDialAction","tooltipTitle","LoadingContainer","Skeleton","not","b","indexOf","intersection","InViewList","userInView","initialViewList","initialNotInView","initialInView","checked","setChecked","notInView","setLeft","setRight","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","customList","Paper","dense","labelId","Checkbox","tabIndex","disableRipple","inputProps","addInView","justify","concat","PlayerCard","gutterBottom","Accordion","AccordionSummary","AccordionDetails","columnHeaders","BattleTable","participants","participant","columns","setData","updateParticipant","newData","oldData","updateDb","newMon","dataUpdate","tableData","pageSize","maxBodyHeight","editable","onRowUpdate","SelectBattleForm","battleOptions","setbattle","battleInfo","Battle","DmView","dmUser","loadUsers","_","a11yProps","DmViewResolver","PrivateRoute","isValidLogin","goToRoute","render","AppRouter","appLoading","setappLoading","onAuthStateChanged","userAuth","usersUnsubscribe","onSnapshot","querySnapshot","docChanges","change","dbUser","dMnsubscribe","dmData","handleDbSync","basename","exact","GlobalLoader","App","stateConfig","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6ec38298.chunk.js","sourcesContent":["export const globalStateConfig = {\n    user: null,\n    globalLoading: false,\n    users: [],\n    battle: {}\n}","export const statSheet = {\n    str: { label: 'Strength', description: 'Increases the damage you deal and the amount of weight you can lift', points: 10 },\n    spd: { label: 'Speed', description: 'Increases the amount of squares you can move per roll and how fast you are', points: 10 },\n    vit: { label: 'Vitality', description: 'Increases your hp, sex appeal and resistance to illness', points: 10 },\n    eva: { label: 'Evasion', description: 'Increases your dodge, rolls and stealth capabilities', points: 10 },\n    int: { label: 'Intelligence', description: 'Increases your mp and investigation rolls', points: 10 },\n    wis: { label: 'Wisdom', description: 'Increases your awareness and intuition rolls', points: 10 },\n    dex: { label: 'Dexterity', description: 'Increases your ability to attack, handling skills and overall balance', points: 10 },\n    per: { label: 'Persuasion', description: 'Increases your persuasion rolls and makes you more likeable', points: 10 },\n}\n\n\n\n/*\nbuildMonster(type='wolf', level, attacks={common: 2, special: 1})\n*/\n\n\n\n","import Mage from '../../images/Mage.svg'\nimport knight from '../../images/knight.svg'\nimport Philosopher from '../../images/Philosopher.svg'\nimport Archer from '../../images/Archer.svg'\nimport Assassin from '../../images/Assassin.svg'\nimport Diplomat from '../../images/Diplomat.svg'\n\nexport const classes = {\n    Mage: {spells: ['Fire Ball'], statBoost: {int: 4, str: -2}, starterWeapon: 'Short Sword', src: Mage, label: 'Mage', statDescription: '++INT --STR', description: 'Your capabilities of learning spells increases'},\n    Knight: {attacks: ['Wide Slash'], statBoost: {str: 2}, starterWeapon: 'Long Sword', src: knight, label: 'Knight', statDescription: '+STR', description: 'If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player'},\n    Philosopher: {statBoost: {wis: 2}, starterWeapon: 'Bow', src: Philosopher, label: 'Philosopher', statDescription: '+WIS', description: 'You gain the ability: Inner Thoughts'},\n    Archer: {attacks: ['Twin Shot'], statBoost: {dex: 2}, starterWeapon: 'Bow', src: Archer, label: 'Archer', statDescription: '+DEX', description: 'You get a +2 advantage in all activities that involve aim'},\n    Assassin: {attacks: ['Pin Missle Strike'], statBoost: {eva: 2, spd: 2, per: -2}, starterWeapon: 'Dagger', src: Assassin, label: 'Assassin', statDescription: '+EVA +SPD -PER', description: 'You get a +2 advantage in all activities that involve stealth'},\n    Diplomat: {statBoost: {per: 2}, starterWeapon: 'Short Sword', src: Diplomat, label: 'Diplomat', statDescription: '+PER', description: 'If your PER stat is higher than an enemies STR, you can attempt to end conflict with a Diplomatic roll'},\n}","export default __webpack_public_path__ + \"static/media/Mage.bc300823.svg\";","export default __webpack_public_path__ + \"static/media/knight.f5702281.svg\";","export default __webpack_public_path__ + \"static/media/Philosopher.33ccf4c2.svg\";","export default __webpack_public_path__ + \"static/media/Archer.508911b1.svg\";","export default __webpack_public_path__ + \"static/media/Assassin.bb03b5cb.svg\";","export default __webpack_public_path__ + \"static/media/Diplomat.632a3226.svg\";","import { useContextState } from \"dynamic-context-provider\";\nimport { forEach } from \"lodash\";\nimport { statSheet } from '../../gameData/constants'\nimport { classes } from '../../gameData/player/classes'\nexport function convertStatSheet(stats){\n    \n    const completeStats = Object.keys(statSheet).reduce((acc, abbr)=>{\n        const stat = stats[abbr]\n        const statCount = stat.points\n        let statBoost = 0\n        if(statCount >= 12 && statCount<14){\n            statBoost = 1\n        }\n        if(statCount >= 14 && statCount<16){\n            statBoost = 2\n        }\n        if(statCount >= 16 && statCount<18){\n            statBoost = 3\n        }\n        if(statCount >= 18 && statCount<20){\n            statBoost = 4\n        }\n        if(statCount >= 20 ){\n            statBoost = 5\n        }\n        return {...acc, [abbr]: {...stat, abbr, statBoost}}\n    },{})\n\n    return completeStats\n}\nexport function applyClassBoost(stats, characterClass){\n    const appliedStats = {...stats}\n    const classStats = classes[characterClass]\n    if(classStats){\n        forEach(Object.keys(classStats.statBoost), abbr=>{            \n            appliedStats[abbr].points += classStats.statBoost[abbr]\n        })\n    }    \n    return appliedStats\n}\nexport function applyStatBoostToHpAnsMp(character, isInitial){\n    const newCharacter = {...character}\n\n    newCharacter.hp += Math.round(newCharacter.stats.vit.statBoost)\n    newCharacter.maxHp += Math.round(newCharacter.stats.vit.statBoost)\n    newCharacter.mp += Math.round(newCharacter.stats.int.statBoost)\n    newCharacter.maxMp +=  Math.round(newCharacter.stats.int.statBoost)\n    \n    return newCharacter\n}\nexport function useStatSheet(manualStats, characterClass, applyClass= false){\n    const { user: {character={}} } = useContextState()\n    const stats = manualStats || character.stats\n    const desiredClass = characterClass || character.class\n    const finalStats = convertStatSheet(stats, manualStats)\n    \n    return !applyClass ? finalStats : applyClassBoost(finalStats, desiredClass)\n}","import React from 'react'\nimport { Grid, Typography } from '@material-ui/core'\nimport { forEach, map } from 'lodash'\nimport { useStatSheet } from './hooks/useStatSheet'\n\nconst RollBoosts = ({isLevelUp, manualStats, oldStats}) => {\n    const stats = useStatSheet(manualStats)\n    const battleRollBoosts = []\n    const title = isLevelUp ? `You Leveled Up!` : 'Roll Boosts'\n    forEach(Object.keys(stats), (abbr, i)=>{\n        const stat = stats[abbr]\n        let statMessage = `${abbr.toUpperCase()}: ${stat.points}`\n        \n        if(isLevelUp){\n            const oldStat = oldStats[abbr]\n            statMessage = `${abbr.toUpperCase()}: ${oldStat.points}`\n            battleRollBoosts.push( statMessage + ` -> ${stat.points}`)\n        }else if(stat.statBoost > 0){\n            battleRollBoosts.push( statMessage + ` +${stat.statBoost}`)\n        }\n     })\n    return (\n        <Grid style={{marginTop: '20px', marginBottom: '20px'}} container>\n        <Grid item xs={12}><Typography>{title}</Typography></Grid>\n    {map(battleRollBoosts, (message, i)=>{\n                return(<Grid key={i} item xs={4}>{message}</Grid>)\n            })}  \n        </Grid>\n    )\n}\n\nexport default RollBoosts\n","import { Typography } from '@material-ui/core';\nimport { forEach } from 'lodash';\nimport { toast } from 'react-toastify';\nimport RollBoosts from '../common/RollBoosts';\nimport { updateCharacter, updateDMDocs } from '../firebase';\nconst defaultOptions = {\n    position: \"top-center\",\n    autoClose: false,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n}\nexport function launchToaster({ options = {}, type = 'dark', content = '' }) {\n    return toast[type](content, { ...defaultOptions, ...options })\n}\nexport function launchErrorToaster({ options = {}, content = '' }) {\n    return launchToaster({ type: 'error', content, options })\n}\nexport function launchInfoToaster({ options = {}, content = '' }) {\n    return launchToaster({ type: 'info', content, options })\n}\nexport function launchSuccussToaster({ options = {}, content = '' }) {\n    return launchToaster({ type: 'success', content, options })\n}\nexport function launchWarningToaster({ options = {}, content = '' }) {\n    return launchToaster({ type: 'warning', content, options })\n}\n\nexport function handleDmMessage(user) {\n    const { hint, innerThoughts } = user.character.dmMessage\n    if (hint.length > 0) {\n        launchInfoToaster({ content: `  ${hint}` })\n    }\n    if (innerThoughts.length > 0) {\n        launchWarningToaster({ content: ` ${innerThoughts}` })\n    }\n    updateCharacter(user, { 'character.dmMessage': { hint: '', innerThoughts: '' } })\n}\n\nexport function handleNewItemMessage(newUser, oldUser) {\n    if (!oldUser.character) return\n    const newItems = newUser.character.items\n    const oldItems = oldUser.character.items\n    try {\n        forEach(Object.keys(newItems), type => { // misc\n            forEach(newItems[type], item => { // { Potion, Mana }                \n                const oldItem = oldItems[type][item?.label] || { quantity: 0 }\n                if (item.quantity > oldItem.quantity) {\n                    const quantity = item.quantity - oldItem.quantity\n                    launchToaster({ type: 'success', content: `You received ${quantity} ${item.label}(s)` })\n                }\n\n                if (item.quantity < oldItem.quantity) {\n                    const quantity = oldItem.quantity - item.quantity\n                    launchErrorToaster({ content: `You lost ${quantity} ${item.label}(s)` })\n                }\n            })\n        })\n\n    } catch (e) {\n        console.error('log: error', e)\n        launchErrorToaster({ content: e })\n    }\n\n}\n\nexport function handleBattleSuccess(battle, updateContextState) {\n\n    if (battle?.success) {\n        const content = (<div>\n            <Typography variant=\"h6\">Battle Won!</Typography>\n            {/* TODO: decide on how to handle this ux\n            <Typography variant=\"subtitle1\">Drops:</Typography>\n            <ul>\n            {\n                map(battle.rewards.items, (item, i)=>{\n                    return <li key={i}>{item.quantity}x {item.label}</li>\n                })\n            }\n            </ul> */}\n            <Typography variant=\"h6\">Outcome:</Typography>\n            <Typography variant=\"body1\">{battle.rewards.consequence}</Typography>\n        </div>)\n        launchInfoToaster({ content })\n        updateDMDocs({ 'current': null })\n\n    }\n}\n\nexport function handleLevelUpMessage(newUser, oldUser) {\n    \n    const content = (<RollBoosts isLevelUp oldStats={oldUser.character.stats} manualStats={newUser.character.stats} />)\n    if (newUser.character.level > oldUser.character.level) {\n        launchSuccussToaster({ content })\n    }\n}","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\nimport { launchErrorToaster } from '../core/toaster';\nimport { cloneDeep, forEach, isEqual, map } from \"lodash\";\nimport { levelingSystem } from \"../gameData/player/levels\";\nimport { applyStatBoostToHpAnsMp } from \"../common/hooks/useStatSheet\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBuehaOKFHvHfNbcfwSy2SNnO_iURlxl6k\",\n  authDomain: \"dnd-story-assistant.firebaseapp.com\",\n  databaseURL: \"https://dnd-story-assistant.firebaseio.com\",\n  projectId: \"dnd-story-assistant\",\n  storageBucket: \"dnd-story-assistant.appspot.com\",\n  messagingSenderId: \"783675104937\",\n  appId: \"1:783675104937:web:d762c685d9708b3b21d3b8\",\n  measurementId: \"G-BE6J3N57ET\"\n};\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n/******************************** Core *********************************/\n\nexport const signInWithGoogle = async () => {\n const { additionalUserInfo: {profile: {email}}} = await auth.signInWithPopup(provider)\n const user = await findUser({key: 'email', comparison: '==', equals: email})\n return user\n};\n\nexport const generateUserDocument = async (user, additionalData) => {\n  if (!user) return {};\n  const userRef = firestore.doc(`users/${user.uid}`);\n  const snapshot = await userRef.get();\n  if (!snapshot.exists) {\n    const { email, displayName, photoURL } = user;\n    try {\n      const userForCloudStore = { displayName, email, photoURL, uid: user.uid, ...additionalData }\n      await userRef.set(userForCloudStore);\n    } catch (error) {\n      console.error(\"Error creating user document\", error);\n    }\n  }\n  return getUserDocument(user.uid);\n};\n\nexport const createUserWithEmailAndPasswordHandler = async (values = { email: '', password: '', displayName: '' }) => {\n  let newUser = null\n  const { email, password, displayName } = values\n  try {\n    const { user } = await auth.createUserWithEmailAndPassword(email, password);\n    newUser = await generateUserDocument(user, { displayName, email });\n  }\n  catch (error) {\n    console.error('Error Signing up with email and password');\n  }\n  return newUser\n};\n\nexport const signInWithEmailAndPasswordHandler = async (email, password) => {\n  await auth.signInWithEmailAndPassword(email, password).catch(error => {\n    console.error(\"Error signing in with password and email\", error);\n  });\n  const user = await findUser({key: 'email', comparison: '==', equals: email})\n\n  return user\n};\n\nexport const signOut = async () => {\n  await auth.signOut()\n};\n\n/******************************** Generic (used to build others) *********************************/\n/**\n * @function batchUpdate\n * Updates multiple users at once\n * @params (path, users, updates) updates must match path \n * @returns undefined\n */\nexport async function batchUpdate(path, users, updates){\n\n  const batch = await firestore.batch();\n  forEach(users, (user, i)=>{\n    const userRef =  firestore.collection('users').doc(user.uid)\n    batch.update(userRef, {[path]: updates[i]});\n  })\n  await batch.commit();\n  }\n  \nexport async function updateDoc(path, updates, specialKey){\n  const ref = firestore.doc(`${path}`);\n  const snapshot = await ref.get();\n  if (!snapshot.exists) {\n    if(specialKey){\n      return await ref.set({[specialKey]: updates});\n\n    }else{\n      return await ref.set(updates);\n    } \n  }\n  if(specialKey){\n    return await ref.update({[specialKey]: updates});\n\n  }else{\n    return await ref.update(updates);\n  }\n}\n\nconst getDocument = async (path) => {\n  try {\n    const doc = await firestore.doc(path).get();\n    return {\n      ...doc.data()\n    };\n  } catch (error) {\n    console.error(\"Error fetching user\", error);\n  }\n};\n\nexport async function getCollection(collectionPath=['collection', 'document']){\n  let data = null\n  const apiCall = collectionPath.length < 2 ? firestore.collection(collectionPath[0]) : firestore.collection(collectionPath[0]).doc(collectionPath[1])\n  const collectionRef = await apiCall\n  const doc = await collectionRef.get();\n  if (doc.exists) {\n    data= doc.data()\n  }\n  return data\n}\n\n\n/******************************** Users *********************************/\nexport async function findUser(query = { key: 'name', comparison: '==', equals: 'Brandon' }) {\n  let user = {}\n\n  try{\n    const { key, comparison, equals } = query\n    const snapshot = await firestore.collection(`users`).where(key, comparison, equals).get();\n    if (snapshot.empty) {\n      return;\n    }\n    snapshot.forEach(doc => {\n      user = doc.data()\n    });\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n  \n  return user\n}\nexport const getUserDocument = async uid => {\n  if (!uid) return null;\n  try {\n    const userDocument = await getDocument(`users/${uid}`)\n    return {\n      uid,\n      ...userDocument\n    };\n  } catch (error) {\n    console.error(\"Error fetching user\", error);\n  }\n};\n\nexport const updateCharacter = async (user, updates, dontGetUser) => {\n  let newUser = {}\n\n  try{\n    await updateDoc(`users/${user.uid}`, updates)\n    newUser = dontGetUser ? {} : await getUserDocument(user.uid)\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  } \n\n   return newUser\n}\n\nexport const damageCharacter = async (user, amount) => {\n  try{\n    const newAmount = user.character.hp - amount >= 0 ? user.character.hp - amount : 0\n    await updateDoc(`users/${user.uid}`, {'character.hp':newAmount})\n  \n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n}\n\nexport const itemUse = async ({userGivingItem, target, item}) => {\n  try{\n    const userGivingItemPath = `character.items`\n    const targetPath = `character`\n    // Increase targets stat\n    const { maxHp, maxMp} = target.character\n    target.character.hp += item.hp\n    target.character.mp += item.mp\n    if(target.character.hp > maxHp){\n      target.character.hp = maxHp\n    }\n    if(target.character.mp > maxMp){\n      target.character.mp = maxMp\n    }\n    \n    // Decrease users quantity\n    userGivingItem.character.items[item.type][item.label].quantity -=1\n    if(!userGivingItem.character.items[item.type][item.label].quantity){\n      delete userGivingItem.character.items[item.type][item.label]\n    }\n    const batch = await firestore.batch();\n    const targetRef = firestore.collection('users').doc(target.uid);\n    const userGivingItemRef = firestore.collection('users').doc(userGivingItem.uid);\n    batch.update(targetRef, { [targetPath]: target.character });\n    batch.update(userGivingItemRef, { [userGivingItemPath]: userGivingItem.character.items });\n    await batch.commit();\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n}\n\nexport const giveCharacterItem = async (user, updates, itemCategory) => {\n  try{\n    const path = `character.items.${itemCategory}`\n    await updateCharacter(user, {[path]: updates})\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n}\n\nexport const activateSpell = async (user, mp) => {\n  const newMp = user.character.mp - mp\n\n  if(newMp < 0) {\n    launchErrorToaster({content: 'Not enough MP'})\n    return false\n  }\n  try{\n    await updateCharacter(user, {'character.mp': newMp}, true)\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n  return true\n\n}\nexport const activateAbility = async (user, ap) => {\n  const newAp = user.character.ap - ap\n\n  if(newAp < 0) {\n    launchErrorToaster({content: 'Not enough AP'})\n    return false\n  }\n  try{\n    await updateCharacter(user, {'character.ap': newAp}, true)\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n  return true\n}\n\nexport const equipItem = async ({ user, items, newEquip, type, itemsGameData }) => {\n  let oldEquipped = null\n\n  try{\n    const equippedPath = `character.equipped.${type}`\n    const itemsPath = `character.items`\n    oldEquipped = Object.keys(user.character.equipped[type]).length ? user.character.equipped[type] : null\n    const newItems = { ...items }\n    delete newItems[type][newEquip]\n    if(oldEquipped){\n      newItems[type][oldEquipped] = itemsGameData[oldEquipped]\n    }\n  \n    // // Get a new write batch\n    const batch = await firestore.batch();\n    const userRef = firestore.collection('users').doc(user.uid);\n    batch.update(userRef, { [itemsPath]: newItems });\n    batch.update(userRef, { [equippedPath]: newEquip });\n    await batch.commit();\n\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n\n  return oldEquipped\n}\n\nexport const handleLevelUp = (character) => {\n  if(!character) return \n  let leveledCharacter = cloneDeep({...character})\n  \n  try{\n    leveledCharacter = applyStatBoostToHpAnsMp(levelingSystem(character))      \n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n\n return leveledCharacter\n}\n\n/******************************** DM *********************************/\n\nexport async function getAllUsers(){\n  const users = []\n\n  try{\n    const ref = await firestore.collection(`users`)\n    const usersRef = await ref.get()\n    usersRef.forEach(user => {\n      const desiredUser = user.data()\n      if(!desiredUser.DM){\n        users.push({...desiredUser, label: desiredUser.displayName, value: desiredUser.displayName})\n  \n      }\n    });\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n\n  return users\n}\n\nexport const updateStoryChapter = async (chapter, updates, specialKey) => {\n  try{\n    await updateDoc(`DM/${chapter}`, updates, specialKey)\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n}\n\nexport const startBattle = async (battle) => {\n  try{\n    \n    const userRef = firestore.collection('DM').doc('battles');\n    await userRef.update({current: {...battle}});\n \n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n}\n\nexport async function getStoryChapter(chapter){\n  let res = {notes: ''}\n  try{\n    res = await getCollection(['DM', chapter])\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n  return res\n}\n\nexport const updateMonsters = async (monsters) => {\n  try{\n    const dmRef = firestore.collection('DM').doc('battles');\n    await dmRef.update({'current.monsters': monsters});\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n \n}\n\nexport async function updateDMDocs(updates){\n  const dmRef = firestore.collection('DM').doc('battles');\n  await dmRef.update(updates);\n}\n\nexport const giveUserRewards = async (users, rewards) => {\n  try{\n    const characterUpdates = []\n    forEach(users, user=>{\n      const newUser = cloneDeep(user)\n      const { character } = newUser\n      newUser.inView = null\n      character.exp += rewards.exp\n      forEach(rewards.items, item=>{\n        const itemInBag = character.items[item.type][item.label]\n        if(itemInBag){\n          character.items[item.type][item.label].quantity += item.quantity\n        }else{\n          character.items[item.type][item.label] = item\n        }\n\n      })\n      console.log('log: handleLevelUp(character)', handleLevelUp(character))\n      \n      characterUpdates.push((handleLevelUp(character)))\n    })\n    await batchUpdate('character', users, characterUpdates)\n    const dmRef = firestore.collection('DM').doc('battles');\n    await dmRef.update({'current': {success: true, rewards}});\n    }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n\n}\n\nexport const sendUserAMessage = async (user, dmMessage) => {\n  try{\n    await updateCharacter(user, {[`character.dmMessage`]: dmMessage})\n\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n \n}\n\n  /*\n  how to update nested features\n  const res = await db.collection('users').doc('Frank').update({\n  age: 13,\n  'favorites.color': 'Red'\n});\n\n  try{\n\n  }catch(e){\n    console.error('log: error', e)\n    launchErrorToaster({content: 'There was an error'})\n  }\n  */","import { convertStatSheet } from \"../../common/hooks/useStatSheet\"\n\nexport const levelingSystem = (character)=>{\n    if(!character)return \n    const newCharacter = {...character, stats: convertStatSheet(character.stats)}\n    const { exp, level } = newCharacter\n    const nextLevel = level * 4000\n    if(exp >= nextLevel){\n        newCharacter.level = level + 1\n        newCharacter.stats = Object.keys(newCharacter.stats).reduce((acc, statKey)=>{\n            const stat = newCharacter.stats[statKey]\n            stat.points += Math.round(character.stats[statKey].points/10)\n            return {...acc, [statKey]: {...stat}}\n        },{})\n    }\n\n    \n    return newCharacter\n}","import { createMuiTheme } from '@material-ui/core/styles';\nconst themeOptions = {\n    palette: {\n      type: 'dark',\n      primary: {\n        main: '#3f51b5',\n      },\n      secondary: {\n        main: '#f50057',\n      },\n    },\n  };\nconst theme = createMuiTheme({\n...themeOptions\n  });\n\n\n  export default theme\n  ","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://github.com/brandon-irving/mardock-game\">\n                Mardock Game\n      </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\n\n\n\nexport default function BasicRoot({children, maxWidth=\"xs\"}) {\n\n    return (\n        <Container component=\"main\" maxWidth={maxWidth}>\n            <CssBaseline />\n        {children}\n            <Box mt={8}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContextState } from 'dynamic-context-provider'\nimport { signInWithGoogle } from '../firebase'\nimport { createUserWithEmailAndPasswordHandler } from '../firebase'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../core/theme';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../common/BasicRoot';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://github.com/brandon-irving/mardock-game\">\n                Mardock Game\n      </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst BluePrint = () => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'displayName',\n                            name: 'displayName',\n                            type: 'text',\n                            label: 'Name',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'email',\n                            name: 'email',\n                            type: 'email',\n                            label: 'Email',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'password',\n                            name: 'password',\n                            type: 'password',\n                            label: 'Password',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Sign Up',\n                            fullWidth: true,\n                            disabled: false,\n                            variant: 'outlined',\n                        }\n                    },\n                ]\n            },\n           \n\n        ]\n    })\n}\nfunction validate(values) {\n    const errors = {}\n    Object.keys(values).forEach(field => {\n        const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n        if (isEmpty) {\n            errors[field] = 'required'\n        }\n    })\n    return errors\n}\nexport default function SignUpPage({goToSignIn}) {\n    const history = useHistory()\n    const classes = useStyles();\n    const initialValues = { displayName: '', email: '', password: '' }\n\n    async function handleSubmit(values) {\n        await createUserWithEmailAndPasswordHandler(values)\n        history.replace('/')\n    }\n    async function handleGoogleSignUp(e) {\n        await signInWithGoogle()\n        history.replace('/')\n    }\n    return (\n        <BasicRoot>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n            </div>\n            <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                Sign Up\n            </Typography>\n\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint({ handleGoogleSignUp })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n     <Grid container>\n    <Grid item xs>\n        <Button onClick={handleGoogleSignUp}>\n        Google sign up\n        </Button>\n    \n    </Grid>\n    <Grid item>\n    <Button onClick={goToSignIn}>\n        Already have an account? Sign in\n        </Button>\n     \n    </Grid>\n  </Grid>\n    </BasicRoot>\n    );\n}","import React, { useState } from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContextState } from 'dynamic-context-provider'\nimport { signInWithGoogle } from '../firebase'\nimport { signInWithEmailAndPasswordHandler } from '../firebase'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../core/theme';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../common/BasicRoot';\nimport SignUpPage from './SignUpPage'\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst BluePrint = () => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'email',\n                            name: 'email',\n                            type: 'email',\n                            label: 'Email',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'password',\n                            name: 'password',\n                            type: 'password',\n                            label: 'Password',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Sign in',\n                            fullWidth: true,\n                            disabled: false,\n                            variant: 'outlined',\n                        }\n                    },\n                ]\n            },\n           \n\n        ]\n    })\n}\nfunction validate(values) {\n    const errors = {}\n    Object.keys(values).forEach(field => {\n        const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n        if (isEmpty) {\n            errors[field] = 'required'\n        }\n    })\n    return errors\n}\nexport default function SignIn() {\n    const { updateContextState } = useContextState()\n    const history = useHistory()\n    const classes = useStyles();\n    const initialValues = { email: '', password: '' }\n    const [signUp, setsignUp] = useState(false)\n    async function handleSubmit(values) {\n        updateContextState({globalLoading: true})\n        const user = await signInWithEmailAndPasswordHandler(values.email, values.password)\n        const route = user.character ? '/' : 'create'\n        history.replace(route)\n        updateContextState({globalLoading: false})\n\n    }\n    async function handleGoogleSignIn(e) {\n        updateContextState({globalLoading: true})\n        const user = await signInWithGoogle()\n        const route = user.character ? '/' : 'create'\n\n        history.replace(route)\n        updateContextState({globalLoading: false})\n\n    }\n    function goToSignUp(){\n        setsignUp(true)\n    }\n    function goToSignIn(){\n        setsignUp(false)\n    }\n    if(signUp){\n        return <SignUpPage goToSignIn={goToSignIn} />\n    }\n    return (\n        <BasicRoot>\n               <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n            </div>\n            <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                Sign In\n            </Typography>\n        \n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint({ handleGoogleSignIn })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n     <Grid container>\n    <Grid item xs>\n        <Button onClick={handleGoogleSignIn}>\n        Google sign in\n        </Button>\n    \n    </Grid>\n    <Grid item>\n    <Button onClick={goToSignUp}>\n        Sign Up\n        </Button>\n     \n    </Grid>\n  </Grid>\n    </BasicRoot>\n    );\n}","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    margin: \"0 -15px !important\",\n    width: \"unset\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridContainer(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid container {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridContainer.propTypes = {\n  children: PropTypes.node\n};\n","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    padding: \"0 15px !important\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridItem(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid item {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridItem.propTypes = {\n  children: PropTypes.node\n};\n","/*!\n\n =========================================================\n * Material Dashboard React - v1.9.0 based on Material Dashboard - v1.2.0\n =========================================================\n\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\n * Copyright 2020 Creative Tim (http://www.creative-tim.com)\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n =========================================================\n\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n */\n\n// ##############################\n// // // Function that converts from hex color to rgb color\n// // // Example: input = #9c27b0 => output = 156, 39, 176\n// // // Example: input = 9c27b0 => output = 156, 39, 176\n// // // Example: input = #999 => output = 153, 153, 153\n// // // Example: input = 999 => output = 153, 153, 153\n// #############################\nconst hexToRgb = input => {\n  input = input + \"\";\n  input = input.replace(\"#\", \"\");\n  let hexRegex = /[0-9A-Fa-f]/g;\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\n    throw new Error(\"input is not a valid hex color.\");\n  }\n  if (input.length === 3) {\n    let first = input[0];\n    let second = input[1];\n    let last = input[2];\n    input = first + first + second + second + last + last;\n  }\n  input = input.toUpperCase();\n  let first = input[0] + input[1];\n  let second = input[2] + input[3];\n  let last = input[4] + input[5];\n  return (\n    parseInt(first, 16) +\n    \", \" +\n    parseInt(second, 16) +\n    \", \" +\n    parseInt(last, 16)\n  );\n};\n\n// ##############################\n// // // Variables - Styles that are used on more than one component\n// #############################\n\nconst drawerWidth = 260;\n\nconst transition = {\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\n};\n\nconst container = {\n  paddingRight: \"15px\",\n  paddingLeft: \"15px\",\n  marginRight: \"auto\",\n  marginLeft: \"auto\"\n};\n\nconst defaultFont = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeight: \"300\",\n  lineHeight: \"1.5em\"\n};\n\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\nconst grayColor = [\n  \"#999\",\n  \"#777\",\n  \"#3C4858\",\n  \"#AAAAAA\",\n  \"#D2D2D2\",\n  \"#DDD\",\n  \"#b4b4b4\",\n  \"#555555\",\n  \"#333\",\n  \"#a9afbb\",\n  \"#eee\",\n  \"#e7e7e7\"\n];\nconst blackColor = \"#000\";\nconst whiteColor = \"#FFF\";\n\nconst boxShadow = {\n  boxShadow:\n    \"0 10px 30px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 4px 25px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\"\n};\n\nconst primaryBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(primaryColor[0]) +\n    \",.4)\"\n};\nconst infoBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(infoColor[0]) +\n    \",.4)\"\n};\nconst successBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(successColor[0]) +\n    \",.4)\"\n};\nconst warningBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(warningColor[0]) +\n    \",.4)\"\n};\nconst dangerBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(dangerColor[0]) +\n    \",.4)\"\n};\nconst roseBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(roseColor[0]) +\n    \",.4)\"\n};\n\nconst warningCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\n  ...warningBoxShadow\n};\nconst successCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\n  ...successBoxShadow\n};\nconst dangerCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\n  ...dangerBoxShadow\n};\nconst infoCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\n  ...infoBoxShadow\n};\nconst primaryCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\n  ...primaryBoxShadow\n};\nconst roseCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\n  ...roseBoxShadow\n};\n\nconst cardActions = {\n  margin: \"0 20px 10px\",\n  paddingTop: \"10px\",\n  borderTop: \"1px solid \" + grayColor[10],\n  height: \"auto\",\n  ...defaultFont\n};\n\nconst cardHeader = {\n  margin: \"-20px 15px 0\",\n  borderRadius: \"3px\",\n  padding: \"15px\"\n};\n\nconst card = {\n  display: \"inline-block\",\n  position: \"relative\",\n  width: \"100%\",\n  margin: \"25px 0\",\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n  borderRadius: \"3px\",\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n  background: whiteColor\n};\n\nconst defaultBoxShadow = {\n  border: \"0\",\n  borderRadius: \"3px\",\n  boxShadow:\n    \"0 10px 20px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 3px 20px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\",\n  padding: \"10px 0\",\n  transition: \"all 150ms ease 0s\"\n};\n\nconst title = {\n  color: grayColor[2],\n  textDecoration: \"none\",\n  fontWeight: \"300\",\n  marginTop: \"30px\",\n  marginBottom: \"25px\",\n  minHeight: \"32px\",\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n  \"& small\": {\n    color: grayColor[1],\n    fontWeight: \"400\",\n    lineHeight: \"1\"\n  }\n};\n\nconst cardTitle = {\n  ...title,\n  marginTop: \"0\",\n  marginBottom: \"3px\",\n  minHeight: \"auto\",\n  \"& a\": {\n    ...title,\n    marginTop: \".625rem\",\n    marginBottom: \"0.75rem\",\n    minHeight: \"auto\"\n  }\n};\n\nconst cardSubtitle = {\n  marginTop: \"-.375rem\"\n};\n\nconst cardLink = {\n  \"& + $cardLink\": {\n    marginLeft: \"1.25rem\"\n  }\n};\n\nexport {\n  hexToRgb,\n  //variables\n  drawerWidth,\n  transition,\n  container,\n  boxShadow,\n  card,\n  defaultFont,\n  primaryColor,\n  warningColor,\n  dangerColor,\n  successColor,\n  infoColor,\n  roseColor,\n  grayColor,\n  blackColor,\n  whiteColor,\n  primaryBoxShadow,\n  infoBoxShadow,\n  successBoxShadow,\n  warningBoxShadow,\n  dangerBoxShadow,\n  roseBoxShadow,\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  cardActions,\n  cardHeader,\n  defaultBoxShadow,\n  title,\n  cardTitle,\n  cardSubtitle,\n  cardLink\n};\n","import {\n  blackColor,\n  whiteColor,\n  hexToRgb\n} from \"../../material-dashboard-react\";\n\nconst cardStyle = {\n  card: {\n    border: \"0\",\n    marginBottom: \"30px\",\n    marginTop: \"30px\",\n    borderRadius: \"6px\",\n    color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n    background: whiteColor,\n    width: \"100%\",\n    boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    minWidth: \"0\",\n    wordWrap: \"break-word\",\n    fontSize: \".875rem\"\n  },\n  cardPlain: {\n    background: \"transparent\",\n    boxShadow: \"none\"\n  },\n  cardProfile: {\n    marginTop: \"30px\",\n    textAlign: \"center\"\n  },\n  cardChart: {\n    \"& p\": {\n      marginTop: \"0px\",\n      paddingTop: \"0px\"\n    }\n  }\n};\n\nexport default cardStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Card(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, chart, ...rest } = props;\n  const cardClasses = classNames({\n    [classes.card]: true,\n    [classes.cardPlain]: plain,\n    [classes.cardProfile]: profile,\n    [classes.cardChart]: chart,\n    [className]: className !== undefined\n  });\n  return (\n    <div style={{background: '#424242'}} className={cardClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  chart: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  whiteColor\n} from \"../../material-dashboard-react\";\n\nconst cardHeaderStyle = {\n  cardHeader: {\n    padding: \"0.75rem 1.25rem\",\n    marginBottom: \"0\",\n    borderBottom: \"none\",\n    background: \"transparent\",\n    zIndex: \"3 !important\",\n    \"&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      margin: \"0 15px\",\n      padding: \"0\",\n      position: \"relative\",\n      color: whiteColor\n    },\n    \"&:first-child\": {\n      borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\n    },\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      \"&:not($cardHeaderIcon)\": {\n        borderRadius: \"3px\",\n        marginTop: \"-20px\",\n        padding: \"15px\"\n      }\n    },\n    \"&$cardHeaderStats svg\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      textAlign: \"center\",\n      width: \"36px\",\n      height: \"36px\",\n      margin: \"10px 10px 4px\"\n    },\n    \"&$cardHeaderStats i,&$cardHeaderStats .material-icons\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      width: \"56px\",\n      height: \"56px\",\n      textAlign: \"center\",\n      overflow: \"unset\",\n      marginBottom: \"1px\"\n    },\n    \"&$cardHeaderStats$cardHeaderIcon\": {\n      textAlign: \"right\"\n    }\n  },\n  cardHeaderPlain: {\n    marginLeft: \"0px !important\",\n    marginRight: \"0px !important\"\n  },\n  cardHeaderStats: {\n    \"& $cardHeaderIcon\": {\n      textAlign: \"right\"\n    },\n    \"& h1,& h2,& h3,& h4,& h5,& h6\": {\n      margin: \"0 !important\"\n    }\n  },\n  cardHeaderIcon: {\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      background: \"transparent\",\n      boxShadow: \"none\"\n    },\n    \"& i,& .material-icons\": {\n      width: \"33px\",\n      height: \"33px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\"\n    },\n    \"& svg\": {\n      width: \"24px\",\n      height: \"24px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\",\n      margin: \"5px 4px 0px\"\n    }\n  },\n  warningCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...warningCardHeader\n    }\n  },\n  successCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...successCardHeader\n    }\n  },\n  dangerCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...dangerCardHeader\n    }\n  },\n  infoCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...infoCardHeader\n    }\n  },\n  primaryCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...primaryCardHeader\n    }\n  },\n  roseCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...roseCardHeader\n    }\n  }\n};\n\nexport default cardHeaderStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardHeaderStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardHeader(props) {\n  const classes = useStyles();\n  const { className, children, color, plain, stats, icon, ...rest } = props;\n  const cardHeaderClasses = classNames({\n    [classes.cardHeader]: true,\n    [classes[color + \"CardHeader\"]]: color,\n    [classes.cardHeaderPlain]: plain,\n    [classes.cardHeaderStats]: stats,\n    [classes.cardHeaderIcon]: icon,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardHeaderClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardHeader.propTypes = {\n  className: PropTypes.string,\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  plain: PropTypes.bool,\n  stats: PropTypes.bool,\n  icon: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  grayColor\n} from \"../../material-dashboard-react\";\n\nconst cardIconStyle = {\n  cardIcon: {\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      borderRadius: \"3px\",\n      backgroundColor: grayColor[0],\n      padding: \"15px\",\n      marginTop: \"-20px\",\n      marginRight: \"15px\",\n      float: \"left\"\n    }\n  },\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader\n};\n\nexport default cardIconStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardIconStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardIcon(props) {\n  const classes = useStyles();\n  const { className, children, color, ...rest } = props;\n  const cardIconClasses = classNames({\n    [classes.cardIcon]: true,\n    [classes[color + \"CardHeader\"]]: color,\n    [className]: className !== undefined\n  });\n  return (\n    <div style={{marginRight: 0}} className={cardIconClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardIcon.propTypes = {\n  className: PropTypes.string,\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  children: PropTypes.node\n};\n","import { grayColor } from \"../../material-dashboard-react\";\n\nconst cardFooterStyle = {\n  cardFooter: {\n    padding: \"0\",\n    paddingTop: \"10px\",\n    margin: \"0 15px 10px\",\n    borderRadius: \"0\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    display: \"flex\",\n    backgroundColor: \"transparent\",\n    border: \"0\"\n  },\n  cardFooterProfile: {\n    marginTop: \"-15px\"\n  },\n  cardFooterPlain: {\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\",\n    backgroundColor: \"transparent\"\n  },\n  cardFooterStats: {\n    borderTop: \"1px solid \" + grayColor[10],\n    marginTop: \"20px\",\n    \"& svg\": {\n      position: \"relative\",\n      top: \"4px\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\",\n      width: \"16px\",\n      height: \"16px\"\n    },\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n      fontSize: \"16px\",\n      position: \"relative\",\n      top: \"4px\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    }\n  },\n  cardFooterChart: {\n    borderTop: \"1px solid \" + grayColor[10]\n  }\n};\n\nexport default cardFooterStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardFooterStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardFooter(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, stats, chart, ...rest } = props;\n  const cardFooterClasses = classNames({\n    [classes.cardFooter]: true,\n    [classes.cardFooterPlain]: plain,\n    [classes.cardFooterProfile]: profile,\n    [classes.cardFooterStats]: stats,\n    [classes.cardFooterChart]: chart,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardFooterClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardFooter.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  stats: PropTypes.bool,\n  chart: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  successColor,\n  whiteColor,\n  grayColor,\n  hexToRgb\n} from \"./material-dashboard-react\";\n\nconst dashboardStyle = {\n  successText: {\n    color: successColor[0]\n  },\n  upArrowCardCategory: {\n    width: \"16px\",\n    height: \"16px\"\n  },\n  stats: {\n    color: grayColor[0],\n    display: \"inline-flex\",\n    fontSize: \"12px\",\n    lineHeight: \"22px\",\n    \"& svg\": {\n      top: \"4px\",\n      width: \"16px\",\n      height: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    },\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n      top: \"4px\",\n      fontSize: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    }\n  },\n  cardCategory: {\n    color: grayColor[0],\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    paddingTop: \"10px\",\n    marginBottom: \"0\"\n  },\n  cardCategoryWhite: {\n    color: \"rgba(\" + hexToRgb(whiteColor) + \",.62)\",\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    marginBottom: \"0\"\n  },\n  cardTitle: {\n    color: grayColor[2],\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  },\n  cardTitleWhite: {\n    color: whiteColor,\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nexport default dashboardStyle;\n","import React from 'react'\nconst ImageIcon = ({ size=\"large\", src, alt='', width=\"25vw\" }) => {\n    const sizeMapper = {\n        small: '25px',\n        medium: '50px',\n        large: '100px'\n    }\n    return (\n        <img style={{ width, maxWidth: sizeMapper[size], height: 'inherit' }} src={src} alt={alt} />\n    )\n}\n\nexport default ImageIcon\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\n  \nconst ProgressBar = ({progress = 100, color='green', backgroundColor=\"black\"}) => {\n    const BorderLinearProgress = withStyles((theme) => ({\n        root: {\n          height: 15,\n          borderRadius: 10,\n        },\n        colorPrimary: {\n          backgroundColor,\n        },\n        bar: {\n          borderRadius: 5,\n          backgroundColor: color,\n        },\n      }))(LinearProgress);\n    return (\n            <BorderLinearProgress variant=\"determinate\" value={progress} />\n    )\n}\n\nexport default ProgressBar\n","export default __webpack_public_path__ + \"static/media/darkRiteArmor.9c40cf0e.svg\";","import darkRiteArmor from '../../images/darkRiteArmor.svg'\n\nconst items = {\n    'Potion': { price: 200, type:'misc', hp: 10, mp:0, label: 'Potion', description: 'A common pain reducer and healing drink. Recovers 10 hp', src: darkRiteArmor },\n    'Mana Cubes': { price: 200, type:'misc', hp: 0, mp:10, label: 'Mana Cubes', description: 'A common pain reducer and healing drink. Recovers 10 mp', src: darkRiteArmor },\n    'Bear Soup': { price: 250, type:'misc', hp: 5, mp:5, label: 'Bear Soup', description: 'Recover 20 hp', src: darkRiteArmor },\n    'Gooba Fish': { price: 200, type:'misc', hp: 15, mp:0, label: 'Gooba Fish', description: 'A hearty fish, with a sweet taste. Popular at markets', src: darkRiteArmor },\n    'Fish': { price: 200, type:'misc', hp: 5, mp:0, label: 'Fish', description: 'A decent sized snapper like fish. Best served seared!', src: darkRiteArmor },\n\n    'Smelling Salts': { price: 150, type:'misc', hp: 0, mp: 0, label: 'Smelling Salts', description: 'Recover 20 hp', src: darkRiteArmor },\n    'Revive': { price: 500, type:'misc', hp: 10, mp: 0, label: 'Revive', description: 'Recover 20 hp', src: darkRiteArmor },\n    'Enchanted Chicken Breast': { price: 200, type:'misc', hp: 5, mp:0, label: 'Enchanted Chicken Breast', description: 'Recover 20 hp', src: darkRiteArmor },\n\n}\nexport default items","import { flatMap, forEach, map } from \"lodash\";\nimport { statSheet } from './constants'\nimport items from './items/items'\n\nexport function randomIntFromInterval(min, max) { // min and max included \n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n\nexport function getSpecialMonsterList(containerObject) { // min and max included \n  const arrayOfSpecials = map(flatMap(containerObject), monsterConfig=>{\n    return monsterConfig.special\n  })\n  return arrayOfSpecials\n}\n\nexport function generateStats(range=5) {\n  const generatedStats = Object.keys(statSheet).reduce((acc, statKey)=>{\n  const newStats = {...acc}\n  let randomStat = randomIntFromInterval(9, 14)\n  if(range > 5 && range <= 10){\n      randomStat = randomIntFromInterval(10, 15)\n  }\n  if(range > 10 && range <= 15){\n      randomStat = randomIntFromInterval(12, 16)\n  }\n  if(range > 15 && range <= 20){\n      randomStat = randomIntFromInterval(14, 20)\n  }\n  if(range > 20){\n      randomStat = randomIntFromInterval(20, 25)\n  }\n  return {...newStats, [statKey]: randomStat}\n  }, {})\n  return generatedStats\n  }\n  export function generateItems(itemsArray){\n    const listOfItems = []\n    forEach(itemsArray, itemInfoString=>{\n      const quantity = itemInfoString.match(/\\d+/) ? Number(itemInfoString.match(/\\d+/)[0]) : 1\n      const itemName = itemInfoString.replace(`${quantity}`, '')\n      const item = {...items[itemName], quantity}\n      listOfItems.push(item)\n    })\n\n    return listOfItems\n  }\n\n  export const normalise = (value, MAX) => (value - 0) * 100 / (MAX - 0);\n","import darkRiteArmor from '../../images/darkRiteArmor.svg'\nconst armors = {\n    'Sturdy Clothes': {\n        price: 400, type: 'armor', hp: 2, mp:0, label: 'Sturdy Clothes', description: 'Clothes made from reinforced fabrics. It offers light protection', src: darkRiteArmor\n    },    'Chain Mail': {\n        price: 1000, type: 'armor', hp: 10, mp:0, label: 'Chain Mail', description: 'A metal linked armor, providing protection and maneuverability', src: darkRiteArmor\n    },\n}\nexport default armors","import jewel from '../../images/jewelArmanar.svg'\nconst accessories = {\n'Jewel of Armanar': {\n    price: 1000, type: 'accessory', hp: 10, mp:0,  label: 'Jewel of Armanar', description: 'A jewel crafted from the common mineral Armanar', src: jewel\n},\n}\n\nexport default accessories","export default __webpack_public_path__ + \"static/media/jewelArmanar.eb01ddc8.svg\";","import sword from '../../images/sword.svg'\nimport dagger from '../../images/dagger.svg'\nimport bow from '../../images/bow.svg'\n\nconst iconMapper = {\n    'sword': sword,\n    'dagger': dagger,\n    'bow': bow,\n}\nconst weapons = {\n    'Long Sword': {\n        price: 500, attackType: 'sword', type: 'weapon', requirement: {str: 12}, hp: 0, mp:0, roll: 'd8', label: 'Long Sword', range: '1 square', description: 'A standard 4ft long steel sword. Requires 2 hands to weild and can strike enemies near you', src: iconMapper['sword']\n    },\n    'Dagger': {\n        price: 500, attackType: 'dagger', type: 'weapon', requirement: {dex: 12},  hp: 0, mp:0, roll: 'd4', label: 'Dagger', range: '1 square', description: 'A small and crafty blade. Requires acute handling and can strike enemies near you', src: iconMapper['dagger']\n    },\n    'Short Sword': {\n        price: 500, attackType: 'sword', type: 'weapon', requirement: {}, hp: 0, mp:0, roll: 'd6', label: 'Short Sword', range: '1 square', description: 'A standard 2ft long sword. Any one can weild it with ease and can strike enemies near you', src: iconMapper['sword']\n    },\n    'Bow': {\n        price: 500, attackType: 'bow', type: 'weapon', requirement: {dex: 14},  hp: 0, mp:0, roll: 'd4', label: 'Bow', range: '5 squares', description: 'A common bow and arrow. Requires some dexterity but allows you to shoot enemies within sight', src: iconMapper['bow']\n    },\n    'Bear Claw': {\n        price: 1000, type: 'sword', requirement: {str: 14, dex: 12}, hp: 0, mp:0, roll: 'd6', label: 'Bear Claw', range: '1 square', description: '3 one ft metal claws on each hand. You can attack the enemy twice', src: iconMapper['sword']\n    },\n}\nexport default weapons","export default __webpack_public_path__ + \"static/media/sword.119d0a25.svg\";","export default __webpack_public_path__ + \"static/media/dagger.7b33d30e.svg\";","export default __webpack_public_path__ + \"static/media/bow.fd387977.svg\";","import { useContextState } from \"dynamic-context-provider\";\nimport { accessories, weapons } from \"../../gameData/items\";\n\nexport function useGetEquippedData(type){\n    const { user: {character: {equipped}} } = useContextState()\n    const typeMap = {accessory: accessories, weapon: weapons}\n    const data = typeMap[type][equipped[type]] || {}\n\n    return data\n}","import React, { useState, useEffect } from 'react'\nimport ProgressBar from '.'\nimport { useContextState } from 'dynamic-context-provider';\nimport { normalise } from '../../gameData/helpers'\n// import { useStatSheet } from '../hooks/useStatSheet'\nimport { useGetEquippedData } from '../hooks/useGetEquippedData'\nimport { Typography } from '@material-ui/core';\n\nconst HpBar = ({monster}) => {\n    const { user } = useContextState()\n    const desired = monster? {...monster, equipped: {}} : user.character\n\n    const {  hp, maxHp, equipped: {armor={hp: 0}} } = desired\n        const accessory = useGetEquippedData('accessory')\n        const weapon = useGetEquippedData('weapon')\n\n        function getHp(){\n        const currentHp = hp + (armor?.hp || 0) + (weapon?.hp || 0) + (accessory?.hp || 0)\n          return normalise(currentHp, maxHp)\n        }\n        const [gaugeValue, setgaugeValue] = useState(getHp())\n        \n        \n        useEffect(() => {\n            setgaugeValue(getHp())\n        }, [hp, armor, monster])   \n        \n        if(monster)return null // TODO: conditionally show users\n    return (\n        <div style={{marginTop: '10px', marginBottom: '10px'}}>\n            <Typography>HP: {hp}/{maxHp}</Typography>\n{getHp() > 100 && <ProgressBar progress={gaugeValue - 100} color='teal' backgroundColor='green'/>}\n {getHp() <= 100 && <ProgressBar progress={gaugeValue} color='green' backgroundColor='black'/>}\n        </div>\n      \n    )\n}\n\nexport default HpBar\n","import React from 'react'\n// Components\nimport GridItem from '../common/material/Grid/GridItem'\nimport Card from '../common/material/Card/Card'\nimport CardHeader from '../common/material/Card/CardHeader'\nimport CardIcon from '../common/material/Card/CardIcon'\nimport CardFooter from '../common/material/Card/CardFooter'\nimport styles from \"../common/material/dashboardStyle\";\n// Icons\nimport Store from \"@material-ui/icons/Store\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ImageIcon from './ImageIcon'\nimport HpBar from './ProgressBar/HpBar'\nimport { Typography } from '@material-ui/core'\nconst useStyles = makeStyles(styles);\n\nconst InfoCard = ({ \n    title='Knight', \n    text=\"The knight is a real nigga\",\n    topText=\"\",\n    imgSrc=\"\",\n    noBox=false,\n}) => {\n    const classes = useStyles();\n    \n    return (\n        <GridItem xs={12} sm={6} md={4}>\n        <Card>\n          {!noBox && \n          <div style={{display: 'flex', justifyContent: 'center'}}>  \n            <CardIcon color=\"rose\">\n            <ImageIcon alt={title} src={imgSrc} />\n            </CardIcon>\n          </div>}\n          <p style={{color: 'white', fontSize: '15pt', textAlign: 'center'}} className={classes.cardCategory}>{title}</p>\n          <Typography variant=\"subtitle1\" style={{color: 'white', textAlign: 'center'}} variant=\"subtitle1\">{topText}</Typography>\n          <CardFooter stats>\n          <Typography style={{color: 'white', textAlign: 'center'}} variant=\"subtitle1\">{text}</Typography>\n          </CardFooter>\n        </Card>\n      </GridItem>\n    )\n}\n\nexport default InfoCard\n","import React, { useState, useEffect } from 'react'\nimport ProgressBar from '.'\nimport { useContextState } from 'dynamic-context-provider';\nimport { normalise } from '../../gameData/helpers'\n// import { useStatSheet } from '../hooks/useStatSheet'\nimport { useGetEquippedData } from '../hooks/useGetEquippedData'\nimport { Typography } from '@material-ui/core';\n\nconst MpBar = ({monster}) => {\n    const { user } = useContextState()\n    const desired = monster? {...monster, equipped: {}} : user.character\n    const { mp, maxMp, equipped: {armor={mp: 0}}} = desired\n\n        const accessory = useGetEquippedData('accessory')\n        const weapon = useGetEquippedData('weapon')\n        // const stats = useStatSheet()\n\n        function getMp(){\n        const currentMp = mp + (armor?.mp || 0) + (weapon?.mp || 0) + (accessory?.mp || 0)\n          return normalise(currentMp, maxMp)\n        }\n        const [gaugeValue, setgaugeValue] = useState(getMp())\n        \n        useEffect(() => {\n            setgaugeValue(getMp())\n        }, [mp])        \n        if(monster)return null\n    return (\n        <div style={{marginTop: '10px', marginBottom: '10px'}}>\n                        <Typography>MP: {mp}/{maxMp}</Typography>\n{getMp() > 100 && <ProgressBar progress={gaugeValue - 100} color='light blue' backgroundColor='blue'/>}\n {getMp() <= 100 && <ProgressBar progress={gaugeValue} color='blue' backgroundColor='black'/>}\n        </div>\n      \n    )\n}\n\nexport default MpBar\n","import React from 'react'\nimport GridItem from '../common/material/Grid/GridItem'\nimport Card from '../common/material/Card/Card'\nimport { Typography } from '@material-ui/core'\n\nconst InfoCard2 = ({ \nchildren, title=\"\"\n}) => {\n    \n    return (\n        <GridItem xs={12} sm={6} md={4}>\n        <Card>\n            <Typography style={{color: \"white\"}} align=\"center\" variant=\"h6\">{title}</Typography>\n            <div style={{textAlign: 'center', color: 'white', margin: '10px',display: 'flex', flexWrap: 'wrap'}}>\n            {children}\n            </div>\n        </Card>\n      </GridItem>\n    )\n}\n\nexport default InfoCard2\n","import { Grid } from '@material-ui/core'\nimport React from 'react'\n\nconst CustomIcon = ({logo, alt, text=\"\"}) => {\n    const style={\n        width: '100%',\n        maxHeight: '55px'\n    }\n    const textStyle={\n        display: 'flex',\n        alignItems: 'center'\n    }\n    return (\n        <Grid container>\n            <Grid item xs={3}>\n            <img style={style} src={logo} alt={alt} />       \n            </Grid>\n            <Grid item xs={9} style={textStyle}>\n        {text}\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default CustomIcon\n","export default __webpack_public_path__ + \"static/media/novice.d700e06c.svg\";","import novice from '../../images/novice.svg'\n\nexport const titles = {\n    'Novice Adventurer': {statBoost: {},  src: novice, label: 'Novice Adventurer', description: \"It's clear you're a beginner at adventuring, get used to people underestimating you until you prove them wrong!\"},\n}","function generateSpell(label, description, element, rule, mp, stat){\n    return {label, useDescription: `Mp: ${mp}`, description, element, rule, mp, stat}\n}\nconst ballSpell = (element, mp, die)=>{\n    const spell = { \n        useDescription: `Mp: ${mp}`,\n        label: `${element} Ball`, \n        description: `A sphere made of ${element}, hurled at an enemy 3 meters in the users line of vision`, \n        element: element.toLowerCase(), \n        rule:`Roll a ${die} damage dice (and a d4 elemental dice if the target is weak to ${element})`, \n        mp,\n    }\n    return spell\n}\n\nconst spells = {\n    'Fire Ball':  ballSpell('Fire', 5, 'd8'),\n    'Ice Ball':  ballSpell('Ice', 5, 'd8'),\n    'Wind Ball':  ballSpell('Wind', 5, 'd8'),\n    'Thunder Ball':  ballSpell('Thunder', 10, 'd12'),\n    'Shadow Ball':  ballSpell('Shadow', 10, 'd12'),\n    'Lumen Ball':  ballSpell('Lumen', 10, 'd12'),\n    'Wind Cutter': { useDescription: 'Mp: 3', mp: 3, label: 'Wind Cutter', rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    'Heal': generateSpell(\n        'Heal',\n        'Mana aimed to regenerate damaged cells to a small degree. Must be delivered through touch',\n        'Heal',\n        '',\n        10,\n        {hp: 10}\n    ),\n}\nexport default spells","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../core/theme'\nimport { Typography } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { activateAbility, activateSpell } from '../../firebase'\nimport { find } from 'lodash'\n\nconst defaultTargets = [{ label: 'No Targets', value: 'No Targets' }]\n\nconst BaseBluePrint = ({ values, type = 'base', options = [{ label: '', value: '' }], targets = [{ label: '', value: '' }] }) => {\n    const foundValue = find(options, {label: values[type]}) || {}\n    console.log('log: values', values)\n    \n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: type,\n                            name: type,\n                            type: 'selectNative',\n                            value: values[type],\n                            options,\n                            subscript: <>\n                                <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Description</Typography>\n                                <Typography style={{ fontSize: '10pt', marginBottom: '10px' }}>{foundValue?.description}</Typography>\n                               {type !== 'Items' &&<> <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>How to use</Typography>\n                                <Typography style={{ fontSize: '10pt', marginBottom: '10px' }}>{foundValue.rule}</Typography>\n                                <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Cost</Typography>\n                                <Typography style={{ fontSize: '10pt' }}>{foundValue.useDescription}</Typography></>}\n                                {type === 'Items' && <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Quantity: {foundValue.quantity}</Typography>}\n\n                            </>\n                        }\n                    },\n                ]\n            },\n            values.target !== undefined &&{\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            label: 'Target',\n                            type: 'selectNative',\n                            value: values.target.value,\n                            options: targets\n\n                        }\n                    }\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: targets[0].label === 'No Targets',\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst errorMessageMap = {\n    Attack: 'You dont know any specials with this weapon',\n    Spell: \"You don't know any spells\" ,\n    Skill: \"You don't know any skills\"\n}\n\nexport default function BaseForm({ onSubmit=()=>{}, type = '', options, targets = defaultTargets }) {\n    const { user } = useContextState()\n    const initialValues = { [type]: options[0] ? options[0].value : '', target: targets ? targets[0].value : defaultTargets[0].value }\n    const [values, setvalues] = React.useState(initialValues)\n    \n    if(!options.length) return errorMessageMap[type]\n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(field => {\n            const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n            if (isEmpty) {\n                errors[field] = 'required'\n            }\n        })\n        setvalues(values)\n        return errors\n    }\n    async function handleSubmit(values) {\n        const foundItem = find(options, { label: values[type]})\n        let success = false\n        if(type !== 'Spell'){            \n            success = await activateAbility(user, foundItem.ap)\n        }else{\n            success = await activateSpell(user, foundItem.mp)\n        }\n        if(!success)return\n        await onSubmit()\n    }\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BaseBluePrint({ values, type, options, targets: targets || defaultTargets })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\n","import { useContextState } from 'dynamic-context-provider'\nimport { map } from 'lodash'\nimport React from 'react'\nimport { useGetSpells } from '../../common/hooks/useGetSpells'\nimport BaseForm from './BaseForm'\n\nconst SpellForm = ({targets, closeModal=()=>null}) => {\n    const spells = useGetSpells()\n    function onSubmit(){\n        closeModal()\n    }\n    const convertedTargets = map(targets, monster=>{\n        return {label: monster.name, value: monster.name}\n    }) \n    \n    return (\n       <BaseForm targets={convertedTargets} onSubmit={onSubmit} type=\"Spell\" options={spells} />\n    )\n}\n\nexport default SpellForm\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport  spells from \"../../gameData/player/spells\";\n\nexport function useGetSpells(){\n    const { user: {character: {techniques}} } = useContextState()\n    const availableSpells = map(techniques.spells, name=>{\n        return {...spells[name], value: spells[name].label}\n    })\n    return availableSpells\n}","import styled from 'styled-components'\n\nexport const ButtonContainer = styled.div`\ndisplay: flex;\nalign-items: center;\nfont-weight: bold;\nfont-size: 16pt;\njustify-content: center;\n`\nexport const NumberField = styled.div`\nwidth: 2rem;\n`\n","import React from 'react'\nimport { ButtonContainer, NumberField } from './styled'\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport SubtractIcon from '@material-ui/icons/Remove';\nimport { Typography } from '@material-ui/core';\nimport theme from '../../core/theme';\n\nconst CustomNumberInput = ({value=0, min=null, max=null, onChange}) => {\n    const [stateValue, setstateValue] = React.useState(value)\n    const [error, seterror] = React.useState(null)\n\n    function handleClick(dir){\n        setstateValue(prevValue=>{\n            let newValue = prevValue\n            if(dir === 'inc'){\n                newValue = prevValue + 1\n            }\n            if(dir === 'dec'){\n                newValue = prevValue - 1\n            }\n            onChange(newValue)\n            return newValue\n        })\n    }\n    function increase(){\n        const isTooHigh = max!== null && value + 1 > max \n        if(isTooHigh){            \n            const errorMessage = max === 5 ? 'Reached maximum' : 'Out of stat points'\n            return seterror(errorMessage)\n        }\n        seterror(null)\n        handleClick('inc')\n    }\n    function decrease(){\n        const isTooLow = min!== null && value - 1 < min \n        if(isTooLow){\n            return seterror('Reached minimum')\n        }\n        seterror(null)\n        handleClick('dec')\n    }\n\n    return (\n        <>\n        <ButtonContainer>\n            <IconButton onClick={decrease}>\n                <SubtractIcon />\n            </IconButton>\n            <NumberField>\n                {stateValue}\n                </NumberField>\n                <IconButton onClick={increase}>\n                <AddIcon />\n            </IconButton>\n        </ButtonContainer>\n        {error && <Typography style= {{color: `${theme.palette.error.dark}`}} variant=\"subtitle1\">{error}</Typography>}\n        </>\n    )\n}\n\nexport default CustomNumberInput\n","import React from 'react'\nimport GridContainer from '../common/material/Grid/GridContainer'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InfoCard from '../common/InfoCard'\nimport HpBar from '../common/ProgressBar/HpBar'\nimport MpBar from '../common/ProgressBar/MpBar'\nimport { Card, CardContent, Avatar, Divider, Grid, Typography } from '@material-ui/core'\nimport InfoCard2 from '../common/InfoCard2'\nimport { forEach, map } from 'lodash'\nimport CustomIcon from '../common/CustomIcon'\nimport { useStatSheet } from '../common/hooks/useStatSheet'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useEquipped } from '../common/hooks/useEquipped'\nimport { classes } from '../gameData/player/classes'\nimport { titles } from '../gameData/player/titles'\nimport SpellForm from './BattlePage/SpellForm';\nimport CustomNumberInput from '../common/CustomNumberInput';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n    small: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n    },\n    large: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n  }));\nfunction getInitials(fullName='John Doe'){\n  const names = fullName.split(' ')\n  const initialsArray = []\n  forEach(names, name=>{\n    initialsArray.push( name.charAt(0))\n  })\n return initialsArray.join(' ')\n}\n  const Home = () => {\n    const { user: { character } } = useContextState() \n    const className = useStyles();\n    const stats = useStatSheet()\n    const equipped = useEquipped()\n    const characterTitle = titles[character.title]\n    const characterClass = classes[character.class]\n    \n    return (\n        <div>\n            <Card>\n                <CardContent>\n                    <Grid container>\n                        <Grid item xs={3}>\n                        <Avatar className={className.large}>{getInitials(character.name)}</Avatar>\n                        </Grid>\n                        <Grid style={{textAlign: 'end'}} item xs={9}>\n                        <Typography>{character.name}</Typography>                        \n                        <Typography>Level: {character.level}</Typography>                        \n                        <Typography>{character.exp} Exp</Typography>                        \n                        <Typography>{character.gil} Gil</Typography>                        \n                        </Grid>\n                        <Grid container style={{marginTop: '10px'}}>\n                          {\n                            map(equipped, (equipment, index)=>{\n                              console.log('log: equipment', equipped)\n              \n                              return(\n                                <Grid key={index} item xs={3}>\n                            <CustomIcon text={equipment?.label || 'Empty'} logo={equipment?.src} alt={equipment?.src}/>\n                            </Grid>\n                              )\n                            })\n                          }\n                        </Grid>\n                    </Grid>\n                    <Divider style={{color: 'white', marginTop: '10px', marginBottom: '10px'}}/>\n                <div>\n                <HpBar />\n                <MpBar />\n                    </div>\n                </CardContent>\n            </Card>\n             <GridContainer>\n               {/* <InfoCard2><CustomNumberInput /></InfoCard2> */}\n             <InfoCard2\n             title='Spells'\n             ><SpellForm targets={[{label: character.name, value: character.name}]} /></InfoCard2>\n                 <InfoCard2 title=\"Stats\">\n                     <Grid container>\n                     {map(Object.keys(stats), (abbr, i)=>{\n                       const stat = stats[abbr]\n                       let statMessage = `${abbr.toUpperCase()}: ${stat.points}`\n                       if(stat.statBoost > 0){\n                        statMessage = statMessage + ` +${stat.statBoost}`\n                       }\n                        return(<Grid key={i} item xs={4}>{statMessage}</Grid>)\n                    })}   \n                     </Grid>\n                                     \n                     </InfoCard2>\n             <InfoCard \n             title={characterTitle.label}\n             text={characterTitle.description}\n             imgSrc={characterTitle.src}\n             />\n               <InfoCard \n             title={characterClass.label}\n             topText={characterClass.statDescription}\n             text={characterClass.description}\n             imgSrc={characterClass.src}\n             />\n      </GridContainer>\n        </div>\n    )\n}\n\nexport default Home\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport { accessories, weapons, armors } from \"../../gameData/items\";\n\nexport function useEquipped(){\n    const { user: {character: {equipped}} } = useContextState()\n    const completeEquipped = map(Object.keys(equipped), key=>{\n        const equipment = equipped[key]\n        let equippedInfo = null\n        if(key === 'armor'){\n        equippedInfo = {...equipment, ...armors[equipment.label]}\n        }else if(key === 'weapon'){\n            equippedInfo = weapons[equipment] || ''\n        }else if(key === 'secondaryWeapon'){\n            equippedInfo = weapons[equipment] || ''\n        }\n        else if(key === 'accessory'){\n            equippedInfo = accessories[equipment] || ''\n        }\n        return  equippedInfo\n    })\n    return completeEquipped\n}","export default __webpack_public_path__ + \"static/media/fist.50aa2aec.svg\";","import { AccountCircle, Store } from '@material-ui/icons';\nimport Home from '@material-ui/icons/Home';\nimport ImageIcon from '../common/ImageIcon';\nimport fist from '../images/fist.svg'\n\nconst routes = [\n    {\n        route: '/mardock-game',\n        title: 'Home',\n        icon: <Home />,\n    },\n    {\n        route: '/Character',\n        title: 'Character',\n        icon: <AccountCircle />,\n    },\n    {\n        route: '/Battle',\n        title: 'Battle',\n        icon: <ImageIcon size=\"small\" width='7vw' src={fist} alt=\"battle\" />,\n    },\n    {\n        route: '/Store',\n        title: 'Store',\n        icon: <Store />,\n    },\n]\n\nexport default routes","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core'\nimport { omit } from 'lodash'\nimport React, { useState } from 'react'\n\nconst DialogButton = (props) => {\n    const { dialog ={fullScreen: false, open: false, setopen: ()=>{}}, children, onClick=()=>null } = props\n    const buttonProps = omit(props, ['dialog'])\n\n    async function handleClick(){\n        dialog.setopen(true)\n        await onClick()\n    }\n    function handleClose(){\n        dialog.setopen(false)\n    }\n    return (\n        <>\n    <Button {...buttonProps} onClick={handleClick}>{children}</Button>\n     <Dialog fullScreen={dialog.fullScreen} fullWidth  open={dialog.open} onClose={handleClose}>\n        <DialogTitle id={dialog.title}>{dialog.title}</DialogTitle>\n        <DialogContent>\n         {dialog.content}\n        </DialogContent>\n      </Dialog>\n    </>\n    )\n}\n\nexport default DialogButton\n","import styled from 'styled-components'\n\nexport const FloatingButtonContainer = styled.div`\nposition: absolute; \nright: 3vw;    \n:hover {\n       pointer: cursor;\n      }\n`\n","import { map } from \"lodash\"\n\nconst convertToOptions = (obj, useKey) => {\n    const convertedOptions = map(Object.keys(obj), key=>{\n        if(useKey){\n            return {value: key, label:key }\n        }\n        return{...obj[key], value:obj[key].label }\n    })\n   return convertedOptions\n}\n\nexport default convertToOptions\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport { accessories as accessoriesRepo, weapons as weaponsRepo, armors as armorRepo, items as itemsRepo } from \"../../gameData/items\";\nimport convertToOptions from \"../helpers/convertToOptions\";\nexport function useGetBagOptions(){\n    const { user: {character: {items}} } = useContextState()\n    const options = Object.keys(items).reduce((acc, type)=>{\n        const itemsMap = {...acc}\n        const itemType = items[type]\n        if(!itemType)return {...itemsMap}\n        const repoMapper = {\n            misc: itemsRepo,\n            weapon: weaponsRepo,\n            accessory: accessoriesRepo,\n            armor: armorRepo\n        }\n        const repo = repoMapper[type]\n\n        itemsMap[type] = map(Object.keys(itemType), itemName=>{\n\n            return {...itemType[itemName], ...repo[itemName]}\n        })\n        \n        return itemsMap\n    }, {})\n\n    return options\n}\n\nexport function useGetAllItemOptions(user){\n    const {character: {items} } = user\n\n    const options = Object.keys(items).reduce((acc, type)=>{\n        const repoMapper = {\n            misc: itemsRepo,\n            weapon: weaponsRepo,\n            accessory: accessoriesRepo,\n            armor: armorRepo,\n            specialItem: {}\n        }\n        const repo = repoMapper[type]\n        return {...acc,[type]: convertToOptions(repo)}\n    }, {})\n    return options\n}","import { useContextState } from \"dynamic-context-provider\";\nimport { items as itemsFullData, armors, accessories, weapons } from \"../../gameData/items\";\nexport const ITEM_TYPES = {\n    misc: 'misc',\n    accessory: 'accessory',\n    weapon: 'weapon',\n    armor: 'armor',\n    specialItems: 'specialItems',\n}\nexport function useGetSpecificItem(user, itemType){\n    const repo = {\n        misc: itemsFullData,\n        weapon: weapons,\n        armor: armors,\n        accessory: accessories\n    }\n    const itemsGameData = repo[itemType]\n    const { character: {items} } = user // { misc, weapon, }\n    const itemStorage = items[itemType] // {Potion,}\n\n    const userItems = Object.keys(itemStorage).reduce((acc,name)=>{\n        const newItems = [...acc]\n        const item = {...itemsGameData[name], ...itemStorage[name], label: name, value: name}\n        newItems.push(item)\n        return newItems\n    },[])\n    \n    return [userItems, itemsGameData, items, itemStorage ] \n}\nexport function useGetItems(manualUser, itemType){\n    const { user } =  useContextState()\n    const desiredUser = manualUser ? manualUser : user\n    const [userItems, itemsGameData, dbItems] = useGetSpecificItem(desiredUser, itemType)\n    return [userItems, itemsGameData, dbItems[itemType]]\n}\n\n","import React, { useEffect, useState} from 'react'\nimport { Grid, TextField, Typography, MenuItem, Button } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useGetItems } from '../../hooks/useGetItems'\nimport { useGetTargets } from '../../hooks/useGetTargets'\nimport { itemUse } from '../../../firebase'\nimport { find, map } from 'lodash'\n\n\n\nexport default function UseBaseForm({ type = '' , onSubmit=()=>null}) {\n    const { user, updateContextState } = useContextState()\n    const [options, itemsGameData, dbItems] = useGetItems(undefined, type)\n    const [targets, loading] = useGetTargets()\n    const [target, settarget] = useState('')\n    const [item, setitem] = useState(options[0] || {})\n\n    function handleItemChange(event) {\n        const item = find(options, {label: event.target.value})\n        settarget(item);\n    }\n\n    function handleTargetChange(event) {\n        const target = find(targets, {label: event.target.value})\n        settarget(target);\n        \n    }\n    async function handleSubmit() {\n        updateContextState({globalLoading: true})\n        await itemUse({ userGivingItem: user, type, target, item })        \n        updateContextState({globalLoading: false})\n        onSubmit()\n    }\n\n    useEffect(() => {\n        settarget(targets[0])\n    }, [loading])\n\n    // useEffect(() => {\n    //     setitem(options[0] || {})\n    // }, [options])\n\n    if (!target) return null\n    return (\n        <div>\n            {options.length === 0 && <Typography align=\"center\">No items available</Typography>}\n            {options.length !== 0 &&\n                <Grid style={{ marginTop: '30px' }} container>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id='item'\n                            select\n                            value={item.label}\n                            onChange={handleItemChange}\n                        >\n                            {map(options, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <Typography>Quantity: {item.quantity}</Typography>\n                    </Grid>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id='target'\n                            select\n                            value={target.label}\n                            onChange={handleTargetChange}\n                        >\n                            {map(targets, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Button variant=\"outlined\" fullWidth onClick={handleSubmit}>Use Item</Button>\n                    </Grid>\n\n                </Grid>\n            }\n\n        </div>\n\n    )\n}\n\n","import { filter } from 'lodash'\nimport React from 'react'\nimport { getAllUsers } from '../../firebase'\n\nexport const useGetTargets = (excludeUser={}) => {\n    const [targets, settargets] = React.useState([])\n    const [loading, setloading] = React.useState(true)\nasync function onLoad(){\nconst targets = await getAllUsers()\nsettargets(filter(targets, target=> target.uid !== excludeUser.uid))\nsetloading(false)\n}\nReact.useEffect(() => {\n    onLoad()\n}, [])\n\nreturn [targets, loading]\n}\n\n","import { forEach } from \"lodash\"\nimport { launchErrorToaster } from \"../../core/toaster\"\n\nexport function checkIfSkilledEnoughToEquip(value={requirement: {}}, user){\n    let skilledEnough = false\n    const { character } = user\n  \n    if(value?.requirement?.length === 0 || !value?.requirement)return true\n    try{\n      forEach(Object.keys(character.stats), statName=>{\n        const  {points} = character.stats[statName]\n        const requirement = value.requirement[statName] \n        const noRequirements = !Object.keys(value.requirement).length\n        if((requirement && points >= requirement) || noRequirements){\n          skilledEnough = true\n        }        \n      })\n    }catch(e){\n      launchErrorToaster({content: 'There was an error'})\n      console.error('log: error', e)\n    }\n   \n    return skilledEnough\n  }","import React, { useEffect } from 'react'\nimport { Button, Divider, Grid, MenuItem, TextField, Typography } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useGetItems } from '../../hooks/useGetItems'\nimport { equipItem } from '../../../firebase'\nimport { map, find } from 'lodash'\nimport { checkIfSkilledEnoughToEquip } from '../../helpers/checkIfSkilledEnoughToEquip.js'\nimport { launchErrorToaster } from '../../../core/toaster'\n\n\nexport default function EquipBaseForm({ type = '' }) {\n    const { user, globalLoading, updateContextState } = useContextState()\n    const [options, itemsGameData] = useGetItems(undefined, type)\n    const { character: { items, equipped } } = user\n    const [value, setvalue] = React.useState(options[0])\n    \n    const equippedFullInfo = itemsGameData[equipped[type]] || {}\n    \n    async function handleSubmit() {\n        const isSkilledEnough = checkIfSkilledEnoughToEquip(itemsGameData[value?.label], user)\n        if (!isSkilledEnough) return launchErrorToaster({content: 'Not skilled enough to use this item'})\n        updateContextState({ globalLoading: true })\n        const newInitialEquipInBag = await equipItem({ user, items, newEquip: value?.label, type, itemsGameData })        \n        setvalue({ label: newInitialEquipInBag })\n        updateContextState({ globalLoading: false })\n    }\n\n\n    function handleChange(event) {\n        const selectedEquip = find(options, { label: event.target.value })\n\n        setvalue(selectedEquip);\n    }\n\n    useEffect(() => {\n        let selectedEquip = find(options, { label: value?.label })\n        if (!value) {\n            selectedEquip = find(options, { label: equipped })\n        }\n        \n        setvalue(selectedEquip)\n    }, [globalLoading, user])\n\n    if(globalLoading)return null\n    return (\n        <div>\n            <Typography variant=\"h5\" align=\"center\">{Object.keys(equipped[type]).length > 0 ? `Equipped: ${equipped[type]}` : `Nothing Equipped`}</Typography>            \n           {\n           Object.keys(equipped[type]).length > 0 && type === 'weapon' && <> \n           <Typography align=\"center\">\n            Attack Roll: {equippedFullInfo.roll}    \n            </Typography>   \n            <Typography align=\"center\">\n            {equippedFullInfo.description}    \n            </Typography>    \n            </>\n             }           \n            <Divider style={{marginTop: '10px', marginBottom: '20px'}}/>\n            {\n                options.length === 0 && <Typography align=\"center\">No other {type}s</Typography>\n            }\n\n            {options.length !== 0 &&\n                <Grid style={{ marginTop: '30px' }} container>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id={type}\n                            select\n                            value={value?.label}\n                            onChange={handleChange}\n                        >\n                            {map(options, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Button disabled={value === undefined} variant=\"outlined\" fullWidth onClick={handleSubmit}>Swap Equipped</Button>\n                    </Grid>\n\n                </Grid>\n            }\n\n        </div>\n\n    )\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { useGetBagOptions } from '../hooks/useGetBagOptions'\nimport { map } from 'lodash';\nimport UseBaseForm from './forms/UseBaseForm';\nimport EquipBaseForm from './forms/EquipBaseForm';\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n         {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    'aria-controls': `vertical-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    height: 224,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nexport default function Bag() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  const options = useGetBagOptions()\n  const bagLabels = ['Items', 'Weapons', 'Armor', 'Accessories', 'Special Items']\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  return (\n    <div>\n      <Tabs\n              variant=\"scrollable\"\n\n        value={value}\n        onChange={handleChange}\n        aria-label=\"Vertical tabs example\"\n        className={classes.tabs}\n      >\n          {map(bagLabels, (label, i)=><Tab key={label} label={label} {...a11yProps(i)} />)}\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        <UseBaseForm type=\"misc\" options={options.misc} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n      <EquipBaseForm type=\"weapon\" />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n      <EquipBaseForm type=\"armor\"  />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n      <EquipBaseForm type=\"accessory\" />\n      </TabPanel>\n      <TabPanel value={value} index={4}>\n      <UseBaseForm type=\"specialItem\" options={options.specialItem} />\n      </TabPanel>\n\n    </div>\n  );\n}","import { useContextState } from 'dynamic-context-provider'\nimport React from 'react'\nimport DialogButton from '../DialogButton'\nimport { FloatingButtonContainer } from './styled'\nimport { Dialog, DialogContent, DialogTitle } from '@material-ui/core'\nimport Bag from './Bag'\n\nconst FloatingButton = ({children}) => {\n    const [open, setopen] = React.useState(false)\n\n    function handleOpen(){\n        setopen(true)\n    }\n    function handleClose(){\n        setopen(false)\n    }\n   \n    return (\n        <>\n<FloatingButtonContainer onClick={handleOpen}>\n            {children}\n        </FloatingButtonContainer>\n        <Dialog fullWidth style={{bottom: '50vw'}} open={open} onClose={handleClose}>\n        <DialogTitle id='Bag'>Bag</DialogTitle>\n        <DialogContent>\n         <Bag />\n        </DialogContent>\n      </Dialog>\n       </>\n    )\n}\n\nexport default FloatingButton\n","export default __webpack_public_path__ + \"static/media/bag.74d92ec9.svg\";","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { useHistory } from 'react-router-dom';\nimport routes from '../core/routes';\nimport FloatingButton from './FloatingButton';\nimport ImageIcon from './ImageIcon';\nimport bag from '../images/bag.svg';\nimport { signOut } from '../firebase';\nimport { find } from 'lodash';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\nfunction getTitle(route){\n  const title = find(routes, {route})?.title || ''\n  return title\n}\nexport default function Root({children}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const history = useHistory()\n\n  const headerTitle = getTitle(history.location.pathname)\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  \n  function handleLinkClick(e, route){\n      e.preventDefault()\n      e.stopPropagation()\n    history.push( `${route}`)\n  }\n  async function handleLogOut(){\n    history.replace('/sign-in')\n    await signOut()\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            {headerTitle}\n          </Typography>\n          <FloatingButton>\n            <ImageIcon width='40px' src={bag} alt=\"bag\" />\n          </FloatingButton>\n      \n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {routes.map((config, index) => (\n            <ListItem  button key={index}>\n              <ListItemIcon onClick={(e)=>handleLinkClick(e, config.route)}>\n                  {config.icon}\n              </ListItemIcon>\n              <ListItemText primary={config.title} />\n            </ListItem>\n          ))}\n           <Divider />\n           <ListItem  button>\n              <ListItemIcon onClick={handleLogOut}>\n                 <ExitToAppIcon />\n              </ListItemIcon>\n              <ListItemText primary='Log out' />\n            </ListItem>\n        </List>\n       \n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>  \n    </div>\n  );\n}\n","export const attacks ={\n    sword: {\n        'Wide Slash': { maxDamage: 12,useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d12 and deal damage to any 2 monsters near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Fire Slash': { maxDamage: 12,useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n        'Imperial Thrust': { maxDamage: 12,useDescription: 'Ap: 3', ap: 3, label: 'Imperial Thrust',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n        'Blow Away': { maxDamage: 12,useDescription: 'Ap: 3', ap: 3, label: 'Blow Away',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    dagger: {\n        'Pin Missle Strike': { maxDamage: 12,useDescription: 'Ap: 5', ap: 5, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n    },\n    bow: {\n        'Twin Shot': { maxDamage: 12,useDescription: 'Ap: 3', ap: 3, label: 'Twin Shot', rule:'You can shoot your arrow twice (at any two applicable targets)', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n    },\n    fisticuff: {\n    },\n    projectile: {\n    },\n    spear: {\n    },\n    gun: {\n    },\n\n}","import { useContextState } from 'dynamic-context-provider'\nimport { map } from 'lodash'\nimport React from 'react'\nimport { useGetAttacks } from '../../common/hooks/useGetAttacks'\nimport BaseForm from './BaseForm'\n\nconst AttackForm = ({closeModal}) => {\n    const attacks = useGetAttacks()\n    function onSubmit(){        \n        closeModal()\n    }\n    const { user: {character: {inView}}} = useContextState()\n    const targets = inView ? map(inView, monster=>{\n        return {label: monster.name, value: monster.name}\n    }) : null\n    \n    return (\n       <BaseForm targets={targets} onSubmit={onSubmit} type=\"Attack\" options={attacks} />\n    )\n}\n\nexport default AttackForm\n","import { useContextState } from \"dynamic-context-provider\";\nimport { forEach } from \"lodash\";\nimport { weapons } from \"../../gameData/items\";\nimport { attacks } from \"../../gameData/player/attacks\";\n\nexport function useGetAttacks(){\n    const { user: {character: {techniques, equipped: { weapon }}} } = useContextState()\n    const equippedWeapon = weapons[weapon]\n\n    const listOfAttacks = attacks[equippedWeapon.attackType]\n    const availableAttacks = []\n    \n    try{\n        forEach(techniques.attacks, name=>{\n            if(!listOfAttacks[name])return \n            availableAttacks.push({...listOfAttacks[name], value: listOfAttacks[name].label}) \n        })\n    }catch(e){\n        console.error('log: error', e)\n    }\n\n    return availableAttacks\n}","import React from 'react'\nimport UseBaseForm from '../../common/FloatingButton/forms/UseBaseForm'\nimport { useGetBagOptions } from '../../common/hooks/useGetBagOptions'\n\nconst ItemsForm = ({closeModal}) => {\n    const options = useGetBagOptions()\n    return (\n        <UseBaseForm onSubmit={closeModal} type=\"misc\" options={options.misc} />\n    )\n}\n\nexport default ItemsForm\n","export const skills = {\n    'Split Step': { useDescription: 'Ap: 3', ap: 3, label: 'Split Step', rule:'You can activate this skill if you successfully evade, roll a d4 flash die and move 4 squares in any direction'},\n\n}","import { useContextState } from 'dynamic-context-provider'\nimport { map } from 'lodash'\nimport React from 'react'\nimport { useGetSkills } from '../../common/hooks/useGetSkills'\nimport BaseForm from './BaseForm'\n\nconst SkillForm = ({closeModal}) => {\n    const skills = useGetSkills()\n    function onSubmit(){        \n        closeModal()\n    }\n    const { user: {character: {inView}}} = useContextState()\n    const targets = inView ? map(inView, monster=>{\n        return {label: monster.name, value: monster.name}\n    }) : null\n    \n    return (\n       <BaseForm targets={targets} onSubmit={onSubmit} type=\"Skill\" options={skills} />\n    )\n}\n\nexport default SkillForm\n","import { useContextState } from \"dynamic-context-provider\";\nimport { forEach } from \"lodash\";\nimport { skills as SKILLS_MAP } from \"../../gameData/player/skills\";\n\nexport function useGetSkills(){\n    const { user: {character: {techniques: {skills}}} } = useContextState()\n    const availableSkills = []\n    \n    try{\n        forEach(skills, name=>{\n            const skill = SKILLS_MAP[name]\n            if(!skill)return \n            availableSkills.push({...skill, value: skill.label}) \n        })\n    }catch(e){\n        console.error('log: error', e)\n    }\n\n    return availableSkills\n}","import React from 'react'\nimport { useContextState } from 'dynamic-context-provider';\nimport { useGetEquippedData } from './hooks/useGetEquippedData'\nimport { useStatSheet } from './hooks/useStatSheet'\nimport { Typography } from '@material-ui/core';\n\nconst ApNotifier = () => {\n    const {\n        user: {\n            character: { ap, maxAp, equipped: { armor = { ap: 0 } } } }\n    } = useContextState()\n    const weapon = useGetEquippedData('weapon')\n    const accessory = useGetEquippedData('accessory')\n   \n    function getAp(){\n        const currentAp = ap + (armor.ap || 0) + (weapon.ap || 0) + (accessory.ap || 0)\n      return currentAp\n    }\n    return (<Typography>{`AP: ${getAp()}/${maxAp}`}</Typography>)\n}\n\nexport default ApNotifier\n","import React from 'react'\nimport HpBar from '../../common/ProgressBar/HpBar'\nimport MpBar from '../../common/ProgressBar/MpBar'\nimport sprite from '../../images/sprites/babynewt.png'\nimport chrono from '../../images/sprites/warrior1.gif'\nimport { Button, Typography } from '@material-ui/core'\nimport { find } from 'lodash'\nimport { ArrowBack } from '@material-ui/icons'\n\nconst MonsterView = ({monsterName, battle, close}) => {\n    const monster = find(battle?.monsters, {name: monsterName})\n    return (\n        <div>\n            <Button\n                onClick={close}\n                startIcon={<ArrowBack />}\n            >{monster.name}</Button>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <img style={{ width: '40vw' }} src={monster.src} alt=\"\" />\n            </div>\n            <div>\n                <HpBar monster={monster} />\n                <MpBar monster={monster} />\n            </div>\n        </div>\n\n    )\n}\n\nexport default MonsterView\n","import { useContextState } from 'dynamic-context-provider'\nimport { filter, find } from 'lodash'\nimport { useState, useEffect } from 'react'\nimport { getCollection } from '../../firebase'\nfunction filterMonstersInSight(user, monsters){\n    const filteredMons = filter(monsters, monster=>{\n        const isInView = find(user.character?.inView, { name: monster.name}) ? true : false\n        \n        return isInView\n    })\n    \n    return filteredMons\n}\nexport const useGetBattle = (user=null) => {\n    const { battle } = useContextState()\n    const [loading, setloading] = useState(true)\n    const [data, setdata] = useState(null)\n   async function getData(){ \n        const battles = await getCollection(['DM', 'battles'])\n        let battle = null\n        if(battles.current?.monsters){\n            battle = battles.current\n            if(user){\n                battle.monsters = filterMonstersInSight(user, battle.monsters)\n            }\n        }\n        setdata(battle)\n        setloading(false)\n    }\n\nuseEffect(() => {\n    getData()\n}, [])\nuseEffect(() => {\n    const isDm = !user\n    if(user) {\n        getData()\n    }else if(battle?.monsters || isDm){\n        setdata(battle)\n    }    \n}, [battle, user])\n\nreturn [data, loading]\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport { map } from 'lodash';\nimport ImageIcon from '../../common/ImageIcon'\nimport MonsterView from './MonsterView'\nimport { useContextState } from \"dynamic-context-provider\";\nimport { useGetBattle } from '../../common/hooks/useGetBattle'\nimport { Grid, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\nexport default function MonsterList({monster, setmonster}) {\n    const { user } = useContextState()\n    const [initialBattle, loading] = useGetBattle(user)\n    function closeMonsterView(){\n        setmonster(null)\n    }\n    const classes = useStyles();\n    return (\n        <>\n         {monster !== null && <MonsterView battle={initialBattle} monsterName={monster.name} close={closeMonsterView}/>}\n        \n           \n            { !monster && initialBattle?.monsters.length > 0 &&\n            <Grid container>\n            <Grid item xs={12}><Typography>Enemies in View</Typography></Grid>\n            <div className={classes.root}>\n            <List component=\"nav\" aria-label=\"monster-list\">\n                {\n                    map(initialBattle.monsters, (monster, i) => {\n                        return (\n                            <React.Fragment key={i}>\n                               <ListItem button onClick={()=>setmonster(monster)}>\n                                        <ListItemIcon>\n                                            <ImageIcon width=\"50px\" src={monster.src} />\n                                        </ListItemIcon>\n                                        <ListItemText primary={monster.name} />\n                                    </ListItem>\n\n                                {initialBattle.monsters[i + 1] !== undefined && <Divider />}\n                            </React.Fragment>\n                        )\n                    })\n                }\n            </List>\n            </div>\n            </Grid> \n            }\n            { !initialBattle?.monsters.length > 0 && !loading && <Typography>No Enemies Within Striking Range</Typography>}\n        </>\n    );\n}","import React, { useState } from 'react'\nimport { Grid, Typography } from '@material-ui/core'\nimport DialogButton from '../../common/DialogButton'\nimport HpBar from '../../common/ProgressBar/HpBar'\nimport MpBar from '../../common/ProgressBar/MpBar'\nimport AttackForm from './AttackForm'\nimport ItemsForm from './ItemsForm'\nimport SpellForm from './SpellForm'\nimport SkillForm from './SkillForm'\n\nimport ApNotifier from '../../common/ApNotifier'\nimport MonsterList from './MonsterList'\nimport { useStatSheet } from '../../common/hooks/useStatSheet'\nimport { forEach, map } from 'lodash'\nimport RollBoosts from '../../common/RollBoosts'\n\nconst BattlePage = () => {\n    const stats = useStatSheet()\n    const [aopen, setaopen] = useState(false)\n    const [sopen, setsopen] = useState(false)\n    const [iopen, setiopen] = useState(false)\n    const [skopen, setskopen] = useState(false)\n    const [monster, setmonster] = useState(null)\n\n    const battleRollBoosts = []\n    forEach(Object.keys(stats), (abbr, i)=>{\n        const stat = stats[abbr]\n        let statMessage = `${abbr.toUpperCase()}: ${stat.points}`\n        if(stat.statBoost > 0){\n            battleRollBoosts.push( statMessage + ` +${stat.statBoost}`)\n        }\n     })\n    return (\n        <div>\n            <MonsterList monster={monster} setmonster={setmonster}/>\n        <div>\n            <Grid style={{ textAlign: 'center', marginTop: '20vw' }} container>\n                <RollBoosts />\n                <Grid container>\n                <Grid item xs={6}>\n                    <DialogButton\n                    disabled={!monster}\n                        dialog={{\n                            open: aopen,\n                            setopen: setaopen,\n                            title: 'Attacks',\n                            content: <AttackForm monster={monster} closeModal={()=>setaopen(false)} />,\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Attack</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                    <DialogButton\n                    disabled={!monster}\n                        dialog={{\n                            open: sopen,\n                            setopen: setsopen,\n                            title: 'Spells',\n                            content: <SpellForm targets={[monster]} closeModal={()=>setsopen(false)}/>,\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Spell</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                <DialogButton\n                    disabled={!monster}\n                        dialog={{\n                            title: 'Skills',\n                            content: <SkillForm closeModal={()=>setskopen(false)}/>,\n                            open: skopen,\n                            setopen: setskopen\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Skills</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                    <DialogButton\n                        disabled={!monster}\n                        dialog={{\n                            title: 'Items',\n                            content: <ItemsForm closeModal={()=>setiopen(false)}/>,\n                            open: iopen,\n                            setopen: setiopen\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Items</DialogButton>\n                </Grid>\n                </Grid>\n\n            </Grid>\n            <div>\n                <HpBar />\n                <MpBar />\n                <ApNotifier />\n               \n            </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default BattlePage\n","import React from 'react'\n\nconst CharacterPage = () => {\n    return (\n        <div>\n            Coming Soon\n        </div>\n    )\n}\n\nexport default CharacterPage\n","import React from 'react'\n\nconst Store = () => {\n    return (\n        <div>\n           Coming Soon \n        </div>\n    )\n}\n\nexport default Store\n","import { statSheet } from \"../constants\";\n\nexport const initialCharacterObject = {\n    title: 'Novice Adventurer',\n    ap: 10,\n    class: 'Knight',\n    inView: null,\n    equipped: {accessory: '', armor: {}, weapon: 'Long Sword', secondaryWeapon: ''},\n    exp: 0,\n    gil: 0,\n    hp: 30,\n    mp: 30,\n    items: {misc:{}, weapon: {}, armor: {}, accessory: {}, specialItem: {}},\n    level: 1,\n    maxAp: 30,\n    maxHp: 30,\n    maxMp: 30,\n    stats: statSheet,\n    techniques: {\n        attacks: {\n            sword: [],\n            bow: [],\n            spear: [],\n            fisticuff: [],\n            projectile: [],\n            gun: []\n        },\n        spells: [],\n        skills: [],\n    },\n    dmMessage: {\n        hint: '',\n        innerThoughts: ''\n    }\n\n}","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../../core/theme'\nimport { classes } from '../../gameData/player/classes'\nimport { forEach, map } from 'lodash'\nimport { Typography } from '@material-ui/core'\nimport { statSheet } from '../../gameData/constants'\n\nconst BluePrint = ({options, characterClass: value, }) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'class',\n                            name: 'class',\n                            type: 'select',\n                            label: 'class',\n                            variant: 'filled',\n                            type: 'selectNative',\n                            value,\n                            options,\n                        }\n                    },\n                ]\n            },\n\n        ]\n    })\n}\nfunction statDescriptionGenerator(statDescription){\n    const statTextArray = statDescription.split(' ')\n    return map(statTextArray, statDesc=>{\n        const isIncrease = statDesc.charAt([0]) === '+' && statDesc.charAt([1]) === '+'\n        const isSlightDecrease = statDesc.charAt([0]) === '-'\n        const isDecrease = statDesc.charAt([0]) === '-' && statDesc.charAt([1]) === '-'\n        const statKey = statDesc.replace('+', '').replace('+', '').replace('-', '').replace('-', '')\n        const fullStat = statSheet[statKey.toLowerCase()]\n        let desiredModifier = 'slightly increases'\n        if(isIncrease)desiredModifier = 'increases'\n        if(isSlightDecrease)desiredModifier = 'slightly decreases'\n        if(isDecrease)desiredModifier = 'decreases'\n        let description = 'This class ' + desiredModifier\n    \n    \n        return(<>\n        <Typography>{description} your {fullStat.label}</Typography>\n        </>)\n    })\n\n\n}\nconst ClassForm = ({createUserObj, setavailablePoints, updateCharacter}) => {\n    \n    const { description, spells, attacks, statDescription } = classes[createUserObj.class]\n    const [characterClass, setcharacterClass] = React.useState(createUserObj.class)\n    const initialValues= { class: createUserObj.class }\n    const options = map(Object.keys(classes), className=>{\n        const classOption = classes[className]\n        return {...classOption, value:classOption.label}\n    })\n\n\n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(fieldName => {\n            const field = values[fieldName]\n            const isEmpty = (!field) || (typeof field === 'string' && !field.length)\n            if (isEmpty) {\n                updateCharacter({ class: null})\n                errors[fieldName] = 'required'\n                setavailablePoints(10)\n            }else if(fieldName === 'class'){    \n                setavailablePoints(10)\n                updateCharacter({class: field})                \n                setcharacterClass(field)\n            }\n\n        })\n        return errors\n    }\n    return (\n        <div>\n          <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint({options, characterClass})}\n            initialValues={initialValues}\n        />   \n        <Typography>Stats:</Typography>\n        {statDescriptionGenerator(statDescription)}\n        <Typography style={{marginTop: '10px'}}>Ability:</Typography>\n        <Typography style={{marginBottom: '20px'}}>{description}</Typography>\n        { spells && <Typography >Learned Spell: {spells[0]}</Typography>}\n        { attacks && <Typography>Learned Attack: {attacks[0]}</Typography>}\n        </div>\n    )\n}\n\nexport default ClassForm\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport {map } from 'lodash';\nimport { useStatSheet } from '../../common/hooks/useStatSheet';\nimport CustomNumberInput from '../../common/CustomNumberInput';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: '36ch',\n    backgroundColor: theme.palette.background.paper,\n  },\n  inline: {\n    display: 'inline',\n  },\n}));\n\nconst Stat = ({updateCharacterStat, stat, availablePoints, setavailablePoints}) => {\n    const maxStatIncrease = 5\n    const [initialStatPoint] = useState(stat.points - 10)\n    const [statPoint, setstatPoints] = useState(stat.points - 10)\n    const textColor = statPoint >=3 ? 'green' : 'red'\n\n    function handleStateChange(value){\n        setstatPoints((oldValue)=>{\n            let newAvailablePoints = availablePoints - 1\n            let updateValue = 1\n            if(availablePoints <= 0 || oldValue > value){\n                newAvailablePoints = availablePoints + 1\n                updateValue = -1\n            }\n  \n            setavailablePoints(newAvailablePoints)\n            updateCharacterStat(stat.abbr, updateValue)\n            return oldValue + updateValue\n        })\n    }\n\n    const max = !availablePoints ? statPoint : maxStatIncrease\n    const rollBonusText = stat.statBoost ? `(Roll +${stat.statBoost})` : ''\n    return(\n        <div style={{textAlign: 'center'}}>\n        <ListItem key={stat.abbr} alignItems=\"flex-start\">\n        <ListItemAvatar>\n          <Avatar alt={stat.abbr} >{stat.abbr}</Avatar>\n        </ListItemAvatar>\n        <ListItemText\n          primary={`${stat.label}: ${stat.points} ${rollBonusText}`}\n          secondary={stat.description}\n        />\n       \n      </ListItem>\n      <CustomNumberInput \n      onChange={handleStateChange}\n      min={initialStatPoint}\n      max={max} \n      value={statPoint}\n      />\n            \n        </div>\n       \n    )\n}\n\n\nexport default function StatsForm({\n  updateCharacter, createUserObj, availablePoints, setavailablePoints}) {\n  const classes = useStyles();\nconst desiredStats = useStatSheet(createUserObj.stats)\n  function updateCharacterStat(key, value){\n    const newCharStats = {...desiredStats}\n    newCharStats[key].points = newCharStats[key].points + value\n    \n    updateCharacter({stats: newCharStats})\n  }\n  \n  return (\n    <List className={classes.root}>\n        <p>{availablePoints}</p>\n        {\n            map(Object.keys(desiredStats), (abbr, i)=>{\n                const stat = {...desiredStats[abbr], abbr}\n               return <Stat key={i} updateCharacterStat={updateCharacterStat} stat={stat} availablePoints={availablePoints} setavailablePoints={setavailablePoints}/>\n            })\n        }\n    </List>\n  );\n}","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../../core/theme'\nimport weapons from '../../gameData/items/weapons'\nimport {classes} from '../../gameData/player/classes'\n\nconst BluePrint = (options, helperText) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'weapon',\n                            name: 'weapon',\n                            type: 'select',\n                            label: 'Weapon',\n                            variant: 'filled',\n                            options,\n                            helperText\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst WeaponForm = ({initialValues, createUserObj, updateCharacter}) => {\n    const weaponData = weapons[createUserObj.equipped.weapon]\n    const statAbbr = Object.keys(weaponData.requirement)[0]\n    \n    const requiredText = `Minimum stat needed to use (${statAbbr ? `${statAbbr}: ${weaponData.requirement[statAbbr]}` : 'None'})`\n    const options = ['Long Sword', 'Short Sword', 'Dagger', 'Bow'].map(weaponName=>{\n        return { label: weaponName, value: weaponName}\n    })\n    \n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(field => {\n            const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n            if (isEmpty) {\n                errors[field] = 'required'\n            }\n            if(field === 'weapon'){\n                updateCharacter({equipped: {...createUserObj.equipped, weapon: values[field].value}})\n            }\n        })\n        return errors\n    }\n\n    return (\n        <div>\n          <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint(options, requiredText)}\n            initialValues={initialValues}\n        />   \n        </div>\n    )\n}\n\nexport default WeaponForm\n","import React from 'react'\n\nconst CompleteCreateForm = ({createUserObj}) => {\n    return (\n        <div>\n            \n        </div>\n    )\n}\n\nexport default CompleteCreateForm\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport { initialCharacterObject } from '../../gameData/player/initialCharacterObject';\nimport { forEach } from 'lodash';\nimport ClassForm from './ClassForm';\nimport StatsForm from './StatsForm';\nimport WeaponForm from './WeaponForm';\nimport CompleteCreateForm from './CompleteCreateForm';\n\nimport { statSheet } from '../../gameData/constants';\nimport { useContextState } from 'dynamic-context-provider';\nimport weapons from '../../gameData/items/weapons';\nimport { launchErrorToaster } from '../../core/toaster';\nimport { useUpdateCharacter } from '../../common/hooks/useUpdateCharacter';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../../common/BasicRoot';\nimport { applyStatBoostToHpAnsMp, useStatSheet } from '../../common/hooks/useStatSheet';\nimport { classes } from '../../gameData/player/classes';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  actionsContainer: {\n    marginBottom: theme.spacing(2),\n  },\n  resetContainer: {\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction getSteps() {\n  return ['Select a Class', 'Choose Your Stats', 'Choose a Weapon', 'Create Character'];\n}\n\n\n\nexport default function CreatePage() {\n  const { user } = useContextState()\n  const history = useHistory()\n  const classStyles = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const steps = getSteps();\n  const [characterClass, setcharacterClass] = useState('Knight')\n  const stats = useStatSheet(statSheet, characterClass, true)\n  const [createUserObj, setcreateUserObj] = useState({...initialCharacterObject, name: user.displayName, stats})\n  const [availablePoints, setavailablePoints] = useState(10)\n  const [updateFireBaseCharacter] = useUpdateCharacter()\n\n  function checkIfSkilledEnoughToEquip(value={requirement: {}}, character={stats:{}}){\n    let skilledEnough = false\n    forEach(Object.keys(character.stats), statName=>{\n      const { points } = character.stats[statName]\n      const requirement = value.requirement[statName] \n      const noRequirements = !Object.keys(value.requirement).length\n      if((requirement && points >= requirement) || noRequirements){\n        skilledEnough = true\n      }\n    })\n    return skilledEnough\n  }\n\n  function isInvalidateCharacerObj(){\n    let invalid = false\n    if(!createUserObj.class){\n      invalid = 'Please select a class'\n    }\n    if(!createUserObj.equipped.weapon){\n      invalid = 'Please select a weapon'\n    }\n    if(!createUserObj.equipped.weapon){\n      invalid = 'Please select a weapon'\n    }\n    if(!checkIfSkilledEnoughToEquip(weapons[createUserObj.equipped.weapon], createUserObj)){\n      invalid = 'You are not able to use this weapon'\n    }\n    return invalid\n  }\n\n\n  function updateCharacter(fields={}){\n      const newObj = {...createUserObj}\n      forEach(Object.keys(fields), fieldName=>{\n        if(fieldName === 'class'){\n          setcharacterClass(fields[fieldName])\n        }\n        newObj[fieldName] = fields[fieldName]\n      })\n      setcreateUserObj(newObj)\n  }\n  React.useEffect(() => {\n    updateCharacter({stats})\n  }, [characterClass])\n\n  const handleNext = () => {\n    if(isInvalidateCharacerObj() && activeStep === 2){\n      return launchErrorToaster({content: isInvalidateCharacerObj()})\n    } \n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  function goToStep(index){\n    if(isInvalidateCharacerObj() && index === 3){\n      return launchErrorToaster({content: isInvalidateCharacerObj()})\n    } \n    setActiveStep(index);\n\n  }\n\n  function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return <ClassForm createUserObj={{...createUserObj, stats}} setavailablePoints={setavailablePoints}updateCharacter={updateCharacter} />\n      case 1:\n        return <StatsForm createUserObj={createUserObj} updateCharacter={updateCharacter} availablePoints={availablePoints} setavailablePoints={setavailablePoints} />;\n      case 2:\n        return <WeaponForm createUserObj={createUserObj} updateCharacter={updateCharacter} initialValues={{weapon: createUserObj.equipped.weapon}}/>\n      case 3:\n          return <CompleteCreateForm createUserObj={createUserObj}/>\n      default:\n        return 'Unknown step';\n    }\n  }\n  async function handleSubmit(){\n    try{\n      const character = applyStatBoostToHpAnsMp({...createUserObj}, true)\n      const characterClass = classes[character.class]\n      if(characterClass.spells){\n        character.techniques.spells = characterClass.spells\n      }\n      if(characterClass.attacks){\n        character.techniques.attacks.sword = characterClass.attacks\n      }\n      \n      await updateFireBaseCharacter({character})\n      history.replace('/')\n    }catch(e){\n      console.error('log: error', e)\n    }\n\n\n  }\n  function checkIfCharacterExists(){\n    if(user.character)return history.replace('/')\n    if(!user.uid)return history.replace('/sign-in')\n  }\n  React.useEffect(() => {\n    checkIfCharacterExists()\n  }, [user])\n  return (\n    <BasicRoot>\n    <div className={classStyles.root}>\n      <Stepper activeStep={activeStep} orientation=\"vertical\">\n        {steps.map((label, index) => (\n          <Step key={label}>\n            <StepLabel onClick={()=>goToStep(index)}>{label}</StepLabel>\n            <StepContent>\n              {getStepContent(index)}\n              <div className={classStyles.actionsContainer}>\n                <div>\n                  <Button\n                    disabled={activeStep === 0}\n                    onClick={handleBack}\n                    className={classStyles.button}\n                  >\n                    Back\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={activeStep === steps.length - 1 ? handleSubmit : handleNext}\n                    className={classStyles.button}\n                  >\n                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                  </Button>\n                </div>\n              </div>\n            </StepContent>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n    </BasicRoot>\n  );\n}","import { useContextState } from \"dynamic-context-provider\";\nimport { updateCharacter } from \"../../firebase\";\n\nexport const useUpdateCharacter = () => {\n    const { user, updateContextState } = useContextState()\n\n    async function updateAndGetCharacter(updates){\n        const newUser = await updateCharacter(user,updates)\n\n        updateContextState({user: newUser})\n    }\n    \n    return [updateAndGetCharacter]\n  }\n","import {randomIntFromInterval} from '../helpers'\nimport { attacks } from '../player/attacks'\nimport spells from '../player/spells'\nconst humanEnemyAttacks = (type, attack)=>{\n    const mainAttack = attacks[type][attack]\n    return mainAttack\n}\nconst humanEnemySpells = (attack)=>{\n    const mainSpell = spells[attack]\n    return mainSpell\n}\n\nconst monsterAttacks = {\n    wolf: {\n        common: {\n            'Slash': { label: 'Slash', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Growl': { label: 'Growl', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Grand Slash': { label: 'Grand Slash', damage: randomIntFromInterval(6, 10), description: '', element: 'normal', mp: 0},\n            'Monster Howl': { label: 'Monster Howl', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Dark Bite': { label: 'Dark Bite', damage: randomIntFromInterval(6, 20), description: '', element: 'shade', mp: 0},\n            'Shadow Ball': { label: 'Shadow Ball', damage: randomIntFromInterval(12, 20), description: '', element: 'shade', mp: 0},\n        },\n    },\n    bear: {\n        common: {\n            'Slash': { label: 'Slash', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Swipe': { label: 'Swipe', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Force Claw': { label: 'Force Claw', damage: randomIntFromInterval(5, 9), description: '', element: 'normal', mp: 0},\n            'Ferocious Fury': { label: 'Ferocious Fury', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Grand Blade': { label: 'Grand Blade', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Earth Blast': { label: 'Earth Blast', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n\n    snake: {\n        common: {\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Wrap': { label: 'Wrap', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Venomous Bite': { label: 'Venomous Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Buried Assault': { label: 'Buried Assault', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Acid Spit': { label: 'Acid Spit', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Petrify Stare': { label: 'Petrify Stare', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n    \n    slime: {\n        common: {\n            'Tackle': { label: 'Tackle', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bounce': { label: 'Bounce', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Super Tackle': { label: 'Super Tackle', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Bounce': { label: 'Super Bounce', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Fire Ball': { label: 'Super Fire Ball', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Thunder Bolt': { label: 'Super Thunder Bolt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n    goblin: {\n        common: {\n            'Scratch': { label: 'Scratch', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Strike': { label: 'Strike', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Eye Poke': { label: 'Eye Poke', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Cry': { label: 'Cry', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Emperor Assault': { label: 'Emperor Assault', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Heal': { label: 'Heal', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Fire Ball': { label: 'Fire Ball', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n        },\n    },\n    garvinKnight: {\n        common: {\n            'Slash': { label: 'Slash', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Strike': { label: 'Strike', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Wide Slash': humanEnemyAttacks('sword', 'Wide Slash'),\n            'Imperial Thrust': humanEnemyAttacks('sword', 'Imperial Thrust'),\n            'Blow Away': humanEnemyAttacks('sword', 'Blow Away'),\n            'Wind Cutter': humanEnemySpells('Wind Cutter'),\n        },\n    },\n    pirate: {\n        common: {\n            'Strike': { label: 'Strike', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Mini Bombs': { label: 'Mini Bombs', damage: randomIntFromInterval(8,12), description: '', element: 'normal', mp: 0},\n            'Sneaky Slash': { label: 'Sneaky Slash', damage: randomIntFromInterval(8, 12), description: '', element: 'normal', mp: 0},\n            'Straight Shot': { label: 'Straight Shot', damage: randomIntFromInterval(8, 12), description: '', element: 'normal', mp: 0},\n            'Dabloon Slice': { label: 'Dabloon Slice', damage: randomIntFromInterval(12, 16), description: '', element: 'normal', mp: 0},\n        },\n    },\n}\nexport default monsterAttacks","export default __webpack_public_path__ + \"static/media/wolf.c4291b28.svg\";","import wolf from '../../images/wolf.svg'\nimport knightardius from '../../images/sprites/knightardius.gif'\nimport basicknight from '../../images/sprites/basicknight.gif'\nimport royalguard from '../../images/sprites/royalguard.gif'\nimport wolfknight from '../../images/sprites/wolfknight.gif'\nimport direwolfknight from '../../images/sprites/direwolfknight.gif'\nimport grandwolfknight from '../../images/sprites/grandwolfknight.gif'\nimport kingwolfknight from '../../images/sprites/kingwolfknight.gif'\n\nconst monsters = {\n    wolf: {\n        'Wolf Knight': { exp: 40,src: wolfknight,name: 'Wolf Knight', type: 'wolf', description: '', level: 5, hp: 35, maxHp: 35, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        special: {\n            'Dire Wolf Knight': { exp: 140,src: direwolfknight,name: 'Dire Wolf Knight', type: 'wolf', description: '', level: 9, hp: 50, maxHp: 50, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n            'Grand Wolf Knight': { exp: 240,src: grandwolfknight,name: 'Grand Wolf Knight', type: 'wolf', description: '', level: 14, hp: 80, maxHp: 80, mp: 20, maxMp: 20, attackConfig: { attacks: ['Grand Slash', 'Dark Bite'] } },\n            'King Wolf Knight': { exp: 340,src: kingwolfknight,name: 'King Wolf Knight', type: 'wolf', description: '', level: 25, hp: 120, maxHp: 120, mp: 20, maxMp: 20, attackConfig: { attacks: ['Grand Slash', 'Monster Howl', 'Dark Bite', 'Shadow Ball']} },    \n        },\n    },\n    garvinKnight: {\n        'Basic Knight': { exp: 30,src: basicknight, name: 'Basic Knight', type: 'garvinKnight', description: '', level: 5, hp: 20, maxHp: 20, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        special: {\n            'Royal Guard': { exp: 240,src: royalguard, name: 'Royal Guard', type: 'garvinKnight', description: '', level: 25, hp: 120, maxHp: 120, mp: 50, maxMp: 50, attackConfig: { attacks: ['Wide Slash', 'Imperial Thrust'] } },\n            'Knight Ardius': { exp: 550,src: knightardius, name: 'Knight Ardius', type: 'garvinKnight', description: '', level: 25, hp: 200, maxHp: 200, mp: 50, maxMp: 50, attackConfig: { attacks: ['Imperial Thrust', 'Wind Cutter', 'Blow Away'] } },\n        }\n    },\n\n\n    bear: {\n        'Cub Soldier': { exp: 40,src: wolf,name: 'Cub Soldier', type: 'bear', description: '', level: 5, hp: 20, maxHp: 20, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        'Bear Scout': { exp: 40,src: wolf,name: 'Bear Scout', type: 'bear', description: '', level: 8, hp: 20, maxHp: 20, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        'Bear Soldier': { exp: 40,src: wolf,name: 'Bear Soldier', type: 'bear', description: '', level: 12, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1} },\n        special: {\n            'Bear Leutinant': { exp: 40,src: wolf,name: 'Bear Leutinant', type: 'bear', description: '', level: 16, hp: 30, maxHp: 30, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 2} },\n            'Bear Captain': { exp: 40,src: wolf,name: 'Bear Captain', type: 'bear', description: '', level: 20, hp: 35, maxHp: 35, mp: 20, maxMp: 20, attackConfig: { attacks: ['Force Claw', 'Power Slash', 'Grand Blade'] } },\n            'Bear General': { exp: 40,src: wolf,name: 'Bear General', type: 'bear', description: '', level: 25, hp: 45, maxHp: 45, mp: 20, maxMp: 20, attackConfig: { attacks: ['Force Claw', 'Ferocious Fury', 'Grand Blade', 'Earth Blast'] } },\n           \n        }\n    },\n\n    pirate: {\n        'Pirate': { exp: 40,src: wolf,name: 'Pirate', type: 'pirate', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        special: {\n            'Pirate Captain': { exp: 40,src: wolf, name: 'Pirate Captain', type: 'pirate', description: '', level: 25, hp: 55, maxHp: 55, mp: 20, maxMp: 20, attackConfig: { attacks: ['Sneaky Slash', 'Mini Bombs', 'Straight Shot', 'Dabloon Slice'] } },\n        }\n    },\n\n    snake: {\n        'Aba Cobra': { exp: 40,src: wolf,name: 'Aba Cobra', type: 'snake', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        'Abdu Cobra': { exp: 40,src: wolf,name: 'Abdu Cobra', type: 'snake', description: '', level: 10, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        special: {\n            'Abdura Cobra': { exp: 40,src: wolf,name: 'Abdura Cobra', type: 'snake', description: '', level: 20, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Venomous Bite', 'Buried Assault', 'Acid Spit', 'Petrify Stare'] } },\n        }\n       \n    },\n    slime: {\n        'Blue Slime': { exp: 40,src: wolf,name: 'Blue Slime', type: 'slime', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0 } },\n        'Red Slime': { exp: 40,src: wolf,name: 'Red Slime', type: 'slime', description: '', level: 10, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0 } },\n        special: {\n            'King Slime': { exp: 40,src: wolf,name: 'King Slime', type: 'slime', description: '', level: 30, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 3 } },\n        }\n        \n    },\n    goblin: {\n        'Goblin': { exp: 40,src: wolf,name: 'Goblin', type: 'globlin', description: '', level: 9, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        'Warrior Goblin': { exp: 40,src: wolf,name: 'Warrior Goblin', type: 'globlin', description: '', level: 16, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 2 } },\n        special: {\n            'Emperor Goblin': { exp: 40,src: wolf,name: 'Emperor Goblin', type: 'globlin', description: '', level: 25, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Emperor Assault', 'Heal', 'Fire Ball'] } },\n        }\n       \n    },\n  \n\n}\nexport default monsters","export default \"data:image/gif;base64,R0lGODlhSgAuALsAAAAAABgYGGhgiFBIaP///yAYMIB4oPj4eDgwUNBwEPiwGFAgGKgwCFgISPhg0LAwcCH5BAEAAAAALAAAAABKAC4AAAT/EMhJq704a1DK/mAoXt1onmIQSF2JvnClsm1so6phqMPg3kBQbhfo/YJIy1CnQjgRrVoSuSQ+oVHP9LZYqAQCHZg30PWM2u2r+w0bxsWy4exLq0ddhSKRaIN7TAFiAkd3IXl7fQFgf3JDYIWGhwsMDAcHg3SXQ2gSKjOSGV2Vl5lnm4JzdZ6fQaAYHV1dlwS1BDqmtQ8PZFGVrzbAFrGytLa4bwI9urxxvgzCJp9x0R1003y22rZX27ZsKzDTPdUF15/Z3txP6gTgGlE0rD2MAsDWA071KrWXfHrG+h3gE9BWJArxOGghsy8cjR76GPEj4C8BwAPaKhasFUnWgkb4/zpEREbuE0QEYAZ1qKjH26UutVSk09NRFkhzdUbiKklGJ6QCLBW4PACTgMwEtWjaQYTMlE839aIyQuZED6KKHAvwcdKgwbRoTJs2ejpIaj2qCKwuuJiuw1YEXb86BDALo61L5+hFHeTEVMqddY5WInVAhQMHcedaqJvxQN4BUvki8OvGTOAAfAZbKhzgcGIMiCrV4jPNSROUU3GttGtZr+UOlUZBw6xo1+FoEkIzGK3o9OmzqoGyVuVaFWwGso+qsO0AN12PC0grBnBa79/VxvwwOqmH4IFfcqdTgB5dkZIATqy7wW5X+9i0iS6BlzupC4ZxkLdfriRdL3c9Csg3W7d4rWzg0X0m5XeTCvwp4l8+8F00H4HiCfHVFedQGEcjgjGgx4QEviAXhmdoyJAyA3T44YAUniBXZgx0MI1ITxBYD08BgIfjNCJ+BaOMn9BoWng3pviJjkbSh4OPfPRm4ogRKgCiiT1i0+STBFYF4JQaxjDNRd05iWUAAAZ4yQF6dBnMJ2AmMuaXAJ6JpgJq3nCUN2+ik8BGRoWXxJ3b5HkUnyFOIeihX0mC6KIVhpJBno56+eYNEQAAOw==\"","export default \"data:image/gif;base64,R0lGODlhOABGAMwQAACAgD8gH3Bwby8gH5Cfn8DAwP///9BfAFBfX58wD8CA//+gAGC/YI8vwL9fwI/fj/8AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAAALAAAAAA4AEYAAAX/ICCOZGmeQaqepRqwcIy6r+zKOOwWBe2ri0UqR2ypeL9fcFgkpiAQgQAZSCQO2GwwaGU2cc/otFe9ZrHbRbf21amgUoKc4EtjvW13OD6vb+9seSYpQYBwUmMpaGlbeIIihAuGYlJUi4xCgU1JkYAplgeFWVaLjjmcAaI7ZItnpKGZmwENDQq2Cp0HnwUGBjw8VlYICLulmjaztbe5u72/BcEJw8WwpiwpDg62Ltsq0wG9zgXDw70pUlhWstndKe0B3+G+4+TmAegH6kXuuPeI/Cnk8JD3TIq9cwK+WTPSDZEAgAEE8gpXUMBBfwqPQarhgg+VbCnIEQswMJzDSgXm/xB4ZYpJRwESsTkISa6ZyZM8VLIMlMLeRj5ypEAU6u9Zzjny5K0h0dOAS38qiTZ8WNSoyqThlgJIwYCBz60RCRyV8m3qyyRyegWlurHr14BiUxIgO9KsCqI+0hpY+1TeU4l8aTx40AtvAHb9NvpgCi7c37iBXQwuTFVmN8U02np1zLGqHBfDBvuwhXixG7ecf4757A2BaBqktfW7cZpByafD6Ip8NtlpgNhNg2sE2/V259wJRSLgTdg38MbCr0GNixuByrVHuSnIRkv410HTqWwcdn3uajoqYneHzj4Gwsjhfzn8JoXWetAjF6qG71E+IvoC2NeADxmB4U8K6z2jUv9GqCCX3XCMEZXgLwvmhwo8CKDEmhPJdLMWaylY4ddxGcIEGXoc0uKheSCWMeJ4JQKG4im/KXAfbNs5QIs9+sDIB1Ec2nKjdtw1wGMCjCEXmCw0IcePeg0UiUcSbeDnZI1QSsnTD4LQJJFUtzyn3yMwfklVmGJCSCZY5MXFQ1nLTDdmlxhK9GZdcfIxZx5eulmAYe+duKcsbVbkQ38brqlZV4ECyWaJfHyjKFddMdAoW486JIekazbVm2mUytMbo2py2MunmRG32anNkUpmiMF4+oCrYIVqwGuDIhONrLS6gBqupeoazBmUkgrrGYAoulE0xAZQqaUqvNKssmC9Es1tGi5IO0oCtL1aRjrX+qAtuN0+oogWkugSyAADHAuLKFrReYYq67b77bvpxstnGZgAwu6/9l4YrHv8MuIvwAFfOOmFCDfsMLsLo/LwxP9SawLFGFdsMQkZZ7zxxR03/PEJIYs8Mgwen4xDymSGAAA7\"","export default \"data:image/gif;base64,R0lGODlhQABIAMwCAAAA/xgYGEBAKEhQWJCAWFA4GMCwiOjgqHhIMP///8CAALh4QPjYuAAAAOCogPjAAHBIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAAALAAAAABAAEgAAAX/ICCOJEkQZaqubOum5yvP9GoYda679+7/p8NhMPgZacFh8chsnRKJWHMKI0ClVGoSeiO2FGBF9rVNdJersHjstCaEZ5EaLHrYH/I5W/R8H+IAc2t3eIF6e303QkRqdlBghGBQdmpsiQaLA40PjwqRCpMPlWN9SYwKEBANDZIJap2rqXSkbqaaqKqsoK5hsA2ya1mlBJmrxg0FBZB3YMnHq8nJU8PFz8nLlArO1tHTbkSZAuICyQgIwGCp5snjAgsL4t5Q4Ert5ecQauoI7OPv8U360CNCJEAAc+/eqUm4wJxBIuJOADQicECmggcRMFyY0GEAiAIkCmBSMZPBZAwZ/zCAAkUlw2QPB4gTMnFHSSUnC6RcydJlQpgfZQqgORLIN4s4A0SL5sABywRNlwIFeaOmjpsYpRZo+jSq1JjiqhatIY4I1gEnDKpVurWpA6BrRQoRWVboi7pn065l6/Ztgb0B5B6gKwBki4jEBh8lChIwQ8B1wxo4QTmxyBWI5y4+EFmA44SQCwu9UTnJ5RLtblzZ3O5E1gLm1v0NKjKZWQJEVJsx0I5EagOr5yFtjXtAztj8Zt8WZxttcd1iASImOIA063YCrAM2eCI6udmuCZ5ZPi587snXf+sF3J33OKDmqxugTvhGzNtQZnL+/lvIWjjuMTebQfYFRR2BAWZnwP99zuU31H79SOafWgDaM2AABVKHkXftCZEJUXotRdxThC2V03mKeGgdcSl+uF+I0YzIUonRnChfi3+gJ51nAbRD3npsYSckdkCtkpNBQiI5FgDiKIkXAYitFeGQQhbZwJE9YqdkCvoRxx0BMd3jI0HtyAaSkWz1QxRmD3oZGJhBiTkOdWUmd+aVaRbQ5ZK+PVigQe+sBdI/c5LpDzyiEdbffmwCuFagag2KaF0giUMoeUKmaNUI90hZgEpwZYTSpNhdKt6CWZ4X3qYidKpWMqBeKBuhQpp6npKqFscqAAY15ZE5Kv2KQFM5USpUP3plaGhvLPTqgLDBImCQOcQGKRr/SMjCqWyl47ywXQCQhoYYiVCOYx1Gt6VokLfbhbuXjKupV1xMHR6wrgtxFYecXojVdcMZ/SZKAHK3YcTul0TsC2fAKM4nlEi3EeycwTIoidACsWammLEa1/YpA++Y02QANVisEcYMZKsZxyFZVi6sIDeEwMglB2XpT3oK3JhaT2KrU0J13TsDWO7g3LNQax0tIENBk0xDTKFNOa20anlkoZDhCV1xUFHnPLJHUzvJH3ZZO13zqEBV6yzYGakdQLXnGmd2Djm9k7YDa/lK9dRuw40exTpMHa3gKjEgm6fAFs72WkYQDq3iySGOQOGG771X41VTnXBsS2EUZjQSf+vDZVoebS5bc4IOsFTo2wW+HWIAF5r6mCvyCFjNobXHrec2F1q76E+/2zKAvH+beooi3R580sPnWLzxMSFfrvK4v8mFw9BDf95qjO+Q7/XPZx+pfNyrhfmB4qfPoNajGyi3+uKj/0IIADs=\"","export default \"data:image/gif;base64,R0lGODlhPgBAALMAAAAAAEhYOKiwkHiIcNDYuPj4+PjAQNBwIIAwIBgYGHjA8FBAMIBwUFCQwDBYoMCgeCH5BAEAAAAALAAAAAA+AEAAAAT/EMhJq70y6CAE/mAoWhvnjWj6acPADgTRdp1qj+8bz/TtX68Or1DYwQi1nzIoGBZlx6QyZDAQea1YjCYgXgdEY7U6tVS/wuOW5i20wtCxoTw5e6utLAHeafe9eWAFZGV2RHh5MXxdXn9fb4NzSnJ2VQcHGn9GbYoFaVxthCqUVpGXmYybXp2fbHeSKpdtcHBOeos8qoewKbKznUZ/t0+tupGxB4bETXkdTB1rLRpacaVEyMrRzQLPAtrTWi3KyLtEadIbMSVYLgGQL6SXKL525+3g6wNpL0TwlPIjECCIh8kEOg3muLnTx6hVi0sQDwhEIZAgqoMBEjJJyC7ipYkB/xF4LEgtTYKTCR4JQpkAmpaPIiUioBgzIjhtLFUSYekyBkyYKBQoECjw0r6FGhYs2JmAgVMGJ4koZeJTJkgRQonGPIpOKdOnUFMWmLrQJcyrHxo0EOrAgVaBgai1cPqgrt26Tsky0apWhFq2bt/GDTeA7l27eRfk68C3AVYFatu+RQDOngbDeBmQ1dNC4EmlQvt+CN1A8tvKzNBhfpBYBxTPCUBDdnzhr4K2cmBfbLfGNTtUGk5eqtJWKAbbuMfoNsgbiULODNE5CyA8mYHiCjCQHmnpAEvUufa4YahuYXWtskVT2O6x+/cA2lyi8UbgxXmi6WlLQB54slaWGKFihP9S6LCklFKJ2UYBf/69BeA9G7jUAoHtGHhggmtlNwFpbSmVmVMnwdZWDgFsNsCBilHH0ooIMoDderN1uMCHYYnoAIkmohjcihY69SIAVZDm4WGJndRWiAi0SGNmSsGm1EmGgZiAcUAaIOSMRGq2gJEOIKkka08xuYCTWzbFQGYnCdXdfg0MWeSKR6JUlHW7nIWAhSfdJaWaBgCklpta8hgnksOV0t1/KD2ZgJ5hCbULSFCGCaaiLLU1aAJt2QYYj58tkFimDTw6EwCRRhkonJZW6oCmt3XJaYtKgVqnTJ2uhmKnoFq6aoaA3ZoAokjqOiuZth6I6666siqjosD+ioD/roUeemdsnj7VaadKsUqaqU066GyhEkTbJ63UgnUttdnyKtRs3I7p7ZyEVDQuTJw6ey6KauVbmgOrOTWnVoVeA4C8EcHGI5nYLqBvZPyeiRgD/xIVcAESAGzVtBHTW+5TsTqA4mp1zfmTdfFKfDGhMmnc4qceX+jwXSKnTDIvk50kwcFEsWRqwiA/gLLFaNWcwM0rNrszutUe5vO3FwN1gc0f4AxrmdWtzMAlLCGKlgVQYyB1tZQmcInVWMuZs7N0UFCdxkhWYoDBK6b9tNgQwS2vqPXKrfbGUuLM9tB6e813WH6T23XgFXz5Zq0Ov4n4BYqfyriYhz++d72lvjzpGQKWz425mf1q2bkI9Q5pOuejg1A6lqejEAEAOw==\"","export default \"data:image/gif;base64,R0lGODlhKgBMALv/AAD/AICQgFhgWKi4uHBIINDo6KBoKNCIUDgwKKBYANh4AHAwAFA4EEAQAOjAgAAAACH5BAkUAAAALAAAAAAqAEwAAAT/EMhJ6yw42827zZonjsMAYuWobuVZpGssBUFpD7Qs03eZ65ZWpiQQ0I6BohA1kC1fgyKSpjQNm6rbtDZYLGhe3/RGsm1LXvBCjCSLxMWqN5Eo0cPROA/rgcfRC3R2CXhxRlwjPxIYdAoKLo50GBSKHZWMCY6QCpIFlAEymJpQTBiRCZNAAKKPpK6nqUCAQqOjs3w6t6attl1ruCttOAGYxQV7SDtHYsadyEfKTF4Y0wXVeBiVicRQ1wvU39a/2aAxVXtPTGJEAjLnXOlQ63nuh2II+AgGBvkIz0X1nvXb1+9fOx1SAuArge/AgYUD8FE5CCQhxIYPETD0l4SijgYN/4rsw1DEgYMiGPYVAakKAEiRBkgKMImygEoBLHXcWQByn0OTQB043AdyTgIZO3sa+BlU6AGiDYyuaOSIUwICBHw63LrPaFWrI6iewqp161MDXqvSGfH1K1kDZwaIbcu2raO3ced+9ZB2LAGHWEGUOPV1J4e+VrECJiB4AGG1hBZYWEwnaQM6ig9gFUOnaKDKmSlQruwFJOa/mglwTuC58lXUEsqeLd2AAYO3mXETsO1Z9j7faHnWvp3VQO7iWHlHXQD87VDjBAYuPbt5wNt+zqljLf4cq/Tuqq0Xx85dOw3dtr+bXU8wn23dSNAzUL+eKz/3xPdhFZbc9nwERbxlCP9MWBWBj3/EscFFf+kBKICAA+pHgIEIIFgdEo1NtMWGUyT0BIZXaMjhiB5aQU5Ne0g04oo0QESDTChyoSKLI7rIDUAAGFIQiYdw2I8hFOiYz4oJ+ZgPkBW06OCKM25IoTYTKFnkhk1u8WQ5FkipR4cC4DPlRFdyoOWXHXnZ4xFCQpkQhQMOaGabbB6CowRrdukgnHbiGedEn8wJgBD39MMRoLgk1KdHhCq5I6FBHtIoBbIhgY8ETZq1z6MT+BnpEZMCUKl9mHKQ3X5YRhlAZhLKMCoBUJ6HWqoxkBrghB7R+SCtrqrKakcF1prjrQlhJcNIUMBKwVtCXBoDsSUYOwE4slYoO0JmlhpgmwW2ybbYtKhVe20F2U5nlrAiZLdtB9Rqx61s5IrarboqbLfdCvK2G2+99OK7QQQAOw==\"","export default \"data:image/gif;base64,R0lGODlhLABAALsAAAAAABgYGFh4aBhQOIiwqMDg4MCgQHggEPDgYIhoMPjw4NAwIMh4UGhAKPjQqAAAACH5BAEAAAAALAAAAAAsAEAAAAT/EMhJpTEoo5vS1UgljqSFaZx3ZmU7glnadd9muDgA2/NcXzlXzNAJBASCQgE5GPSAwRcvYUQqmU7fLSrKdJpGAkEpbjZpWy7FmwAHxGSCOQtVA1JNpH7PPyfsJl8DfIR6foAAgntKCo2OcViIinqMjo2QAk2IRnlJBY1WSwKgAmUDmwGdlaFIpKaoSKamSkZKTWKRalWlcgOzBbUFtwS5XLuyvbRvBGHEmae6R7zDTcpizcUue5y+zsjDsc7huAIk26nd4dTpvHti5CJwSsDonfLz8+Sq+QTxY/Pc7P3Dh2lfHAryLCE7RkChM2yeMElI6GihNDEOkUDEB++OgUqX/0RhceDACIOTDIyQ7CQQCQuPIBVcMTSApEmUKh2wHNROwMsM9wro49nkJEmSJ3dyQ3LBiASgA4U622n0aFKiA5YKaBpAghGo5C7swyJwjhE0DdI28BoArDOxPGfOUWfmrAq1ayd8RWEgYNxPj0SRM2IkLUoGadmC4DrXk6WZgwkbRom3alrC6MKNSybVzTB5TSaTvEy4Ja9fpri9+zesYFbCoYbK04gZnex/QzHHntptZm3bvOXW/S2N7OvfbEMpE+7m9x6zxJNHpEdOuJEDB3R7QoK9e/auAFQ/XMbq2fXvu2Z6x+40PHDa1fjR9t5aVIcFCzqwB48cQHxM52FXH8cS9+WXwH5sYSbdc68ViF042F2An4QLtEfCLgzahd+DvERowIQfVgheC/0ZQSFc3B2QAX4riohDiQGcaEAn2LXYooXRXOChgAPUiICPCAJiogE7HtAEkCr++B0qAXaHmY4HcIVIggGsh16MREbZ14hTbkZbk81MOYGXAmDmXZhiuucXQ/jgyGQ9r4XTJpew9KRVZGm6p1mZmdlJp5B9Nhfoa3lqJahSf76p3Wq05Unlou806uiFxfE5KYmVunmpCApu6kKnQUQAADs=\"","export default \"data:image/gif;base64,R0lGODlhOgBAALsAAOfj46UpMRgYGGsQIf9aSnNCObV7Me+cMf/WY//35yl7nABKa0q9rYxSUve9pcaEhCH5BAEAAAAALAAAAAA6AEAAAAT/EMhJq53GnH1y5p1xjWQ5fpynpaLpvpiBIEkyg3M9Z3BPZjkbAkcT8nxISaEQvIVQTcQxCVtGN6pNdEotLYFF53IJqtU2y663ANYND+NC2YwuqC9fT9CNlc3Cb1x3Smx6RXwhf4B9g3iFWodCilsGaY0VeZBmkpNuGZaXAHlgUW6mZjOgl6N+pUKnbqqNn3IcNW0JmrkHNWRwdpe0c7i6G721skgBywF9VoEGZ7+QUAgCAgMDd8zNIc990r47KzPX2V3cwgfX6qkFDw++tLTXy0nplbXs+ZBL8PL56Amw12MZAQLLAF6Lc61BA3gOHMDbtxBZgYMEXRhEGEChAIYC/xxClPiA4keLGANoDHDwYLZ9cTJcq3EN3kQBNRxWRLEx44WNLgfAHCMTZ4KaNmcm0HmSJ0uOJXoGeHnS14aGDSJq1XrT175sKaM+XUY1DgisW7d21ScgA1ioP7lNzUa34jiqDtWWvNbWTxy6A3xSkDsXsF0pBvBm5bp3n7slgAUDIAy48gBfb5dhZZptGYrIT8NOoGyZLuYBKTc3MBc4wGe6QOFKiE2YW8XOAWakxN2SwGnQvQeH5lg7wO3Wujnybvkb9vDZw3v3JiuUL+tlilIGrcjNctDY0ltSt3499x/tBMoW6F75e3Tp1A1jaw2aveb5UkEvD7+7cvn6zOBWXv9/uOFGW4CV2YafXPpVt59ydQ3EzHQIAlgeewU62BqF8hlYm4e9UWXZAgvQQiJrD8bnXHEgtiRiZSSauACKG4pXmDYAAMhNeMvA41CMK9ShwJAKnLggj3NJoOOE8AXgYwNAgrAEkUXOeGST5+SIGn9c5uXAjyQuQCUDZDIwpJEP9qfkllyG5yWYJI5Z5plWpgnhmm026eU1YYqpQJkM1EDngE1eg2eeNu4pQJ9DAipolYRSaCgA9bzHYXV8+gkomTWQOShfy40ngASV5ilqpo1u2qmZkIJao6ikXnkpeYv6mSqgVBppHXuTxmrnqXzFSeSmrH66K4K9TnAhg5jytQR5o1QSSeIStNI6wrK8kvdsmNFKuwC11VpXwn8RhqvClN4WJS4S5FJlrgfo0qkuX12EG6t1MQX5hAHr3mEvpdoSpa8K/YZyAa3g5guSwSQgXEBFeSzM8Av41uLMw6NO7ELFIAiksQ875ZPsxxQ3JXLGJINMXspUWEtFBAA7\"","import { forEach } from 'lodash'\nimport { randomIntFromInterval, getSpecialMonsterList, generateStats } from '../helpers'\nimport monsterAttacks from './attacks'\nimport monsters from './index'\n\nexport function buildMonster({ type = 'wolf', level = 5, attackConfig = { common: 2, special: 1} }) {\n    const monster = { type, level, attacks: [] }\n    const attackMap = monsterAttacks[type] // { common: {}, special: {}}\n    const availableCommonAttacks = Object.keys(attackMap.common) // ['slash']\n    const availableSpecialAttacks = Object.keys(attackMap.special) // ['fireball']\n\n    if(attackConfig.attacks){\n\n        forEach(attackConfig.attacks, attackName => {\n            monster.attacks.push(attackMap.special[attackName])\n        });\n        forEach(availableCommonAttacks, (name) => {\n            const attack = attackMap.common[name]\n            monster.attacks.push(attack)\n        });\n        \n    }else\n   { for (let i = 0; i < attackConfig.common; i++) {\n        const randomInt = randomIntFromInterval(0, (availableCommonAttacks.length - 1))\n        const attack = attackMap.common[availableCommonAttacks[randomInt]]\n        monster.attacks.push(attack)\n        availableCommonAttacks.splice(randomInt, 1)\n    }\n    for (let i = 0; i < attackConfig.special; i++) {\n        const randomInt = randomIntFromInterval(0, (availableSpecialAttacks.length - 1))\n        const attack = attackMap.special[availableSpecialAttacks[randomInt]]\n        monster.attacks.push(attack)\n        availableSpecialAttacks.splice(randomInt, 1)\n    }}\n    return {...monster, ...generateStats(level)}\n}\n\nexport function generateMonsters(monsterConfig={ wolf: 3, bear: 2, special: ['Grand Dire Wolf']}){\n    const configKeys = Object.keys(monsterConfig) // [wolf, bear, special]\n    const generatedMonsters = configKeys.reduce((acc, monsterType, i)=>{\n\n        const newMonsters = i===0 ? [] : [...acc]\n        const monsterData = monsters[monsterType] //  {'dire wolf': { description: '' } }\n        const amountOfMonster = monsterConfig[monsterType] // 3\n        const monsterList = Object.keys(monsters[monsterType] || {})// ['wolf', 'dire wolf']\n        monsterList.pop() // remove special\n\n        if(monsterType === 'special'){\n            const specialMonsters = getSpecialMonsterList(monsters)\n            forEach(monsterConfig.special, monsterKey=>{\n                forEach(specialMonsters, monsters=>{\n                    if(monsters[monsterKey]){\n                        newMonsters.push({...monsters[monsterKey],name: `${monsters[monsterKey].name} ${i}`, ...buildMonster(monsters[monsterKey])})\n                    }\n                })\n            })\n        }else{\n            for(let i = 0; i < amountOfMonster; i++){\n                const randomInt = randomIntFromInterval(0, (monsterList.length - 1)) // removes the special field\n                const randomMonsterKey = monsterList[randomInt]\n                const randomMonster = ({...monsterData[randomMonsterKey],name: `${monsterData[randomMonsterKey].name} ${i}`, ...buildMonster(monsterData[randomMonsterKey]) })\n                newMonsters.push(randomMonster)\n            }\n        }\n\n        return newMonsters\n    }, [])\n    let experience = 0\n    forEach(generatedMonsters, monster=>{\n        experience += monster.exp\n    })\n    return {monsters: generatedMonsters, exp: Math.round(experience)}\n}","import { map } from \"lodash\";\nimport { generateItems } from \"./helpers\";\nimport { generateMonsters } from \"./monsters/builders\";\nexport function convertToBattle(users, rewards={exp: 0,gil: 0, items:[], consequence:''}){\n    const monsters = map(users, user=>{\n        return{...user.character, exp: 500, src: ''}\n    })\n    return {\n        monsters,\n        rewards,\n    }\n}\nexport const battles = {\n    tutorialBattle1: {\n        monsters: generateMonsters({ wolf: 4}).monsters,\n        rewards: {\n            exp: generateMonsters({ wolf: 4}).exp,\n            gil: 200,\n            items: generateItems(['2Potion', '2Mana Cubes']),\n            consequence: 'You know a little bit more now!'\n        }\n    },\n    tutorialBattle2: {\n        monsters: generateMonsters({ wolf: 2, special: ['Grand Dire Wolf']}).monsters,\n        rewards: {\n            exp: generateMonsters({ wolf: 2, special: ['Grand Dire Wolf']}).exp,\n            gil: 200,\n            items: generateItems(['2Potion']),\n            consequence: ''\n\n        }\n    },\n    innBattle: {\n        monsters: generateMonsters({ garvinKnight: 2, special: ['Knight Ardius', 'Royal Guard']}).monsters,\n        rewards: {\n            exp: generateMonsters({ garvinKnight: 2, special: ['Knight Ardius', 'Royal Guard']}).exp,\n            gil: 1500,\n            items: generateItems(['2Potion', '2Mana Cubes']),\n            consequence: ''\n        }\n    },\n    pirateBattle: {\n        monsters: generateMonsters({ pirate: 5, special: ['Pirate Captain']}).monsters,\n        rewards: {\n            exp: generateMonsters({ pirate: 5, special: ['Pirate Captain']}).exp,\n            gil: 1500,\n            items: generateItems(['5Potion', '3Mana Cubes']),\n            consequence: ''\n        }\n    },\n  \n}\n","import { battles } from './battles'\nconst { tutorialBattle1, tutorialBattle2} = battles\nconst story = {\n    'Chapter 1': {\n        description: '',\n        battles: {\n            tutorialBattle1, \n            tutorialBattle2\n        },\n\n    },\n    'Chapter 2': {\n        description: '',\n        battles: {tutorialBattle1: battles.tutorialBattle1, tutorialBattle2: battles.tutorialBattle2},\n\n    },\n    'Chapter 3': {\n        description: '',\n        battles: {tutorialBattle1: battles.tutorialBattle1, tutorialBattle2: battles.tutorialBattle2},\n\n    }\n}\nexport default story","import styled from 'styled-components'\n\nexport const RichTextContainer = styled.div`\nmargin: 25px;\n\n`","import React from 'react'\nimport MUIRichTextEditor from 'mui-rte'\nimport { RichTextContainer } from './styled'\n\nconst RichTextEditor = ({defaultData, onSave=()=>null, label=\"Start typing...\"}) => {\n    function handleSave(value){\n        onSave(value)\n    }\n    return (\n        <RichTextContainer>\n           <MUIRichTextEditor\n           onSave={handleSave}\n                    defaultValue={defaultData}\n                    label={label}\n                />   \n        </RichTextContainer>\n    )\n}\n\nexport default RichTextEditor\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from 'lodash'\n\nexport function useGlobalLoading(){\n    const { globalLoading, updateContextState } = useContextState()\n    function updateGlobalLoading(globalLoading){\n        updateContextState({globalLoading})\n    }\n    return [globalLoading, updateGlobalLoading]\n}\n\nexport function useGetUserOptions(){\n    const { users } = useContextState()\n    const userOptions = map(users, user=>{\n        return {...user, label: user.character.name, value: user.character.name}\n    })\n    const options =  [...userOptions]\n    \n    return {options, users}\n}","import React, { useState, useEffect } from 'react'\nimport {\n    Card,\n    CardContent,\n    Grid,\n    Typography,\n    CardActions,\n    Button,\n    Divider,\n    List,\n    ListItem,\n    CircularProgress,\n    Backdrop\n} from '@material-ui/core'\nimport { map } from 'lodash'\nimport story from '../../../gameData/story'\nimport 'mui-form-generator/dist/index.css'\nimport RichTextEditor from '../../../common/RichTextEditor'\nimport { getStoryChapter, updateStoryChapter } from '../../../firebase'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useGlobalLoading } from '../hooks'\n\nconst Story = () => {\n    const classes = useStyles();\n\n    const [isLoading, setisLoading] = useState(true)\n    const [selectedChapter, setselectedChapter] = useState({})\n    const [globalLoading, setglobalLoading] = useGlobalLoading()\n    \n    async function handleSelectChapter(chapter) {\n        setglobalLoading(true)\n        const ch = await getStoryChapter(chapter)\n        setselectedChapter({label: chapter, notes: ch.notes})\n        setglobalLoading(false)\n    }\n    async function handleNoteSave(values) {\n        await updateStoryChapter(selectedChapter.label, values, 'notes')\n\n    }\n    async function getFirstChapterData() {\n        const ch = await getStoryChapter('Chapter 1')\n        setselectedChapter({ label: 'Chapter 1', notes: ch.notes })\n        setisLoading(false)\n\n    }\n    useEffect(() => {\n        getFirstChapterData()\n    }, [])\n    if (isLoading) return null\n    return (\n        <Grid container>\n            <Grid style={{ maxHeight: 500, overflow: 'scroll' }} item xs={6}>\n                <List>\n                    {\n                        map(Object.keys(story), chapter => {\n                            return (\n                                <ListItem key={chapter}>\n                                    <Card style={{ margin: '25px', width: '100%' }}>\n                                        <CardContent>\n                                            <Typography align=\"center\" variant=\"h5\" component=\"h2\">\n                                                {chapter}\n                                            </Typography>\n                                            <Divider />\n                                            <Typography variant=\"h6\"  >\n                                                {story[chapter].description}\n                                                <br />\n                                            </Typography>\n                                        </CardContent>\n                                        <CardActions>\n                                            <Button onClick={async () => handleSelectChapter(chapter)} fullWidth>Start Chapter</Button>\n                                        </CardActions>\n                                    </Card>\n                                </ListItem>\n\n                            )\n                        })\n                    }\n\n                </List>\n\n            </Grid>\n            <Grid style={{ border: '1px solid' }} item xs={6}>\n                <Typography variant=\"h5\" align=\"center\">{selectedChapter.label} Notes</Typography>\n                <RichTextEditor defaultData={selectedChapter.notes} onSave={handleNoteSave} />\n            </Grid>\n            <Backdrop className={classes.backdrop} open={globalLoading} >\n  <CircularProgress color=\"inherit\" />\n</Backdrop>\n        </Grid>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: '#fff',\n    },\n  }));\nexport default Story\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { sendUserAMessage } from '../../../firebase'\n\nconst BluePrint = ({options}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'hint',\n                            name: 'hint',\n                            type: 'text',\n                            label: 'Hint'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'innerThoughts',\n                            name: 'innerThoughts',\n                            type: 'text',\n                            label: 'Inner Thoughts'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst HintForm = () => {\n    const {options} = useGetUserOptions()\n\n    async function handleSubmit(values, formik) {\n        await sendUserAMessage(values.target, {innerThoughts: values.innerThoughts, hint: values.hint})\n    }\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            blueprint={BluePrint({options})}\n            initialValues={{ hint: '', innerThoughts: '', target: options[0] }}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default HintForm\n","import { forEach, map } from \"lodash\"\nimport { launchSuccussToaster } from \"../../core/toaster\"\nimport { batchUpdate, giveCharacterItem } from \"../../firebase\"\nimport { useGetItems } from \"./useGetItems\"\nimport { useGetUserOptions } from \"../../pages/DmView/hooks\"\n\nexport function useBatchUpdateItems(type){\nconst { options } = useGetUserOptions()\nasync function updateBatchItems(values){\n    const { availableItem: item, quantity} = values\n    const newItems = []\n    const newUsers = map(options, option=>{\n        const newOption = {...option}\n        let currentItems = newOption.character.items[type][item.label]\n        if(currentItems){\n            currentItems.quantity += quantity\n        }else{\n            newOption.character.items[type][item.label] = {...item, quantity}\n        }\n        \n        newItems.push(newOption.character.items)\n        return newOption\n    })\n\n    await batchUpdate('character.items', newUsers, newItems)\n}\nreturn [updateBatchItems]\n}\nexport const useUpdateItems = (user, type) => {\n    const [userItemStorage, items,] = useGetItems(user, type)\n    const characterDbItems = user.character.items[type]\n    async function updateItems(updates = ['3_Potion']){\n        const newItems = { ...characterDbItems}\n        forEach(updates, update => {\n            const [quantityString, itemName] = update.split('_')\n            const quantity = Number(quantityString)\n            const itemToAdd = { ...items[itemName], quantity }\n            const itemsCharacterIsCarrying = characterDbItems[itemName]\n\n            \n\n            if (itemsCharacterIsCarrying) {\n                let newQuantity = itemsCharacterIsCarrying.quantity\n                newQuantity += itemToAdd.quantity\n\n                if (newQuantity < 0) {\n                    newQuantity = 0\n                }\n                \n                itemsCharacterIsCarrying.quantity = newQuantity\n    \n            } else {\n                newItems[itemName] = itemToAdd\n            }\n        })\n\n        await giveCharacterItem(user, newItems, type)\n        launchSuccussToaster({content: `Successfully given ${user.displayName} items`})\n    }\n    \n    return [updateItems]\n}\n\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { useGetAllItemOptions } from '../../../common/hooks/useGetBagOptions'\nimport { find, map } from 'lodash'\nimport { useUpdateItems, useBatchUpdateItems } from '../../../common/hooks/useUpdateItems'\nimport { useContextState } from 'dynamic-context-provider'\n\nconst BluePrint = ({ options, itemTypes, availableItems, setavailableItems, allItems}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'itemType',\n                            name: 'itemType',\n                            type: 'select',\n                            label: 'Item Type',\n                            options: itemTypes,\n                            onChange: ({ value, formHandler})=>{\n                                const newAvailableItems = allItems[value.label]\n                                if(!newAvailableItems)return\n                                setavailableItems(newAvailableItems)\n                                formHandler.setFieldValue('availableItem', newAvailableItems[0])\n                            }\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'availableItem',\n                            name: 'availableItem',\n                            type: 'select',\n                            label: 'Items',\n                            options: availableItems,\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n\n            \n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'quantity',\n                            name: 'quantity',\n                            type: 'number',\n                            label: 'Amount'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'targetAll',\n                            name: 'targetAll',\n                            type: 'checkbox',\n                            label: 'Give to all'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst ItemForm = () => {\n    const { updateContextState } = useContextState()\n    const {options, users} = useGetUserOptions()\n\n    const firstUser = options[0]\n    const allItems = useGetAllItemOptions(firstUser)\n    const itemTypes = map(Object.keys(allItems), key=>{\n        return {label: key, value: key}\n    })\n    const initialValues = { targetAll: false, quantity: 1, availableItem: allItems['misc'][0], itemType: find(itemTypes, {label: 'misc'}),  target: firstUser }\n    const [values, setvalues] = React.useState(initialValues)\n    const [availableItems, setavailableItems] = React.useState(allItems['misc'])\n    const [updateItems] = useUpdateItems(values.target, values.itemType.label)\n    const [updateBatchItems] = useBatchUpdateItems(values.itemType.label)\n\n   async function handleSubmit(values, formik) {\n    updateContextState({globalLoading: true})\n        const reqString = `${values.quantity}_${values.availableItem.label}`\n        if(values.targetAll){\n            await updateBatchItems(values)\n        }else await updateItems([reqString])\n        updateContextState({globalLoading: false})\n    }\n\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={(values)=>setvalues(values)}\n            blueprint={BluePrint({availableItems,setavailableItems, options, itemTypes, allItems})}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default ItemForm\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { initialCharacterObject } from '../../../gameData/player/initialCharacterObject'\nimport { statSheet } from '../../../gameData/constants' \nimport { map, omit } from 'lodash'\n\nconst BluePrint = ({options}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'hint',\n                            name: 'hint',\n                            type: 'text',\n                            label: 'Hint'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'innerThoughts',\n                            name: 'innerThoughts',\n                            type: 'text',\n                            label: 'Inner Thoughts'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst UpdateCharacterForm = () => {\n    const updateTypeOptions = map(['Stats', 'Character'], type=>({label:type, value: type}))\n    const {options: targets} = useGetUserOptions()\n    const statOptions = map(Object.keys(statSheet), abbr=>{\n        return {...statSheet[abbr], value: statSheet[abbr].label,}\n    })\n    const omittedCharObj = omit(initialCharacterObject, ['dmMessage', 'items', 'equipped', 'stats', 'techniques', 'title', 'class'])\n    const characterHealthOptions = map((Object.keys(omittedCharObj)), abbr=>{\n        return {label: abbr, value: abbr,}\n    })\n\n    // dmMessage, items\n    function handleSubmit(values, formik) {\n        window.alert(JSON.stringify(values))\n        formik.resetForm()\n    }\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            blueprint={BluePrint({options: targets})}\n            initialValues={{ hint: '', innerThoughts: '', target: targets[0] }}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default UpdateCharacterForm\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PrintIcon from '@material-ui/icons/Print';\nimport ShareIcon from '@material-ui/icons/Share';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText } from '@material-ui/core';\nimport HintForm from './HintForm'\nimport ItemForm from './ItemForm'\nimport UpdateCharacterForm from './UpdateCharacterForm'\n\nconst useStyles = makeStyles((theme) => ({\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\nconst actions = [\n  { icon: <FileCopyIcon />, name: 'Hint' },\n  { icon: <SaveIcon />, name: 'Item' },\n  { icon: <PrintIcon />, name: 'Update Character' },\n  { icon: <ShareIcon />, name: 'Characters' },\n  { icon: <FavoriteIcon />, name: 'Like' },\n];\n// const misc = {Potion: {description: \"Recover 10 hp\",\n// hp: 10,\n// label: \"Potion\",\n// mp: 0,\n// quantity: 2,\n// src: \"/mardock-game/static/media/darkRiteArmor.9c40cf0e.svg\",\n// type: \"misc\"\n// }}\n// async function addItem(){\n//   await updateItems(['Potion 2'])\n// }\n// const [updateItems] = useUpdateItems(users[0])\n\nexport default function QuickMenu() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [dialogType, setdialogType] = React.useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  function closeDialog(){\n    setdialogType('')\n  }\n\n  const dialogContent = {\n    Hint: <HintForm />,\n    Item: <ItemForm />,\n    'Update Character': <UpdateCharacterForm />,\n    Characters: <div>Characters</div>,\n  }\n  return (\n    <>\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<SpeedDialIcon />}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n          direction={'up'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={()=>setdialogType(action.name)}\n            />\n          ))}\n        </SpeedDial>\n        <Dialog\n        open={dialogContent[dialogType] !== undefined}\n        onClose={closeDialog}\n      >\n        <DialogTitle id={dialogType}></DialogTitle>\n        <DialogContent>\n         {dialogContent[dialogType]}\n        </DialogContent>\n        {/* <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Disagree\n          </Button>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Agree\n          </Button>\n        </DialogActions> */}\n      </Dialog>\n        </>\n  );\n}\n","import React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { useContextState } from 'dynamic-context-provider';\n\nconst LoadingContainer = ({children, loading}) => {\n    const { globalLoading } = useContextState()\n    if(globalLoading || loading){\n        return(<Skeleton>{children}</Skeleton>)\n    }\n    return children\n}\n\nexport default LoadingContainer\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { filter, find, map } from 'lodash';\nimport { Divider, Typography } from '@material-ui/core';\nimport { updateCharacter } from '../../../firebase';\nimport { useContextState } from 'dynamic-context-provider';\nimport LoadingContainer from '../../../common/LoadingContainer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 'auto',\n  },\n  paper: {\n    width: 200,\n    height: 230,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n}));\n\nfunction not(a, b) {\n  return a.filter((value) => b.indexOf(value) === -1);\n}\n\nfunction intersection(a, b) {\n  return a.filter((value) => b.indexOf(value) !== -1);\n}\n\nfunction initialViewList(userInView, targets){\n    const inView = userInView ? userInView : []\n    const notInView =  filter(targets, target=>!find(userInView, {name: target.name}))\n    return [notInView, inView]\n}\nexport default function InViewList({user, targets}) {\nconst [initialNotInView, initialInView] = initialViewList(user.character.inView, targets)\n  const classes = useStyles();\n  const [loading, setloading] = React.useState(false);\n  const [checked, setChecked] = React.useState([]);\n  const [notInView, setLeft] = React.useState(initialNotInView);\n  const [inView, setRight] = React.useState(initialInView);\n  const leftChecked = intersection(checked, notInView);\n  const rightChecked = intersection(checked, inView);\n\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const handleAllRight = () => {\n    setRight(inView.concat(notInView));\n    setLeft([]);\n  };\n\n  const handleCheckedRight = () => {\n    setRight(inView.concat(leftChecked));\n    setLeft(not(notInView, leftChecked));\n    setChecked(not(checked, leftChecked));\n  };\n\n  const handleCheckedLeft = () => {\n    setLeft(notInView.concat(rightChecked));\n    setRight(not(inView, rightChecked));\n    setChecked(not(checked, rightChecked));\n  };\n\n  const handleAllLeft = () => {\n    setLeft(notInView.concat(inView));\n    setRight([]);\n  };\n\n  const customList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {map(items, (value, i) => {\n            const { name } = value\n          const labelId = `transfer-list-item-${name}-label`;\n\n          return (\n            <ListItem key={i} role=\"listitem\" button onClick={handleToggle(value)}>\n              <ListItemIcon>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n              </ListItemIcon>\n              <ListItemText id={labelId} primary={name} />\n            </ListItem>\n          );\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  );\n\n  async function addMonstersToUserSight(){\n    setloading(true)\n    let addInView = null\n    if(inView.length){\n        addInView = map(inView, monster=>{\n            return { name: monster.name}\n        })\n    }\n   await updateCharacter(user,{'character.inView': addInView}, true)\n   setloading(false)\n\n}\n  return (\n    <LoadingContainer loading={loading}>\n    <Grid  container spacing={2} justify=\"center\" alignItems=\"center\" className={classes.root}>\n      <Grid item>\n          <Typography>Not in view</Typography>\n          <Divider />\n          {customList(notInView)}\n          </Grid>\n      <Grid item>\n        <Grid container direction=\"column\" alignItems=\"center\">\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleAllRight}\n            disabled={notInView.length === 0}\n            aria-label=\"move all inView\"\n          >\n            \n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedRight}\n            disabled={leftChecked.length === 0}\n            aria-label=\"move selected inView\"\n          >\n            &gt;\n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedLeft}\n            disabled={rightChecked.length === 0}\n            aria-label=\"move selected notInView\"\n          >\n            &lt;\n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleAllLeft}\n            disabled={inView.length === 0}\n            aria-label=\"move all notInView\"\n          >\n            \n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={addMonstersToUserSight}\n            aria-label=\"addMonstersToUserSight\"\n          >\n            Add\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid item>\n      <Typography>In view</Typography>\n      <Divider />\n          {customList(inView)}\n          </Grid>\n    </Grid>\n    </LoadingContainer>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useStatSheet } from '../../../common/hooks/useStatSheet';\nimport { Accordion, AccordionDetails, AccordionSummary, CardActionArea, Grid } from '@material-ui/core';\nimport { map } from 'lodash';\nimport InViewList from './InViewList'\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n});\n\nexport default function PlayerCard({ user, targets }) {\n  const { character } = user\n  const stats = useStatSheet(character.stats, character.class)\n  const classes = useStyles();\n  const { gil, name, level, exp, hp, maxHp, mp, maxMp } = character\n  if (!character.name) return null\n  return (\n    <Card className={classes.root}>\n      <CardContent style={{ textAlign: 'center' }}>\n        <Typography fontSize={24} color=\"textSecondary\" gutterBottom>\n          {name} - Level {level}\n        </Typography>\n        <Accordion>\n          <AccordionSummary>\n            <Typography align=\"center\">Character Info</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              HP: {hp}/{maxHp}\n              <span style={{ marginLeft: '5px' }}> MP: {mp}/{maxMp}</span>\n            </Typography>\n          </AccordionDetails>\n\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              Experience: {exp}\n            </Typography>\n          </AccordionDetails>\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              {gil} Gil\n        </Typography>\n          </AccordionDetails>\n\n\n        </Accordion>\n        <Accordion>\n          <AccordionSummary >\n            <Typography align=\"center\">Stats</Typography>\n\n          </AccordionSummary>\n          <AccordionDetails>\n            <Grid container>\n              {map(Object.keys(stats), (abbr, i) => {\n                const stat = stats[abbr]\n                let statMessage = `${stat.label.toUpperCase()}: ${stat.points}`\n                if (stat.statBoost > 0) {\n                  statMessage = statMessage + ` +${stat.statBoost}`\n                }\n                return (<Grid key={i} item xs={6}><Typography>{statMessage}</Typography></Grid>)\n              })}\n            </Grid>\n          </AccordionDetails>\n        </Accordion>\n        <Grid container>\n          <InViewList user={user} targets={targets} />\n        </Grid>\n\n      </CardContent>\n      {/* <CardActions>\n        <Button size=\"small\">Learn More</Button>\n      </CardActions> */}\n    </Card>\n  );\n}\n","export const columnHeaders =[\n    { title: 'Name', field: 'name' },\n    { title: 'HP', field: 'hp', type: 'numeric' },\n    { title: 'Max HP', field: 'maxHp', type: 'numeric' },\n    { title: 'MP', field: 'mp', type: 'numeric' },\n    { title: 'Max MP', field: 'maxMp', type: 'numeric' },\n  ]\n\n    /*\n        {\n      title: 'Birth Place',\n      field: 'birthCity',\n      lookup: { 34: 'stanbul', 63: 'anlurfa' },\n    },\n      const [data, setData] = useState([\n      { name: 'Mehmet', surname: 'Baran', birthYear: 1987, birthCity: 63 },\n      { name: 'Zerya Betl', surname: 'Baran', birthYear: 2017, birthCity: 34 },\n    ]);\n    */","import React, { useState, useEffect } from 'react'\nimport MaterialTable from 'material-table'\nimport { useContextState } from 'dynamic-context-provider';\nimport { columnHeaders } from './columns'\nimport { find, map } from 'lodash';\nimport { updateCharacter, updateMonsters, giveUserRewards } from '../../../firebase';\nimport { Button } from '@material-ui/core';\n\nexport default function BattleTable({battle={monsters:[]}}) {\n\n  const { users=[] } = useContextState()\n  \n  const participants = map([...battle.monsters, ...users], participant=>{\n    if(participant.character)return participant.character\n    return participant\n  })  \n    const [columns, setColumns] = useState(columnHeaders);\n    const [data, setData] = useState(participants);\n\n  async function updateParticipant({newData, oldData}){\n    if(newData.title){\n      const user = find(users, {displayName: newData.name})\n      user && await updateCharacter(user,{'character': newData}, true)\n\n    }else{\n      let updateDb = false\n      const newMonsters = map(battle.monsters, monster =>{\n        let newMon = monster\n        if(newData.name === monster.name){\n          newMon = newData\n          updateDb= true\n        }\n        return newMon\n      })\n      updateDb && await updateMonsters(newMonsters)\n\n    }\n\n    const dataUpdate = [...data];\n    const index = oldData.tableData.id;\n    dataUpdate[index] = newData;\n    setData([...dataUpdate]);\n  }\n\n  async function giveReward(){\n    await giveUserRewards(users, battle.rewards)\n  }\n    useEffect(() => {\n      setData(participants)\n    }, [battle])\n    if(!battle.monsters.length)return null\n    return (\n      <div>\n      <MaterialTable\n        title=\"Battle Table\"\n        columns={columns}\n        data={data}\n        options={{pageSize: 20, maxBodyHeight: 440}}\n        editable={{\n        \n          onRowUpdate: async(newData, oldData)=>updateParticipant({newData, oldData}),\n        }}\n      />\n      <Button fullWidth onClick={giveReward}>Give Reward</Button>\n      </div>\n    )\n  }\n  ","import React from 'react'\nimport {battles, convertToBattle} from '../../../gameData/battles'\nimport convertToOptions  from '../../../common/helpers/convertToOptions' \nimport { TextField, MenuItem, Card, Grid, Button } from '@material-ui/core'\nimport { map } from 'lodash'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { startBattle } from '../../../firebase'\nimport { useContextState } from 'dynamic-context-provider'\n\nconst useStyles = makeStyles({\n    container: {\n        \n    },\n    card: {\n        minWidth: 600,\n        minHeight: 400,\n        padding: '60px',\n    },\n  });\nconst SelectBattleForm = () => {\n  const { users } = useContextState() \n    const classes = useStyles()\n    const battleOptions = convertToOptions(battles, true)\n    const [battle, setbattle] = React.useState(battleOptions[0].label)\n    function handleChange(e){\n        setbattle(e.target.value)\n    }\n    async function handleClick(){\n        const battleInfo = battles[battle]\n        // const createPvpBattle = convertToBattle(users)\n        // console.log('log: battleInfo', {battleInfo, createPvpBattle})\n        await startBattle(battleInfo)\n    }\n    return (\n        <Grid item className={classes.container}>\n <Card className={classes.card}>\n             <TextField\n          id=\"battle\"\n          select\n          label=\"Battles\"\n          value={battle}\n          onChange={handleChange}\n          fullWidth\n        >\n          {map(battleOptions, (option) => (\n            <MenuItem key={option.value} value={option.value}>\n              {option.label}\n            </MenuItem>\n          ))}\n           <MenuItem value='PVP'>\n           PVP\n            </MenuItem>\n        </TextField>\n        \n        </Card>\n        <Button onClick={handleClick}>Start Battle</Button>\n        </Grid>\n       \n    )\n}\n\nexport default SelectBattleForm\n","import React from 'react'\nimport PlayerCard from './PlayerCard'\nimport { useContextState } from 'dynamic-context-provider';\nimport {  Grid } from '@material-ui/core';\nimport { map } from 'lodash';\nimport { useGetBattle } from '../../../common/hooks/useGetBattle'\nimport BattleTable from './BattleTable'\nimport SelectBattleForm from './SelectBattleForm';\n\nconst Battle = () => {\n    const [battle, loading] = useGetBattle()\n    const { users } = useContextState()\n    \n    if(loading)return null\n    return (\n            <Grid justify=\"center\" spacing={3} container>\n          {!battle?.monsters && <SelectBattleForm />}\n               {battle?.monsters &&  <>\n                <Grid style={{maxHeight: '75vh', overflow: 'scroll'}} item xs={12} md={6}>\n                {\n                    map(users, (user, i)=>{\n                        return (\n                            \n                        <Grid style={{marginBottom: '20px'}} key={i} item xs={12}>\n                        <PlayerCard targets={battle.monsters}  user={user} />\n                        </Grid>\n                       \n                        )\n                    })\n                }\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <BattleTable battle={battle} />\n                </Grid>\n                </>}\n            </Grid>\n                )\n}\n\nexport default Battle\n","import React, { useEffect } from 'react'\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Story from './Story'\nimport { useContextState } from 'dynamic-context-provider';\nimport { dmObserver, firestore, getAllUsers, observer, signOut } from '../../firebase';\nimport QuickMenu from './QuickMenu';\nimport Battle from './Battle';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Backdrop, CircularProgress } from '@material-ui/core';\n\nconst DmView = ({ dmUser }) => {\n  const classes = useStyles()\n  const history = useHistory()\n  const { users, battle, updateContextState } = useContextState()\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (_, newValue) => {\n    setValue(newValue);\n  };\n  async function loadUsers() {\n    const users = await getAllUsers()\n    updateContextState({ users })\n  }\n  function handleSignOut() {\n    signOut()\n    history.replace('/sign-in')\n  }\n  useEffect(() => {\n    loadUsers()\n  }, [])\n\n  // useEffect(() => {\n\n  //   const unsubscribe = firestore.collection('DM').onSnapshot(\n  //     querySnapshot => {\n  //       querySnapshot.docChanges().forEach((change) => {\n  //         const data = change.doc.data()\n  //         if (change.type === 'modified') {\n  //           if (data.current) {\n  //             updateContextState({ battle: data.current })\n\n  //           }\n  //         }\n  //       })\n  //     }\n  //   )\n\n\n  //   return () => {\n  //     unsubscribe()\n  //   }\n  // }, [firestore])\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n            <Tab label=\"Story\" {...a11yProps(0)} />\n            <Tab label=\"Battle\" {...a11yProps(1)} />\n            <Tab label=\"Item Three\" {...a11yProps(2)} />\n          </Tabs>\n          <IconButton onClick={handleSignOut} color=\"inherit\" aria-label=\"signout\">\n            <ExitToAppIcon />\n          </IconButton>\n        </div>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Story />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <Battle />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        Item Three\n      </TabPanel>\n      {users?.length > 0 && <QuickMenu />}\n\n    </div>\n  )\n}\n\nexport default DmView\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 100000,\n    color: '#fff',\n  },\n}));\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n","import React from 'react'\nimport BasicRoot from '../../common/BasicRoot'\nimport { ContextStateProvider } from 'dynamic-context-provider';\nimport DmView from './DmView'\n\nconst DmViewResolver = ({dmUser}) => {\n    return (\n        <BasicRoot maxWidth=\"xl\">\n       <DmView dmUser={dmUser}/>\n        </BasicRoot>       \n    )\n}\n\nexport default DmViewResolver\n\n","import { useContextState } from 'dynamic-context-provider'\nimport React from 'react'\nimport { Route, useHistory } from 'react-router-dom'\nimport SignInPage from '../pages/SignInPage'\nimport CreatePage from '../pages/CreatePage'\nimport DmViewResolver from '../pages/DmView/DmViewResolver'\n\n \n\nexport const PrivateRoute = ({ children, ...rest }) => {\n  const { user, globalLoading } = useContextState()\n  const history = useHistory()\n  const isValidLogin = user?.uid ? true : false\n  function goToRoute(){\n    let route = null\n    if(user?.DM){\n      route = '/DM'\n    }\n    else if(isValidLogin && !user?.character){\n      route = '/create'\n    }\n    route && history.replace(route)\n  }\n\n  React.useEffect(() => {\n    if(globalLoading)return\n    goToRoute()\n  }, [globalLoading])\n  return(\n  <Route\n    {...rest}\n    render={() =>{\n      if(user?.DM)return <DmViewResolver dmUser={user} />\n      else if(isValidLogin && user?.character)return children\n      else if(isValidLogin && !user?.character)return <CreatePage />\n      else if(!isValidLogin)return <SignInPage />\n    }    \n  }\n  />\n)}\n\n\n","import { useContextState } from \"dynamic-context-provider\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from \"react-router-dom\";\nimport { auth, generateUserDocument, firestore, handleLevelUp } from \"./firebase\";\nimport SignInPage from \"./pages/SignInPage\";\nimport Home from \"./pages/Home\";\nimport Root from \"./common/Root\";\nimport BattlePage from \"./pages/BattlePage\";\nimport CharacterPage from \"./pages/CharacterPage\";\nimport Store from \"./pages/Store\";\nimport { PrivateRoute } from \"./common/PrivateRoute\";\nimport CreatePage from \"./pages/CreatePage\";\nimport DmViewResolver from \"./pages/DmView/DmViewResolver\";\nimport { handleDmMessage, handleNewItemMessage, handleBattleSuccess, handleLevelUpMessage } from \"./core/toaster\";\nimport { find } from \"lodash\";\n\nasync function handleDbSync(newUser, oldUser, updateContextState){\n  updateContextState({user: newUser})\n  handleNewItemMessage(newUser, oldUser,)\n  handleDmMessage(newUser)\n  handleLevelUpMessage(newUser, oldUser)\n}\nexport default function AppRouter() {\n  const { user, users, updateContextState } = useContextState()\n  const [appLoading, setappLoading] = useState(true)\n  \n  useEffect(() => {\n    auth.onAuthStateChanged(async (userAuth) => {\n      const user = await generateUserDocument(userAuth) || {}\n      updateContextState({ user })\n      setappLoading(false)\n    });\n  }, [])\n\n  useEffect(() => {\n    const usersUnsubscribe = firestore.collection('users').onSnapshot(\n      querySnapshot=>{\n        const users = []\n        querySnapshot.docChanges().forEach((change) => {\n          const dbUser = change.doc.data()\n          !dbUser.DM && users.push(dbUser)\n        })        \n        updateContextState({users})\n      }\n     )\n\n     const dMnsubscribe = firestore.collection('DM').onSnapshot(\n      querySnapshot=>{\n        let battle = {}\n        querySnapshot.docChanges().forEach((change) => {\n          const dmData = change.doc.data()\n          if(dmData.current){\n            battle = Object.keys(dmData.current).length ? dmData.current : null\n          }\n          if(change.type==='modified'){            \n            handleBattleSuccess(battle)\n          }\n        })        \n\n        updateContextState({battle})\n      }\n     )\n     \n  return () => {\n    usersUnsubscribe()\n      dMnsubscribe()\n    }\n  }, [firestore])\n\n  useEffect(() => {\n    if(!users.length || appLoading || user.DM)return\n    const newUser = find(users, {uid: user.uid})\n    newUser && handleDbSync(newUser, user, updateContextState)\n  }, [users])\n\n  if (appLoading) return null // TODO: add splash/loading screen\n  return (\n    <>\n      <Router basename=\"/mardock-game\">\n        <Switch>\n        {/* Protected Routes */}\n        \n          <PrivateRoute path=\"/Battle\">\n          <Root>\n              <BattlePage />\n              </Root>\n          </PrivateRoute>\n          <PrivateRoute path=\"/\" exact>\n            <Root>\n              <Home />\n              </Root>\n          </PrivateRoute>\n          <PrivateRoute path=\"/Character\">\n            <Root>\n              <CharacterPage />\n              </Root>\n          </PrivateRoute>\n          <PrivateRoute path=\"/Store\">\n            <Root>\n              <Store />\n              </Root>\n          </PrivateRoute>\n\n        {/* Unprotected Routes */}\n          <Route path=\"/create\">\n            <CreatePage />\n          </Route>\n          {user?.character && <PrivateRoute>\n            <Root>\n            <Home />\n            </Root>\n          </PrivateRoute>}\n          <Route path=\"/sign-in\">\n            <SignInPage />\n          </Route>\n          {user?.DM && <Route path=\"/DM\">\n            <DmViewResolver dmUser={user} />\n          </Route>}\n          <Route>\n            <SignInPage />\n          </Route>\n        </Switch>\n      </Router>\n\n    </>\n  );\n}\n","import React from 'react'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useContextState } from 'dynamic-context-provider'\n\nimport {\n\n    CircularProgress,\n    Backdrop\n} from '@material-ui/core'\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 100000,\n      color: '#fff',\n    },\n  }));\nconst GlobalLoader = () => {\n    const classes = useStyles()\n    const { globalLoading } = useContextState()\n    return (\n        <Backdrop className={classes.backdrop} open={globalLoading} >\n<CircularProgress color=\"inherit\" />\n</Backdrop>\n    )\n}\n\nexport default GlobalLoader\n","import { ContextStateProvider } from 'dynamic-context-provider';\nimport { globalStateConfig } from './core/globalStateVars';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport AppRouter from './AppRouter';\nimport GlobalLoader from './common/GlobalLoader'\nimport theme from './core/theme'\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n  return (\n    <ContextStateProvider stateConfig={globalStateConfig}>\n      <ThemeProvider theme={theme}>\n      <AppRouter />\n      <ToastContainer />\n      </ThemeProvider>\n      <GlobalLoader />\n  </ContextStateProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}