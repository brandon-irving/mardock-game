{"version":3,"sources":["core/globalStateVars.js","core/toaster.js","firebase/index.js","core/theme.js","common/BasicRoot.js","pages/SignUpPage.js","pages/SignInPage.js","common/material/Grid/GridContainer.js","common/material/Grid/GridItem.js","common/material/material-dashboard-react.js","common/material/Card/styles/cardIconStyle.js","common/material/Card/CardIcon.js","common/material/Card/styles/cardFooterStyle.js","common/material/Card/CardFooter.js","common/material/dashboardStyle.js","common/material/Card/styles/cardStyle.js","common/material/Card/Card.js","common/material/Card/styles/cardHeaderStyle.js","common/material/Card/CardHeader.js","common/ImageIcon.js","common/ProgressBar/index.js","gameData/constants.js","images/darkRiteArmor.svg","gameData/items/items.js","gameData/helpers.js","gameData/items/armors.js","gameData/items/accessories.js","images/jewelArmanar.svg","images/sword.svg","gameData/items/weapons.js","common/hooks/useGetEquippedData.js","common/ProgressBar/HpBar.js","common/InfoCard.js","common/ProgressBar/MpBar.js","common/InfoCard2.js","common/CustomIcon.js","images/equipped.svg","images/shield.svg","common/hooks/useStatSheet.js","images/knight.svg","gameData/player/classes.js","gameData/player/titles.js","images/novice.svg","pages/Home.js","common/hooks/useEquipped.js","images/fist.svg","core/routes.js","common/DialogButton.js","common/FloatingButton/styled.js","common/helpers/convertToOptions.js","common/hooks/useGetItems.js","common/hooks/useGetTargets.js","common/FloatingButton/forms/UseBaseForm.js","common/helpers/checkIfSkilledEnoughToEquip.js.js","common/FloatingButton/forms/EquipBaseForm.js","common/FloatingButton/Bag.js","common/hooks/useGetBagOptions.js","common/FloatingButton/index.js","images/bag.svg","common/Root.js","gameData/player/attacks.js","pages/BattlePage/BaseForm.js","pages/BattlePage/AttackForm.js","common/hooks/useAttacks.js","pages/BattlePage/ItemsForm.js","gameData/player/spells.js","pages/BattlePage/SpellForm.js","common/hooks/useSpells.js","common/ApNotifier.js","pages/BattlePage/MonsterView.js","images/sprites/babynewt.png","common/hooks/useGetBattle.js","pages/BattlePage/MonsterList.js","pages/BattlePage/index.js","pages/CharacterPage/index.js","gameData/player/initialCharacterObject.js","pages/CreatePage/ClassForm.js","pages/CreatePage/StatsForm.js","pages/CreatePage/WeaponForm.js","pages/CreatePage/CompleteCreateForm.js","pages/CreatePage/index.js","common/hooks/useUpdateCharacter.js","gameData/monsters/attacks.js","images/wolf.svg","gameData/monsters/index.js","images/kingDireWolf.svg","gameData/monsters/builders.js","gameData/battles.js","gameData/npc.js","gameData/story.js","common/RichTextEditor/styled.js","common/RichTextEditor/index.js","pages/DmView/hooks.js","pages/DmView/Story/index.js","pages/DmView/QuickMenu/HintForm.js","common/hooks/useUpdateItems.js","pages/DmView/QuickMenu/ItemForm.js","pages/DmView/QuickMenu/UpdateCharacterForm.js","pages/DmView/QuickMenu/index.js","common/LoadingContainer.js","pages/DmView/Battle/InViewList.js","pages/DmView/Battle/PlayerCard.js","pages/DmView/Battle/columns.js","pages/DmView/Battle/BattleTable.js","pages/DmView/Battle/SelectBattleForm.js","pages/DmView/Battle/index.js","pages/DmView/DmView.js","pages/DmView/index.js","common/PrivateRoute.js","AppRouter.js","common/GlobalLoader.js","App.js","reportWebVitals.js","index.js"],"names":["globalStateConfig","user","globalLoading","users","battle","defaultOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","launchToaster","options","type","content","toast","provider","firebase","auth","GoogleAuthProvider","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","signInWithGoogle","a","signInWithPopup","email","additionalUserInfo","profile","findUser","key","comparison","equals","generateUserDocument","additionalData","userRef","doc","uid","get","exists","displayName","photoURL","userForCloudStore","set","console","error","getUserDocument","createUserWithEmailAndPasswordHandler","values","password","newUser","createUserWithEmailAndPassword","signInWithEmailAndPasswordHandler","signInWithEmailAndPassword","catch","signOut","observer","updateContextState","currentUser","batch","collection","onSnapshot","querySnapshot","docChanges","forEach","change","data","character","dmMessage","hint","innerThoughts","length","updateUsers","newUsers","map","oldUser","e","log","commit","dmObserver","isBattleDoc","current","battleChange","isEqual","batchUpdate","path","updates","i","update","updateDoc","specialKey","ref","getDocument","getCollection","collectionPath","apiCall","collectionRef","query","where","snapshot","empty","userDocument","updateCharacter","dontGetUser","itemUse","userGivingItem","target","item","userGivingItemPath","targetPath","maxHp","maxMp","hp","mp","items","label","quantity","targetRef","userGivingItemRef","giveCharacterItem","itemCategory","equipItem","newEquip","itemsGameData","oldEquipped","equippedPath","itemsPath","Object","keys","equipped","newItems","getAllUsers","desiredUser","DM","push","value","updateStoryChapter","chapter","startBattle","getStoryChapter","res","notes","updateMonsters","monsters","dmRef","giveUserRewards","rewards","characterUpdates","cloneDeep","exp","itemInBag","sendUserAMessage","theme","createMuiTheme","palette","primary","main","secondary","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","BasicRoot","children","maxWidth","Container","component","CssBaseline","Box","mt","useStyles","makeStyles","paper","marginTop","spacing","display","flexDirection","alignItems","width","avatar","margin","backgroundColor","form","submit","validate","errors","field","SignUpPage","goToSignIn","history","useHistory","classes","replace","handleGoogleSignUp","style","justifyContent","Avatar","className","manualValidate","blueprint","Rows","Cols","Input","id","name","Button","fullWidth","disabled","initialValues","handleSubmit","Grid","container","xs","onClick","SignIn","useContextState","useState","signUp","setsignUp","route","handleGoogleSignIn","grid","GridContainer","props","rest","padding","GridItem","hexToRgb","input","test","Error","first","second","last","toUpperCase","parseInt","primaryColor","warningColor","dangerColor","successColor","infoColor","roseColor","grayColor","blackColor","whiteColor","primaryBoxShadow","boxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","warningCardHeader","background","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","title","paddingTop","borderTop","height","fontFamily","fontWeight","lineHeight","textDecoration","marginBottom","minHeight","cardIconStyle","cardIcon","borderRadius","marginRight","float","styles","CardIcon","cardIconClasses","classNames","cardFooterStyle","cardFooter","border","cardFooterProfile","cardFooterPlain","paddingLeft","paddingRight","cardFooterStats","top","marginLeft","fontSize","cardFooterChart","CardFooter","plain","stats","chart","cardFooterClasses","dashboardStyle","successText","upArrowCardCategory","cardCategory","cardCategoryWhite","cardTitle","cardTitleWhite","cardStyle","card","minWidth","wordWrap","cardPlain","cardProfile","textAlign","cardChart","Card","cardClasses","cardHeaderStyle","cardHeader","borderBottom","zIndex","overflow","cardHeaderPlain","cardHeaderStats","cardHeaderIcon","ImageIcon","src","alt","ProgressBar","BorderLinearProgress","withStyles","root","colorPrimary","bar","LinearProgress","statSheet","str","description","points","spd","vit","eva","int","wis","dex","per","darkRiteArmor","randomIntFromInterval","min","max","Math","floor","random","getSpecialMonsterList","containerObject","flatMap","monsterConfig","special","generateItems","itemsArray","listOfItems","itemInfoString","match","Number","itemName","normalise","MAX","armors","accessories","weapons","requirement","sword","useGetEquippedData","accessory","weapon","HpBar","monster","desired","armor","getHp","currentHp","gaugeValue","setgaugeValue","useEffect","InfoCard","text","imgSrc","noBox","sm","md","MpBar","getMp","currentMp","InfoCard2","flexWrap","CustomIcon","logo","maxHeight","convertStatSheet","reduce","acc","abbr","stat","statBoost","useStatSheet","manualStats","Knight","starterWeapon","knight","Archer","Assassin","Diplomat","titles","small","large","getInitials","fullName","names","split","initialsArray","charAt","join","Home","equipment","equippedInfo","useEquipped","characterTitle","characterClass","class","CardContent","level","gil","index","Divider","statMessage","routes","icon","AccountCircle","fist","Store","DialogButton","dialog","fullScreen","open","setopen","buttonProps","omit","Dialog","onClose","DialogTitle","DialogContent","FloatingButtonContainer","styled","div","convertToOptions","obj","useKey","ITEM_TYPES","useGetItems","manualUser","itemType","misc","itemsFullData","itemStorage","useGetSpecificItem","useGetTargets","excludeUser","React","targets","settargets","loading","setloading","onLoad","filter","UseBaseForm","settarget","TextField","select","onChange","event","find","option","MenuItem","checkIfSkilledEnoughToEquip","skilledEnough","statName","noRequirements","EquipBaseForm","setvalue","equippedFullInfo","newInitialEquipInBag","selectedEquip","roll","TabPanel","other","role","hidden","aria-labelledby","p","flexGrow","tabs","borderRight","divider","Bag","setValue","itemsMap","repo","itemsRepo","weaponsRepo","accessoriesRepo","armorRepo","useGetBagOptions","Tabs","newValue","aria-label","Tab","specialItem","FloatingButton","bottom","drawerWidth","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","mixins","Root","useTheme","headerTitle","getTitle","location","pathname","setOpen","AppBar","clsx","Toolbar","IconButton","edge","noWrap","bag","Drawer","direction","List","config","ListItem","button","ListItemIcon","preventDefault","stopPropagation","handleLinkClick","ListItemText","attacks","useDescription","ap","rule","dagger","fisticuff","projectile","spear","gun","BaseBluePrint","subscript","errorMessageMap","Attack","Items","Spell","defaultTargets","BaseForm","setvalues","formik","AttackForm","closeModal","techniques","listOfAttacks","availableAttacks","useAttacks","onSubmit","ItemsForm","userItems","ballSpell","element","toLowerCase","spells","spell","healSpell","SpellForm","useSpells","ApNotifier","maxAp","MonsterView","monsterName","close","startIcon","ArrowBack","filterMonstersInSight","inView","useGetBattle","setdata","getData","battles","MonsterList","initialBattle","setmonster","Fragment","BattlePage","aopen","setaopen","sopen","setsopen","iopen","setiopen","CharacterPage","initialCharacterObject","secondaryWeapon","bow","BluePrint","ClassForm","createUserObj","classOption","fieldName","statObj","baseStat","inline","Stat","updateCharacterStat","availablePoints","setavailablePoints","statPoint","setstatPoints","textColor","rollBonusText","ListItemAvatar","oldValue","newAvailablePoints","updateValue","mobile","StatsForm","newCharStats","helperText","WeaponForm","weaponData","statAbbr","requiredText","weaponName","CompleteCreateForm","actionsContainer","resetContainer","CreatePage","classStyles","activeStep","setActiveStep","steps","setcreateUserObj","useUpdateCharacter","updateFireBaseCharacter","isInvalidateCharacerObj","invalid","fields","newObj","handleNext","prevActiveStep","handleBack","getStepContent","step","statKey","Stepper","orientation","Step","StepLabel","goToStep","StepContent","monsterAttacks","wolf","common","damage","bear","snake","slime","goblin","attackConfig","buildMonster","attackMap","availableCommonAttacks","availableSpecialAttacks","attackName","attack","randomInt","splice","range","newStats","randomStat","generateStats","generateMonsters","configKeys","generatedMonsters","monsterType","newMonsters","monsterData","amountOfMonster","monsterList","pop","specialMonsters","monsterKey","randomMonsterKey","randomMonster","experience","round","tutorialBattle1","tutorialBattle2","npc","alliance","occupation","story","characters","results","RichTextContainer","RichTextEditor","defaultData","onSave","defaultValue","useGetUserOptions","userOptions","backdrop","Story","isLoading","setisLoading","selectedChapter","setselectedChapter","useGlobalLoading","setglobalLoading","handleSelectChapter","ch","getFirstChapterData","CardActions","Backdrop","CircularProgress","HintForm","itemTypes","availableItems","setavailableItems","allItems","formHandler","newAvailableItems","setFieldValue","ItemForm","firstUser","useGetAllItemOptions","targetAll","availableItem","characterDbItems","quantityString","itemToAdd","itemsCharacterIsCarrying","newQuantity","useUpdateItems","updateItems","newOption","currentItems","useBatchUpdateItems","updateBatchItems","reqString","resetForm","UpdateCharacterForm","omittedCharObj","window","alert","JSON","stringify","speedDial","right","left","actions","QuickMenu","dialogType","setdialogType","dialogContent","Hint","Item","Characters","SpeedDial","ariaLabel","SpeedDialIcon","onOpen","action","SpeedDialAction","tooltipTitle","LoadingContainer","Skeleton","not","b","indexOf","intersection","InViewList","userInView","initialViewList","initialNotInView","initialInView","checked","setChecked","notInView","setLeft","setRight","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","customList","Paper","dense","labelId","Checkbox","tabIndex","disableRipple","inputProps","addInView","justify","size","concat","PlayerCard","gutterBottom","Accordion","AccordionSummary","AccordionDetails","columnHeaders","BattleTable","participants","participant","columns","setData","updateParticipant","newData","oldData","updateDb","newMon","dataUpdate","tableData","pageSize","maxBodyHeight","editable","onRowUpdate","SelectBattleForm","battleOptions","setbattle","battleInfo","Battle","DmView","dmUser","loadUsers","_","a11yProps","DmViewResolver","stateConfig","PrivateRoute","isValidLogin","goToRoute","render","AppRouter","appLoading","setappLoading","onAuthStateChanged","userAuth","basename","exact","GlobalLoader","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"wKAAaA,EAAoB,CAC7BC,KAAM,KACNC,eAAe,EACfC,MAAO,GACPC,OAAQ,I,mHCHNC,EAAiB,CACnBC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAEP,SAASC,EAAT,GAA0E,IAAD,IAAjDC,eAAiD,MAAzCV,EAAyC,MAAzBW,YAAyB,MAApB,OAAoB,MAAZC,eAAY,MAAJ,GAAI,EAC5E,OAAOC,IAAMF,GAAMC,EAASF,G,YCK1BI,EAAW,IAAIC,IAASC,KAAKC,mBAGnCF,IAASG,cAbc,CACrBC,OAAQ,0CACRC,WAAY,sCACZC,YAAa,6CACbC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAMV,IAAMV,EAAOD,IAASC,OAChBW,EAAYZ,IAASY,YAGrBC,EAAgB,uCAAG,gCAAAC,EAAA,sEACyBb,EAAKc,gBAAgBhB,GAD9C,uBACQiB,EADR,EACvBC,mBAAqBC,QAAUF,MADR,SAEZG,EAAS,CAACC,IAAK,QAASC,WAAY,KAAMC,OAAQN,IAFtC,cAEzBnC,EAFyB,yBAGxBA,GAHwB,2CAAH,qDAMhB0C,EAAoB,uCAAG,WAAO1C,EAAM2C,GAAb,uBAAAV,EAAA,yDAC7BjC,EAD6B,yCAChB,IADgB,cAE5B4C,EAAUb,EAAUc,IAAV,gBAAuB7C,EAAK8C,MAFV,SAGXF,EAAQG,MAHG,iBAIpBC,OAJoB,wBAKxBb,EAAiCnC,EAAjCmC,MAAOc,EAA0BjD,EAA1BiD,YAAaC,EAAalD,EAAbkD,SALI,SAOxBC,EAPwB,aAOFF,cAAad,QAAOe,WAAUJ,IAAK9C,EAAK8C,KAAQH,GAP9C,UAQxBC,EAAQQ,IAAID,GARY,0DAU9BE,QAAQC,MAAM,+BAAd,MAV8B,iCAa3BC,EAAgBvD,EAAK8C,MAbM,0DAAH,wDAgBpBU,EAAqC,uCAAG,oDAAAvB,EAAA,6DAAOwB,EAAP,+BAAgB,CAAEtB,MAAO,GAAIuB,SAAU,GAAIT,YAAa,IACvGU,EAAU,KACNxB,EAAiCsB,EAAjCtB,MAAOuB,EAA0BD,EAA1BC,SAAUT,EAAgBQ,EAAhBR,YAF0B,kBAI1B7B,EAAKwC,+BAA+BzB,EAAOuB,GAJjB,uBAIzC1D,EAJyC,EAIzCA,KAJyC,UAKjC0C,EAAqB1C,EAAM,CAAEiD,cAAad,UALT,QAKjDwB,EALiD,yDAQjDN,QAAQC,MAAM,4CARmC,iCAU5CK,GAV4C,0DAAH,qDAarCE,EAAiC,uCAAG,WAAO1B,EAAOuB,GAAd,eAAAzB,EAAA,sEACzCb,EAAK0C,2BAA2B3B,EAAOuB,GAAUK,OAAM,SAAAT,GAC3DD,QAAQC,MAAM,2CAA4CA,MAFb,uBAI5BhB,EAAS,CAACC,IAAK,QAASC,WAAY,KAAMC,OAAQN,IAJtB,cAIzCnC,EAJyC,yBAMxCA,GANwC,2CAAH,wDASjCgE,EAAO,uCAAG,sBAAA/B,EAAA,sEACfb,EAAK4C,UADU,2CAAH,qDAIPC,EAAQ,uCAAG,WAAMC,EAAoBC,EAAajE,GAAvC,eAAA+B,EAAA,sEACFF,EAAUqC,QADR,cAChBA,EADgB,OAItBrC,EAAUsC,WAAW,SAASC,YAAW,SAAAC,GACvCA,EAAcC,aAAaC,QAA3B,uCAAmC,WAAMC,GAAN,2BAAAzC,EAAA,sDACjC,IACQjC,EAAO0E,EAAO7B,IAAI8B,OACP5C,EAAUsC,WAAW,SAASxB,IAAI7C,EAAK8C,KAEpD4B,EAAO3D,KAIS,aAAhB2D,EAAO3D,OAAsB,GACC,UAAAf,EAAK4E,iBAAL,eAAgBC,YAAa,CAACC,KAAM,GAAIC,cAAe,IAA/ED,EADsB,EACtBA,KAAMC,EADgB,EAChBA,cACXZ,EAAYrB,MAAQ9C,EAAK8C,OACnB,OAAJgC,QAAI,IAAJA,OAAA,EAAAA,EAAME,QAAS,GAChBnE,EAAc,CAACE,KAAM,OAAQC,QAAQ,WAAD,OAAQ8D,MAE9B,OAAbC,QAAa,IAAbA,OAAA,EAAAA,EAAeC,QAAS,GACzBnE,EAAc,CAACE,KAAM,UAAWC,QAAQ,gBAAD,OAAQ+D,KAEjDb,EAAmB,CAAElE,KAAK,2BAAKA,GAAN,IAAY8E,KAAM,KAAMC,cAAe,UAI/D7E,IACG+E,GAAc,EACZC,EAAWC,cAAIjF,GAAO,SAAAkF,GAC1B,OAAGA,EAAQtC,MAAQ9C,EAAK8C,KACtBmC,GAAc,EACP,2BAAIG,GAAX,IAAoBR,UAAW5E,EAAK4E,aAE/BQ,KAETH,GAAef,EAAmB,CAAEhE,MAAOgF,MAG3CR,EAAO3D,KAEZ,MAAMsE,GACLhC,QAAQiC,IAAI,aAAcD,GArCK,2CAAnC,0DALoB,SA+ChBjB,EAAMmB,SA/CU,2CAAH,0DAkDRC,EAAa,SAACtB,EAAoBhE,EAAOC,GAEpD4B,EAAUsC,WAAW,MAAMC,YAAW,SAAAC,GAEpCA,EAAcC,aAAaC,SAAQ,SAAAC,GACjC,IAAMC,EAAOD,EAAO7B,IAAI8B,OAClBc,EAAcd,EAAKe,QAKzB,GAHIhB,EAAO3D,KAGS,aAAhB2D,EAAO3D,KAAqB,CAC9B,IAAM4E,GAAiBC,kBAAQzF,EAAQwE,EAAKe,SACzCD,GAAeE,GAChBzB,EAAmB,CAAC/D,OAAQwE,EAAKe,QAASxF,UAI1CwE,EAAO3D,YAYV,SAAe8E,EAAtB,sC,4CAAO,WAA2BC,EAAM5F,EAAO6F,GAAxC,eAAA9D,EAAA,sEAEeF,EAAUqC,QAFzB,cAECA,EAFD,OAGLK,kBAAQvE,GAAO,SAACF,EAAMgG,GACpB,IAAMpD,EAAWb,EAAUsC,WAAW,SAASxB,IAAI7C,EAAK8C,KACxDsB,EAAM6B,OAAOrD,EAAb,eAAwBkD,EAAOC,EAAQC,QALpC,SAOC5B,EAAMmB,SAPP,4C,sBAUA,SAAeW,EAAtB,sC,4CAAO,WAAyBJ,EAAMC,EAASI,GAAxC,eAAAlE,EAAA,6DACCmE,EAAMrE,EAAUc,IAAV,UAAiBiD,IADxB,SAEkBM,EAAIrD,MAFtB,iBAGSC,OAHT,qBAIAmD,EAJA,iCAKYC,EAAIhD,IAAJ,eAAU+C,EAAaJ,IALnC,iEAQYK,EAAIhD,IAAI2C,GARpB,qDAWFI,EAXE,kCAYUC,EAAIH,OAAJ,eAAaE,EAAaJ,IAZpC,kEAeUK,EAAIH,OAAOF,GAfrB,sF,sBAmBP,IAAMM,EAAW,uCAAG,WAAOP,GAAP,eAAA7D,EAAA,+EAEEF,EAAUc,IAAIiD,GAAM/C,MAFtB,cAEVF,EAFU,wCAIXA,EAAI8B,SAJO,gCAOhBtB,QAAQC,MAAM,sBAAd,MAPgB,yDAAH,sDAWV,SAAegD,IAAtB,+B,4CAAO,gDAAArE,EAAA,6DAA6BsE,EAA7B,+BAA4C,CAAC,aAAc,YAC5D5B,EAAO,KACL6B,EAAUD,EAAevB,OAAS,EAAIjD,EAAUsC,WAAWkC,EAAe,IAAMxE,EAAUsC,WAAWkC,EAAe,IAAI1D,IAAI0D,EAAe,IAF5I,SAGuBC,EAHvB,cAGCC,EAHD,gBAIaA,EAAc1D,MAJ3B,cAICF,EAJD,QAKGG,SACN2B,EAAM9B,EAAI8B,QANP,kBAQEA,GARF,6C,sBAaA,SAAerC,IAAtB,+B,4CAAO,kDAAAL,EAAA,6DAAwByE,EAAxB,+BAAgC,CAAEnE,IAAK,OAAQC,WAAY,KAAMC,OAAQ,WAC1EzC,EAAO,GADN,SAIKuC,EAA4BmE,EAA5BnE,IAAKC,EAAuBkE,EAAvBlE,WAAYC,EAAWiE,EAAXjE,OAJtB,SAKoBV,EAAUsC,WAAV,SAA8BsC,MAAMpE,EAAKC,EAAYC,GAAQM,MALjF,YAKG6D,EALH,QAMUC,MANV,wBAODxD,QAAQiC,IAAI,0BAPX,2BAUHsB,EAASnC,SAAQ,SAAA5B,GACf7C,EAAO6C,EAAI8B,UAXV,kDAcHtB,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAfpC,iCAkBEhB,GAlBF,2D,sBAoBA,IAAMuD,EAAe,uCAAG,WAAMT,GAAN,eAAAb,EAAA,yDACxBa,EADwB,yCACZ,MADY,gCAGAuD,EAAY,SAAD,OAAUvD,IAHrB,cAGrBgE,EAHqB,sCAKzBhE,OACGgE,IANsB,gCAS3BzD,QAAQC,MAAM,sBAAd,MAT2B,yDAAH,sDAafyD,EAAe,uCAAG,WAAO/G,EAAM+F,EAASiB,GAAtB,eAAA/E,EAAA,6DACzB0B,EAAU,GADe,kBAIrBuC,EAAU,SAAD,OAAUlG,EAAK8C,KAAOiD,GAJV,WAKjBiB,EALiB,qBAKH,GALG,wCAKQzD,EAAgBvD,EAAK8C,KAL7B,4BAK3Ba,EAL2B,uDAO3BN,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBARZ,iCAWrB2C,GAXqB,0DAAH,0DAyBfsD,EAAO,uCAAG,iDAAAhF,EAAA,6DAAQiF,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,KAAhC,SAEbC,EAFa,kBAGbC,EAHa,cAKKH,EAAOvC,UAAvB2C,EALW,EAKXA,MAAOC,EALI,EAKJA,MACfL,EAAOvC,UAAU6C,IAAML,EAAKK,GAC5BN,EAAOvC,UAAU8C,IAAMN,EAAKM,GACzBP,EAAOvC,UAAU6C,GAAKF,IACvBJ,EAAOvC,UAAU6C,GAAKF,GAErBJ,EAAOvC,UAAU8C,GAAKF,IACvBL,EAAOvC,UAAU8C,GAAKF,GAIxBN,EAAetC,UAAU+C,MAAMP,EAAKrG,MAAMqG,EAAKQ,OAAOC,UAAW,EAC7DX,EAAetC,UAAU+C,MAAMP,EAAKrG,MAAMqG,EAAKQ,OAAOC,iBACjDX,EAAetC,UAAU+C,MAAMP,EAAKrG,MAAMqG,EAAKQ,OAlBrC,UAoBC7F,EAAUqC,QApBX,eAoBbA,EApBa,OAqBb0D,EAAY/F,EAAUsC,WAAW,SAASxB,IAAIsE,EAAOrE,KACrDiF,EAAoBhG,EAAUsC,WAAW,SAASxB,IAAIqE,EAAepE,KAC3EsB,EAAM6B,OAAO6B,EAAb,eAA2BR,EAAaH,EAAOvC,YAC/CR,EAAM6B,OAAO8B,EAAb,eAAmCV,EAAqBH,EAAetC,UAAU+C,QAxB9D,UAyBbvD,EAAMmB,SAzBO,0DA2BnBlC,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBA5BpB,0DAAH,sDAgCPgH,EAAiB,uCAAG,WAAOhI,EAAM+F,EAASkC,GAAtB,eAAAhG,EAAA,sEAEvB6D,EAFuB,0BAEGmC,GAFH,SAGvBlB,EAAgB/G,EAAD,eAAS8F,EAAOC,IAHR,uDAK7B1C,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBANV,yDAAH,0DAUjBkH,EAAS,uCAAG,iDAAAjG,EAAA,6DAASjC,EAAT,EAASA,KAAM2H,EAAf,EAAeA,MAAOQ,EAAtB,EAAsBA,SAAUpH,EAAhC,EAAgCA,KAAMqH,EAAtC,EAAsCA,cACzDC,EAAc,KADK,SAIfC,EAJe,6BAIsBvH,GACrCwH,EALe,kBAMrBF,EAAcG,OAAOC,KAAKzI,EAAK4E,UAAU8D,SAAS3H,IAAOiE,OAAShF,EAAK4E,UAAU8D,SAAS3H,GAAQ,YAC5F4H,EAPe,eAOChB,IACN5G,GAAMoH,GACnBE,IACDM,EAAS5H,GAAMsH,GAAeD,EAAcC,IAVzB,UAcDtG,EAAUqC,QAdT,eAcfA,EAde,OAefxB,EAAUb,EAAUsC,WAAW,SAASxB,IAAI7C,EAAK8C,KACvDsB,EAAM6B,OAAOrD,EAAb,eAAyB2F,EAAYI,IACrCvE,EAAM6B,OAAOrD,EAAb,eAAyB0F,EAAeH,IAjBnB,UAkBf/D,EAAMmB,SAlBS,0DAqBrBlC,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAtBlB,iCAyBhBqH,GAzBgB,0DAAH,sDA8Bf,SAAeO,IAAtB,+B,4CAAO,8BAAA3G,EAAA,6DACC/B,EAAQ,GADT,kBAIe6B,EAAUsC,WAAV,SAJf,cAIG+B,EAJH,gBAKoBA,EAAIrD,MALxB,cAMM0B,SAAQ,SAAAzE,GACf,IAAM6I,EAAc7I,EAAK2E,OACrBkE,EAAYC,IACd5I,EAAM6I,KAAN,2BAAeF,GAAf,IAA4BjB,MAAOiB,EAAY5F,YAAa+F,MAAOH,EAAY5F,kBAThF,kDAcHI,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAfpC,iCAkBEd,GAlBF,2D,sBAqBA,IAAM+I,EAAkB,uCAAG,WAAOC,EAASnD,EAASI,GAAzB,SAAAlE,EAAA,+EAExBiE,EAAU,MAAD,OAAOgD,GAAWnD,EAASI,GAFZ,sDAI9B9C,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBALT,wDAAH,0DASlBmI,EAAW,uCAAG,WAAOhJ,GAAP,eAAA8B,EAAA,sEAEjBW,EAAUb,EAAUsC,WAAW,MAAMxB,IAAI,WAFxB,SAGjBD,EAAQqD,OAAO,CAACP,QAAQ,eAAKvF,KAHZ,uDAMvBkD,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAPhB,yDAAH,sDAWjB,SAAeoI,EAAtB,kC,4CAAO,WAA+BF,GAA/B,eAAAjH,EAAA,6DACDoH,EAAM,CAACC,MAAO,IADb,kBAGShD,EAAc,CAAC,KAAM4C,IAH9B,OAGHG,EAHG,uDAKHhG,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBANpC,iCAQEqI,GARF,0D,sBAWA,IAAME,EAAc,uCAAG,WAAOC,GAAP,eAAAvH,EAAA,sEAEpBwH,EAAQ1H,EAAUsC,WAAW,MAAMxB,IAAI,WAFnB,SAGpB4G,EAAMxD,OAAO,CAAC,mBAAoBuD,IAHd,uDAK1BnG,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBANb,yDAAH,sDAWd0I,GAAe,uCAAG,WAAOxJ,EAAOyJ,GAAd,iBAAA1H,EAAA,sEAErB2H,EAAmB,GACzBnF,kBAAQvE,GAAO,SAAAF,GACb,IACQ4E,EADQiF,oBAAU7J,GAClB4E,UACRA,EAAUkF,KAAOH,EAAQG,IACzBrF,kBAAQkF,EAAQhC,OAAO,SAAAP,GACrB,IAAM2C,EAAYnF,EAAU+C,MAAMP,EAAKrG,MAAMqG,EAAKQ,OAC/CmC,EACDA,EAAUlC,UAAYT,EAAKS,SAE3BjD,EAAU+C,MAAMP,EAAKQ,OAASR,KAGlCwC,EAAiBb,KAAKnE,MAExBvB,QAAQiC,IAAI,wBAAyB,CAACpF,QAAO0J,qBAjBlB,SAkBrB/D,EAAY,YAAa3F,EAAO0J,GAlBX,cAmBrBH,EAAQ1H,EAAUsC,WAAW,MAAMxB,IAAI,WAnBlB,SAoBrB4G,EAAMxD,OAAO,CAAC,QAAW,KApBJ,yDAsB3B5C,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAvBZ,0DAAH,wDA2BfgJ,GAAgB,uCAAG,WAAOhK,EAAM6E,GAAb,SAAA5C,EAAA,sEAE5BoB,QAAQiC,IAAI,uBAAwB,CAACtF,OAAM6E,cAFf,SAGtBkC,EAAgB/G,EAAD,qCAAiC6E,IAH1B,uDAM5BxB,QAAQiC,IAAI,aAAZ,MACAzE,EAAc,CAACE,KAAM,QAASC,QAAS,uBAPX,yDAAH,wD,0FCxZZiJ,GALHC,aAAe,eAXR,CACjBC,QAAS,CACPpJ,KAAM,OACNqJ,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,e,gDCDd,SAASE,KACL,OACI,gBAACC,GAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,SAAxD,UACK,kBACD,eAACC,GAAA,EAAD,CAAMF,MAAM,UAAUG,KAAK,iDAA3B,0BAEE,KACD,IAAIC,MAAOC,cACX,OAQE,SAASC,GAAT,GAA+C,IAA3BC,EAA0B,EAA1BA,SAA0B,IAAhBC,gBAAgB,MAAP,KAAO,EAEzD,OACI,gBAACC,GAAA,EAAD,CAAWC,UAAU,OAAOF,SAAUA,EAAtC,UACI,eAACG,GAAA,EAAD,IACHJ,EACG,eAACK,GAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAAChB,GAAD,SCDhB,IAAMiB,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrCyB,MAAO,CACHC,UAAW1B,EAAM2B,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,MAAO,QAEXC,OAAQ,CACJC,OAAQjC,EAAM2B,QAAQ,GACtBO,gBAAiBlC,EAAME,QAAQG,UAAUD,MAE7C+B,KAAM,CACFJ,MAAO,OACPL,UAAW1B,EAAM2B,QAAQ,IAE7BS,OAAQ,CACJH,OAAQjC,EAAM2B,QAAQ,EAAG,EAAG,QAoEpC,SAASU,GAAS7I,GACd,IAAM8I,EAAS,GAOf,OANA/D,OAAOC,KAAKhF,GAAQgB,SAAQ,SAAA+H,KACN/I,EAAO+I,IAAqC,kBAAlB/I,EAAO+I,KAAwB/I,EAAO+I,GAAOxH,UAErFuH,EAAOC,GAAS,eAGjBD,EAEI,SAASE,GAAT,GAAmC,IAAdC,EAAa,EAAbA,WAC1BC,EAAUC,cACVC,EAAUrB,KAF6B,4CAK7C,WAA4B/H,GAA5B,SAAAxB,EAAA,sEACyBuB,EAAsCC,GAD/D,cAEIkJ,EAAQG,QAAQ,UAFpB,4CAL6C,+BAS9BC,EAT8B,8EAS7C,WAAkC1H,GAAlC,SAAApD,EAAA,sEACUD,IADV,OAEI2K,EAAQG,QAAQ,UAFpB,4CAT6C,sBAa7C,OACI,gBAAC9B,GAAD,WACI,sBAAKgC,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,UAA/C,SACI,eAACC,GAAA,EAAD,CAAQC,UAAWN,EAAQZ,OAA3B,SACI,eAAC,KAAD,QAGR,eAACzB,GAAA,EAAD,CAAYG,MAAM,SAASS,UAAU,KAAKX,QAAQ,KAAlD,qBAIJ,eAAC,KAAD,CACIR,MAAOA,GACPmD,eAAgBd,GAChBe,UArGA,CACJC,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,cACJC,KAAM,cACN3M,KAAM,OACN6G,MAAO,OACP6C,QAAS,aAMzB,CACI8C,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,QACJC,KAAM,QACN3M,KAAM,QACN6G,MAAO,QACP6C,QAAS,aAMzB,CACI8C,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,WACJC,KAAM,WACN3M,KAAM,WACN6G,MAAO,WACP6C,QAAS,aAMzB,CACI8C,KAAM,CACF,CACII,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,UACPgG,WAAW,EACXC,UAAU,EACVpD,QAAS,iBAgDzBqD,cAzBc,CAAE7K,YAAa,GAAId,MAAO,GAAIuB,SAAU,IA0BtDqK,aA7BqC,8CA+B5C,gBAACC,GAAA,EAAD,CAAMC,WAAS,EAAf,UACD,eAACD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,IAAE,EAAb,SACI,eAACP,GAAA,EAAD,CAAQQ,QAASpB,EAAjB,8BAKJ,eAACiB,GAAA,EAAD,CAAM5G,MAAI,EAAV,SACA,eAACuG,GAAA,EAAD,CAAQQ,QAASzB,EAAjB,sDCjJJ,IAAMlB,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrCyB,MAAO,CACHC,UAAW1B,EAAM2B,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,MAAO,QAEXC,OAAQ,CACJC,OAAQjC,EAAM2B,QAAQ,GACtBO,gBAAiBlC,EAAME,QAAQG,UAAUD,MAE7C+B,KAAM,CACFJ,MAAO,OACPL,UAAW1B,EAAM2B,QAAQ,IAE7BS,OAAQ,CACJH,OAAQjC,EAAM2B,QAAQ,EAAG,EAAG,QAsDpC,SAASU,GAAS7I,GACd,IAAM8I,EAAS,GAOf,OANA/D,OAAOC,KAAKhF,GAAQgB,SAAQ,SAAA+H,KACN/I,EAAO+I,IAAqC,kBAAlB/I,EAAO+I,KAAwB/I,EAAO+I,GAAOxH,UAErFuH,EAAOC,GAAS,eAGjBD,EAEI,SAAS6B,KAAU,IACtBlK,EAAuBmK,cAAvBnK,mBACFyI,EAAUC,cACVC,EAAUrB,KAHa,EAKD8C,oBAAS,GALR,mBAKtBC,EALsB,KAKdC,EALc,iDAM7B,WAA4B/K,GAA5B,iBAAAxB,EAAA,6DACIiC,EAAmB,CAACjE,eAAe,IADvC,SAEuB4D,EAAkCJ,EAAOtB,MAAOsB,EAAOC,UAF9E,OAEU1D,EAFV,OAGUyO,EAAQzO,EAAK4E,UAAY,IAAM,SACrC+H,EAAQG,QAAQ2B,GAChBvK,EAAmB,CAACjE,eAAe,IALvC,4CAN6B,+BAcdyO,EAdc,8EAc7B,WAAkCrJ,GAAlC,iBAAApD,EAAA,6DACIiC,EAAmB,CAACjE,eAAe,IADvC,SAEuB+B,IAFvB,OAEUhC,EAFV,OAGUyO,EAAQzO,EAAK4E,UAAY,IAAM,SAErC+H,EAAQG,QAAQ2B,GAChBvK,EAAmB,CAACjE,eAAe,IANvC,4CAd6B,sBA6B7B,OAAGsO,EACQ,eAAC9B,GAAD,CAAYC,WAJvB,WACI8B,GAAU,MAMV,gBAACxD,GAAD,WACO,sBAAKgC,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,UAA/C,SACC,eAACC,GAAA,EAAD,CAAQC,UAAWN,EAAQZ,OAA3B,SACI,eAAC,KAAD,QAGR,eAACzB,GAAA,EAAD,CAAYG,MAAM,SAASS,UAAU,KAAKX,QAAQ,KAAlD,qBAIJ,eAAC,KAAD,CACIR,MAAOA,GACPmD,eAAgBd,GAChBe,UA1GA,CACJC,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,QACJC,KAAM,QACN3M,KAAM,QACN6G,MAAO,QACP6C,QAAS,aAMzB,CACI8C,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,WACJC,KAAM,WACN3M,KAAM,WACN6G,MAAO,WACP6C,QAAS,aAMzB,CACI8C,KAAM,CACF,CACII,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,UACPgG,WAAW,EACXC,UAAU,EACVpD,QAAS,iBAmEzBqD,cA3Cc,CAAE3L,MAAO,GAAIuB,SAAU,IA4CrCqK,aAhDqB,8CAkD5B,gBAACC,GAAA,EAAD,CAAMC,WAAS,EAAf,UACD,eAACD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,IAAE,EAAb,SACI,eAACP,GAAA,EAAD,CAAQQ,QAASO,EAAjB,8BAKJ,eAACV,GAAA,EAAD,CAAM5G,MAAI,EAAV,SACA,eAACuG,GAAA,EAAD,CAAQQ,QAnCR,WACIK,GAAU,IAkCd,6B,aC/IEhD,GAAYC,aAPH,CACbkD,KAAM,CACJzC,OAAQ,qBACRF,MAAO,WAMI,SAAS4C,GAAcC,GACpC,IAAMhC,EAAUrB,KACRP,EAAsB4D,EAAtB5D,SAAa6D,EAFsB,aAEbD,EAFa,cAG3C,OACE,eAACb,GAAA,EAAD,yBAAMC,WAAS,GAAKa,GAApB,IAA0B3B,UAAWN,EAAQ8B,KAA7C,SACG1D,KCdP,IAMMO,GAAYC,aANH,CACbkD,KAAM,CACJI,QAAS,uBAME,SAASC,GAASH,GAC/B,IAAMhC,EAAUrB,KACRP,EAAsB4D,EAAtB5D,SAAa6D,EAFiB,aAERD,EAFQ,cAGtC,OACE,eAACb,GAAA,EAAD,yBAAM5G,MAAI,GAAK0H,GAAf,IAAqB3B,UAAWN,EAAQ8B,KAAxC,SACG1D,K,yBCGDgE,GAAW,SAAAC,GAEfA,GADAA,GAAgB,IACFpC,QAAQ,IAAK,IAE3B,IADe,eACDqC,KAAKD,IAA4B,IAAjBA,EAAMlK,QAAiC,IAAjBkK,EAAMlK,OACxD,MAAM,IAAIoK,MAAM,mCAElB,GAAqB,IAAjBF,EAAMlK,OAAc,CACtB,IAAIqK,EAAQH,EAAM,GACdI,EAASJ,EAAM,GACfK,EAAOL,EAAM,GACjBA,EAAQG,EAAQA,EAAQC,EAASA,EAASC,EAAOA,EAGnD,IAAIF,GADJH,EAAQA,EAAMM,eACI,GAAKN,EAAM,GACzBI,EAASJ,EAAM,GAAKA,EAAM,GAC1BK,EAAOL,EAAM,GAAKA,EAAM,GAC5B,OACEO,SAASJ,EAAO,IAChB,KACAI,SAASH,EAAQ,IACjB,KACAG,SAASF,EAAM,KA2BbG,GAAe,CAAC,UAAW,UAAW,UAAW,WACjDC,GAAe,CAAC,UAAW,UAAW,UAAW,WACjDC,GAAc,CAAC,UAAW,UAAW,UAAW,WAChDC,GAAe,CAAC,UAAW,UAAW,UAAW,WACjDC,GAAY,CAAC,UAAW,UAAW,UAAW,WAC9CC,GAAY,CAAC,UAAW,UAAW,UAAW,WAC9CC,GAAY,CAChB,OACA,OACA,UACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,OACA,WAEIC,GAAa,OACbC,GAAa,OAabC,IARFlB,GAASgB,IAEThB,GAASgB,IAEThB,GAASgB,IAIY,CACvBG,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASS,GAAa,IACtB,SAEEW,GAAgB,CACpBD,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASa,GAAU,IACnB,QAEEQ,GAAmB,CACvBF,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASY,GAAa,IACtB,QAEEU,GAAmB,CACvBH,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASU,GAAa,IACtB,QAEEa,GAAkB,CACtBJ,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASW,GAAY,IACrB,QAEEa,GAAgB,CACpBL,UACE,qBACAnB,GAASgB,IACT,+BACAhB,GAASc,GAAU,IACnB,QAGEW,GAAiB,aACrBC,WACE,0BAA4BhB,GAAa,GAAK,KAAOA,GAAa,GAAK,KACtEY,IAECK,GAAiB,aACrBD,WACE,0BAA4Bd,GAAa,GAAK,KAAOA,GAAa,GAAK,KACtES,IAECO,GAAgB,aACpBF,WACE,0BAA4Bf,GAAY,GAAK,KAAOA,GAAY,GAAK,KACpEY,IAECM,GAAc,aAClBH,WACE,0BAA4Bb,GAAU,GAAK,KAAOA,GAAU,GAAK,KAChEO,IAECU,GAAiB,aACrBJ,WACE,0BAA4BjB,GAAa,GAAK,KAAOA,GAAa,GAAK,KACtES,IAECa,GAAc,aAClBL,WACE,0BAA4BZ,GAAU,GAAK,KAAOA,GAAU,GAAK,KAChEU,IA2CCQ,IAxCW,aACf/E,OAAQ,cACRgF,WAAY,OACZC,UAAW,aAAenB,GAAU,IACpCoB,OAAQ,QA5HU,CAClBC,WAAY,6CACZC,WAAY,MACZC,WAAY,UAwIqBtC,GAASgB,IAEzBhB,GAASgB,IASxBhB,GAASgB,IAEThB,GAASgB,IAEThB,GAASgB,IAMC,CACZvF,MAAOsF,GAAU,GACjBwB,eAAgB,OAChBF,WAAY,MACZ3F,UAAW,OACX8F,aAAc,OACdC,UAAW,OACXL,WAAY,6CACZ,UAAW,CACT3G,MAAOsF,GAAU,GACjBsB,WAAY,MACZC,WAAY,OChNDI,IDoNA,2BACVV,IADU,IAEbtF,UAAW,IACX8F,aAAc,MACdC,UAAW,OACX,MAAM,2BACDT,IADL,IAEEtF,UAAW,UACX8F,aAAc,UACdC,UAAW,WChPO,CACpBE,SAAU,CACR,mHAAoH,CAClHC,aAAc,MACd1F,gBAAiB6D,GAAU,GAC3BjB,QAAS,OACTpD,UAAW,QACXmG,YAAa,OACbC,MAAO,SAGXrB,qBACAE,qBACAC,oBACAC,kBACAC,qBACAC,oBCdIxF,GAAYC,aAAWuG,IAEd,SAASC,GAASpD,GAAQ,IAAD,EAChChC,EAAUrB,KACR2B,EAAwC0B,EAAxC1B,UAAWlC,EAA6B4D,EAA7B5D,SAAUP,EAAmBmE,EAAnBnE,MAAUoE,EAFD,aAEUD,EAFV,kCAGhCqD,EAAkBC,MAAU,mBAC/BtF,EAAQ+E,UAAW,GADY,cAE/B/E,EAAQnC,EAAQ,cAAgBA,GAFD,cAG/ByC,OAA0BvM,IAAduM,GAHmB,IAKlC,OACE,8CAAKH,MAAO,CAAC8E,YAAa,GAAI3E,UAAW+E,GAAqBpD,GAA9D,aACG7D,KCtBP,IA4CemH,GA5CS,CACtBC,WAAY,CACVtD,QAAS,IACTmC,WAAY,OACZhF,OAAQ,cACR2F,aAAc,IACd5E,eAAgB,gBAChBlB,WAAY,SACZF,QAAS,OACTM,gBAAiB,cACjBmG,OAAQ,KAEVC,kBAAmB,CACjB5G,UAAW,SAEb6G,gBAAiB,CACfC,YAAa,MACbC,aAAc,MACdvG,gBAAiB,eAEnBwG,gBAAiB,CACfxB,UAAW,aAAenB,GAAU,IACpCrE,UAAW,OACX,QAAS,CACPtL,SAAU,WACVuS,IAAK,MACLd,YAAa,MACbe,WAAY,MACZ7G,MAAO,OACPoF,OAAQ,QAEV,gDAAiD,CAC/C0B,SAAU,OACVzS,SAAU,WACVuS,IAAK,MACLd,YAAa,MACbe,WAAY,QAGhBE,gBAAiB,CACf5B,UAAW,aAAenB,GAAU,MC9BlCxE,GAAYC,aAAWuG,IAEd,SAASgB,GAAWnE,GAAQ,IAAD,EAClChC,EAAUrB,KACR2B,EAA+D0B,EAA/D1B,UAAWlC,EAAoD4D,EAApD5D,SAAUgI,EAA0CpE,EAA1CoE,MAAO5Q,EAAmCwM,EAAnCxM,QAAS6Q,EAA0BrE,EAA1BqE,MAAOC,EAAmBtE,EAAnBsE,MAAUrE,EAFtB,aAE+BD,EAF/B,4DAGlCuE,EAAoBjB,MAAU,mBACjCtF,EAAQwF,YAAa,GADY,cAEjCxF,EAAQ2F,gBAAkBS,GAFO,cAGjCpG,EAAQ0F,kBAAoBlQ,GAHK,cAIjCwK,EAAQ8F,gBAAkBO,GAJO,cAKjCrG,EAAQkG,gBAAkBI,GALO,cAMjChG,OAA0BvM,IAAduM,GANqB,IAQpC,OACE,8CAAKA,UAAWiG,GAAuBtE,GAAvC,aACG7D,KCpBP,IA0EeoI,GA1EQ,CACrBC,YAAa,CACX5I,MAAOmF,GAAa,IAEtB0D,oBAAqB,CACnBvH,MAAO,OACPoF,OAAQ,QAEV8B,MAAO,CACLxI,MAAOsF,GAAU,GACjBnE,QAAS,cACTiH,SAAU,OACVvB,WAAY,OACZ,QAAS,CACPqB,IAAK,MACL5G,MAAO,OACPoF,OAAQ,OACR/Q,SAAU,WACVyR,YAAa,MACbe,WAAY,OAEd,gDAAiD,CAC/CD,IAAK,MACLE,SAAU,OACVzS,SAAU,WACVyR,YAAa,MACbe,WAAY,QAGhBW,aAAc,CACZ9I,MAAOsF,GAAU,GACjB9D,OAAQ,IACR4G,SAAU,OACVnH,UAAW,IACXuF,WAAY,OACZO,aAAc,KAEhBgC,kBAAmB,CACjB/I,MAAO,QAAUuE,GAASiB,IAAc,QACxChE,OAAQ,IACR4G,SAAU,OACVnH,UAAW,IACX8F,aAAc,KAEhBiC,UAAW,CACThJ,MAAOsF,GAAU,GACjBrE,UAAW,MACX+F,UAAW,OACXJ,WAAY,MACZD,WAAY,6CACZI,aAAc,MACdD,eAAgB,OAChB,UAAW,CACT9G,MAAOsF,GAAU,GACjBsB,WAAY,MACZC,WAAY,MAGhBoC,eAAgB,CACdjJ,MAAOwF,GACPvE,UAAW,MACX+F,UAAW,OACXJ,WAAY,MACZD,WAAY,6CACZI,aAAc,MACdD,eAAgB,OAChB,UAAW,CACT9G,MAAOsF,GAAU,GACjBsB,WAAY,MACZC,WAAY,OCrCHqC,GAjCG,CAChBC,KAAM,CACJvB,OAAQ,IACRb,aAAc,OACd9F,UAAW,OACXkG,aAAc,MACdnH,MAAO,QAAUuE,GAASgB,IAAc,UACxCU,WAAYT,GACZlE,MAAO,OACPoE,UAAW,oBAAsBnB,GAASgB,IAAc,UACxD5P,SAAU,WACVwL,QAAS,OACTC,cAAe,SACfgI,SAAU,IACVC,SAAU,aACVjB,SAAU,WAEZkB,UAAW,CACTrD,WAAY,cACZP,UAAW,QAEb6D,YAAa,CACXtI,UAAW,OACXuI,UAAW,UAEbC,UAAW,CACT,MAAO,CACLxI,UAAW,MACXuF,WAAY,SCtBZ1F,GAAYC,aAAWuG,IAEd,SAASoC,GAAKvF,GAAQ,IAAD,EAC5BhC,EAAUrB,KACR2B,EAAwD0B,EAAxD1B,UAAWlC,EAA6C4D,EAA7C5D,SAAUgI,EAAmCpE,EAAnCoE,MAAO5Q,EAA4BwM,EAA5BxM,QAAS8Q,EAAmBtE,EAAnBsE,MAAUrE,EAFrB,aAE8BD,EAF9B,oDAG5BwF,EAAclC,MAAU,mBAC3BtF,EAAQgH,MAAO,GADY,cAE3BhH,EAAQmH,UAAYf,GAFO,cAG3BpG,EAAQoH,YAAc5R,GAHK,cAI3BwK,EAAQsH,UAAYhB,GAJO,cAK3BhG,OAA0BvM,IAAduM,GALe,IAO9B,OACE,8CAAKH,MAAO,CAAC2D,WAAY,WAAYxD,UAAWkH,GAAiBvF,GAAjE,aACG7D,KChBP,IAiHeqJ,GAjHS,CACtBC,WAAY,CACVxF,QAAS,kBACT0C,aAAc,IACd+C,aAAc,OACd7D,WAAY,cACZ8D,OAAQ,eACR,wKAAyK,CACvKvI,OAAQ,SACR6C,QAAS,IACT1O,SAAU,WACVqK,MAAOwF,IAET,gBAAiB,CACf2B,aAAc,6CAEhB,mHAAoH,CAClH,yBAA0B,CACxBA,aAAc,MACdlG,UAAW,QACXoD,QAAS,SAGb,wBAAyB,CACvB+D,SAAU,OACVvB,WAAY,OACZ2C,UAAW,SACXlI,MAAO,OACPoF,OAAQ,OACRlF,OAAQ,iBAEV,wDAAyD,CACvD4G,SAAU,OACVvB,WAAY,OACZvF,MAAO,OACPoF,OAAQ,OACR8C,UAAW,SACXQ,SAAU,QACVjD,aAAc,OAEhB,mCAAoC,CAClCyC,UAAW,UAGfS,gBAAiB,CACf9B,WAAY,iBACZf,YAAa,kBAEf8C,gBAAiB,CACf,oBAAqB,CACnBV,UAAW,SAEb,gCAAiC,CAC/BhI,OAAQ,iBAGZ2I,eAAgB,CACd,mHAAoH,CAClHlE,WAAY,cACZP,UAAW,QAEb,wBAAyB,CACvBpE,MAAO,OACPoF,OAAQ,OACR8C,UAAW,SACX3C,WAAY,QAEd,QAAS,CACPvF,MAAO,OACPoF,OAAQ,OACR8C,UAAW,SACX3C,WAAY,OACZrF,OAAQ,gBAGZwE,kBAAmB,CACjBhG,MAAOwF,GACP,yBAAyB,eACpBQ,KAGPE,kBAAmB,CACjBlG,MAAOwF,GACP,yBAAyB,eACpBU,KAGPC,iBAAkB,CAChBnG,MAAOwF,GACP,yBAAyB,eACpBW,KAGPC,eAAgB,CACdpG,MAAOwF,GACP,yBAAyB,eACpBY,KAGPC,kBAAmB,CACjBrG,MAAOwF,GACP,yBAAyB,eACpBa,KAGPC,eAAgB,CACdtG,MAAOwF,GACP,yBAAyB,eACpBc,MC1GSvF,aAAWuG,ICX7B,IAMe8C,GANG,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,IAAgC,IAA3BC,WAA2B,MAAvB,GAAuB,MAAnBhJ,aAAmB,MAAb,OAAa,EACjD,OACI,sBAAKgB,MAAO,CAAEhB,QAAOd,SAAU,QAASkG,OAAQ,WAAa2D,IAAKA,EAAKC,IAAKA,K,kBCqBrEC,GAnBK,SAAC,GAA8D,IAAD,IAA5DtU,gBAA4D,MAAjD,IAAiD,MAA5C+J,aAA4C,MAAtC,QAAsC,MAA7ByB,uBAA6B,MAAb,QAAa,EACxE+I,EAAuBC,cAAW,SAAClL,GAAD,MAAY,CAChDmL,KAAM,CACJhE,OAAQ,GACRS,aAAc,IAEhBwD,aAAc,CACZlJ,mBAEFmJ,IAAK,CACHzD,aAAc,EACd1F,gBAAiBzB,MAVMyK,CAYvBI,MACN,OACQ,eAACL,EAAD,CAAsBzK,QAAQ,cAAczB,MAAOrI,KCpBlD6U,GAAY,CACrBC,IAAK,CAAE7N,MAAO,WAAY8N,YAAa,sEAAuEC,OAAQ,IACtHC,IAAK,CAAEhO,MAAO,QAAS8N,YAAa,6EAA8EC,OAAQ,IAC1HE,IAAK,CAAEjO,MAAO,WAAY8N,YAAa,0DAA2DC,OAAQ,IAC1GG,IAAK,CAAElO,MAAO,UAAW8N,YAAa,yCAA0CC,OAAQ,IACxFI,IAAK,CAAEnO,MAAO,eAAgB8N,YAAa,4CAA6CC,OAAQ,IAChGK,IAAK,CAAEpO,MAAO,SAAU8N,YAAa,0CAA2CC,OAAQ,IACxFM,IAAK,CAAErO,MAAO,YAAa8N,YAAa,wEAAyEC,OAAQ,IACzHO,IAAK,CAAEtO,MAAO,aAAc8N,YAAa,8DAA+DC,OAAQ,KCRrG,OAA0B,0CCO1BhO,GALD,CACV,OAAU,CAAE5G,KAAK,OAAQ0G,GAAI,GAAIC,GAAG,EAAGE,MAAO,SAAU8N,YAAa,gBAAiBX,IAAKoB,IAC3F,aAAc,CAAEpV,KAAK,OAAQ0G,GAAI,EAAGC,GAAG,GAAIE,MAAO,aAAc8N,YAAa,gBAAiBX,IAAKoB,IACnG,2BAA4B,CAAEpV,KAAK,OAAQ0G,GAAI,EAAGC,GAAG,EAAGE,MAAO,2BAA4B8N,YAAa,gBAAiBX,IAAKoB,KCD3H,SAASC,GAAsBC,EAAKC,GACvC,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,GAAKA,GAGjD,SAASK,GAAsBC,GAIpC,OAHwBxR,cAAIyR,kBAAQD,IAAkB,SAAAE,GACpD,OAAOA,EAAcC,WAyBhB,SAASC,GAAcC,GAC5B,IAAMC,EAAc,GAQpB,OAPAxS,kBAAQuS,GAAY,SAAAE,GAClB,IAAMrP,EAAWqP,EAAeC,MAAM,OAASC,OAAOF,EAAeC,MAAM,OAAO,IAAM,EAClFE,EAAWH,EAAepK,QAAf,UAA0BjF,GAAY,IACjDT,EAAI,2BAAOO,GAAM0P,IAAb,IAAwBxP,aAClCoP,EAAYlO,KAAK3B,MAGZ6P,EAGF,I,YAAMK,GAAY,SAACtO,EAAOuO,GAAR,OAA8B,KAAbvO,EAAQ,IAAYuO,EAAM,IC3CvDC,GAHA,CACX,kBAAmB,CAACzW,KAAM,QAAQ0G,GAAI,GAAIC,GAAG,EAAGE,MAAO,kBAAmB8N,YAAa,GAAIX,IAAKoB,KCErFsB,GAHK,CACpB,mBAAoB,CAAC1W,KAAM,YAAa0G,GAAI,GAAIC,GAAG,EAAGE,MAAO,mBAAoB8N,YAAa,GAAIX,ICFnF,IAA0B,2CCA1B,OAA0B,kCCe1B2C,GAdC,CACZ,kBACI3W,KAAM,SAAU4W,YAAa,CAAClC,IAAK,KADvC,sBACkD,SADlD,oBAC+D,GAD/D,oBACqE,GADrE,sBAC8E,MAD9E,uBAC2F,cAD3F,6BACsH,IADtH,qBAC+HmC,IAD/H,IAGA,YACI7W,KAAM,SAAU4W,YAAa,CAAC1B,IAAK,KADvC,sBACkD,UADlD,oBACgE,GADhE,oBACsE,GADtE,sBAC+E,MAD/E,uBAC4F,UAD5F,6BACmH,IADnH,qBAC4H2B,IAD5H,IAGA,mBACI7W,KAAM,SAAU4W,YAAa,IADjC,sBAC2C,SAD3C,oBACwD,GADxD,oBAC8D,GAD9D,sBACuE,MADvE,uBACoF,eADpF,6BACgH,IADhH,qBACyHC,IADzH,IAGA,SACI7W,KAAM,SAAU4W,YAAa,CAAC1B,IAAK,KADvC,sBACkD,OADlD,oBAC6D,GAD7D,oBACmE,GADnE,sBAC4E,MAD5E,uBACyF,OADzF,6BAC6G,IAD7G,qBACsH2B,IADtH,KCRG,SAASC,GAAmB9W,GAAM,IACV2H,EAAe2F,cAAlCrO,KAAO4E,UAAY8D,SAI3B,MAHgB,CAACoP,UAAWL,GAAaM,OAAQL,IAC5B3W,GAAM2H,EAAS3H,KAAU,GCElD,IA6BeiX,GA7BD,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACJjY,EAASqO,cAATrO,KACFkY,EAAUD,EAAQ,2BAAKA,GAAN,IAAevP,SAAU,KAAM1I,EAAK4E,UAElD6C,EAAyCyQ,EAAzCzQ,GAAIF,EAAqC2Q,EAArC3Q,MAJY,EAIyB2Q,EAA9BxP,SAAWyP,aAJN,MAIY,CAAC1Q,GAAI,GAJjB,EAKfqQ,EAAYD,GAAmB,aAC/BE,EAASF,GAAmB,UAElC,SAASO,IACT,IAAMC,EAAY5Q,IAAW,OAAL0Q,QAAK,IAALA,OAAA,EAAAA,EAAO1Q,KAAM,KAAY,OAANsQ,QAAM,IAANA,OAAA,EAAAA,EAAQtQ,KAAM,KAAe,OAATqQ,QAAS,IAATA,OAAA,EAAAA,EAAWrQ,KAAM,GAC9E,OAAO6P,GAAUe,EAAW9Q,GAVT,MAYe+G,mBAAS8J,KAZxB,mBAYdE,EAZc,KAYFC,EAZE,KAkBrB,OAHAC,qBAAU,WACND,EAAcH,OACf,CAAC3Q,EAAI0Q,EAAOF,IACZA,EAAe,KAElB,uBAAKjL,MAAO,CAACrB,UAAW,OAAQ8F,aAAc,QAA9C,UACI,gBAACjH,GAAA,EAAD,kBAAiB/C,EAAjB,IAAsBF,KACjC6Q,IAAU,KAAO,eAAC,GAAD,CAAazX,SAAU2X,EAAa,IAAK5N,MAAM,OAAOyB,gBAAgB,UACtFiM,KAAW,KAAO,eAAC,GAAD,CAAazX,SAAU2X,EAAY5N,MAAM,QAAQyB,gBAAgB,cChB/EX,GAAYC,aAAWuG,IA6BdyG,GA3BE,SAAC,GAKX,IAAD,IAJFxH,aAIE,MAJI,SAIJ,MAHFyH,YAGE,MAHG,6BAGH,MAFFC,cAEE,MAFK,GAEL,MADFC,aACE,SACI/L,EAAUrB,KAEhB,OACI,eAACwD,GAAD,CAAUd,GAAI,GAAI2K,GAAI,EAAGC,GAAI,EAA7B,SACA,gBAAC1E,GAAD,YACIwE,GACF,sBAAK5L,MAAO,CAACnB,QAAS,OAAQoB,eAAgB,UAA9C,SACE,eAACgF,GAAD,CAAUvH,MAAM,OAAhB,SACA,eAAC,GAAD,CAAWsK,IAAK/D,EAAO8D,IAAK4D,QAG9B,oBAAG3L,MAAO,CAACtC,MAAO,QAASoI,SAAU,OAAQoB,UAAW,UAAW/G,UAAWN,EAAQ2G,aAAtF,SAAqGvC,IAErG,eAAC+B,GAAD,CAAYE,OAAK,EAAjB,SACA,eAAC1I,GAAA,EAAD,CAAYwC,MAAO,CAACtC,MAAO,QAASwJ,UAAW,UAAWzJ,QAAQ,YAAlE,SAA+EiO,YCA1EK,GA7BD,SAAC,GAAe,IAAdd,EAAa,EAAbA,QACJjY,EAASqO,cAATrO,KACFkY,EAAUD,EAAQ,2BAAKA,GAAN,IAAevP,SAAU,KAAM1I,EAAK4E,UACnD8C,EAAwCwQ,EAAxCxQ,GAAIF,EAAoC0Q,EAApC1Q,MAHa,EAGuB0Q,EAA7BxP,SAAWyP,aAHL,MAGW,CAACzQ,GAAI,GAHhB,EAKfoQ,EAAYD,GAAmB,aAC/BE,EAASF,GAAmB,UAGlC,SAASmB,IACT,IAAMC,EAAYvR,IAAW,OAALyQ,QAAK,IAALA,OAAA,EAAAA,EAAOzQ,KAAM,KAAY,OAANqQ,QAAM,IAANA,OAAA,EAAAA,EAAQrQ,KAAM,KAAe,OAAToQ,QAAS,IAATA,OAAA,EAAAA,EAAWpQ,KAAM,GAC9E,OAAO4P,GAAU2B,EAAWzR,GAXT,MAae8G,mBAAS0K,KAbxB,mBAadV,EAbc,KAaFC,EAbE,KAkBrB,OAHAC,qBAAU,WACND,EAAcS,OACf,CAACtR,IACDuQ,EAAe,KAElB,uBAAKjL,MAAO,CAACrB,UAAW,OAAQ8F,aAAc,QAA9C,UACgB,gBAACjH,GAAA,EAAD,kBAAiB9C,EAAjB,IAAsBF,KAC7CwR,IAAU,KAAO,eAAC,GAAD,CAAarY,SAAU2X,EAAa,IAAK5N,MAAM,aAAayB,gBAAgB,SAC5F6M,KAAW,KAAO,eAAC,GAAD,CAAarY,SAAU2X,EAAY5N,MAAM,OAAOyB,gBAAgB,c,8BChB9EX,GAAYC,aAAWuG,IAkBdkH,GAhBG,SAAC,GAEZ,IADPjO,EACM,EADNA,SAEoBO,KAEhB,OACI,eAACwD,GAAD,CAAUd,GAAI,GAAI2K,GAAI,EAAGC,GAAI,EAA7B,SACA,eAAC1E,GAAD,UACI,sBAAKpH,MAAO,CAACtC,MAAO,QAASwB,OAAQ,OAAOL,QAAS,OAAQsN,SAAU,QAAvE,SACClO,SCFEmO,ICxBA,ICAA,IFGI,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,KAAMrE,EAAkB,EAAlBA,IAAkB,IAAb0D,YAAa,MAAR,GAAQ,EASzC,OACI,gBAAC1K,GAAA,EAAD,CAAMC,WAAS,EAAf,UACI,eAACD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACA,sBAAKlB,MAXD,CACRhB,MAAO,OACPsN,UAAW,QASYvE,IAAKsE,EAAMrE,IAAKA,MAEnC,eAAChH,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAGlB,MATV,CACZnB,QAAS,OACTE,WAAY,UAOR,SACH2M,SGhBF,SAASa,GAAiBrG,GAwB7B,OAtBsB1K,OAAOC,KAAK+M,IAAWgE,QAAO,SAACC,EAAKC,GACtD,IAAMC,EAAOzG,EAAMwG,GAEfE,EAAY,EADED,GAEF,IAFEA,EAEc,KAC5BC,EAAY,GAHED,GAKF,IALEA,EAKc,KAC5BC,EAAY,GANED,GAQF,IAREA,EAQc,KAC5BC,EAAY,GATED,GAWF,IAXEA,EAWc,KAC5BC,EAAY,GAZED,GAcF,KACZC,EAAY,GAEhB,IAAMjE,EAASgE,EAAKhE,OAASgE,EAAKhE,OAASgE,EAC3C,OAAO,2BAAIF,GAAX,kBAAiBC,EAAjB,2BAA4BlE,GAAUkE,IAAtC,IAA6C/D,SAAQ+D,OAAME,kBAC7D,IAGC,SAASC,GAAaC,GAAa,IAAD,EAC7B9Z,EAASqO,cAATrO,KAER,OAAOuZ,GADOO,IAAW,OAAI9Z,QAAJ,IAAIA,GAAJ,UAAIA,EAAM4E,iBAAV,aAAI,EAAiBsO,QC9BnC,WAA0B,mCCE5BrG,GAAU,CACnBkN,OAAQ,CAACH,UAAW,CAACnE,IAAK,GAAIuE,cAAe,aAAcjF,IAAKkF,GAAQrS,MAAO,SAAU8N,YAAa,+JACtGwE,OAAQ,CAACN,UAAW,CAAC3D,IAAK,GAAI+D,cAAe,MAAOjF,IAAKkF,GAAQrS,MAAO,SAAU8N,YAAa,+JAC/FyE,SAAU,CAACP,UAAW,CAAC3D,IAAK,GAAI+D,cAAe,SAAUjF,IAAKkF,GAAQrS,MAAO,WAAY8N,YAAa,+JACtG0E,SAAU,CAACR,UAAW,CAAC1D,IAAK,GAAI8D,cAAe,cAAejF,IAAKkF,GAAQrS,MAAO,WAAY8N,YAAa,gKCJlG2E,GAAS,CAClB,oBAAqB,CAACT,UAAW,GAAK7E,ICH3B,IAA0B,mCDGcnN,MAAO,oBAAqB8N,YAAa,oHE2B1FlK,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrCmL,KAAM,CACJvJ,QAAS,OACT,QAAS,CACPK,OAAQjC,EAAM2B,QAAQ,KAG1B0O,MAAO,CACLtO,MAAO/B,EAAM2B,QAAQ,GACrBwF,OAAQnH,EAAM2B,QAAQ,IAExB2O,MAAO,CACLvO,MAAO/B,EAAM2B,QAAQ,GACrBwF,OAAQnH,EAAM2B,QAAQ,QAG5B,SAAS4O,KAAiC,IAArBC,EAAoB,uDAAX,WACtBC,EAAQD,EAASE,MAAM,KACvBC,EAAgB,GAIvB,OAHCnW,kBAAQiW,GAAO,SAAAhN,GACbkN,EAAc7R,KAAM2E,EAAKmN,OAAO,OAE5BD,EAAcE,KAAK,KAEzB,I,GAuEaC,GAvEA,WAAO,IACFnW,EAAgByJ,cAAxBrO,KAAQ4E,UACVuI,EAAY3B,KACZ0H,EAAQ2G,KACRnR,ECtDH,WAAuB,IACCA,EAAe2F,cAAlCrO,KAAO4E,UAAY8D,SAgB3B,OAfyBvD,cAAIqD,OAAOC,KAAKC,IAAW,SAAAnG,GAChD,IAAMyY,EAAYtS,EAASnG,GACvB0Y,EAAe,KAWnB,MAVW,UAAR1Y,EACH0Y,EAAY,2BAAOD,GAAcxD,GAAOwD,EAAUpT,QACjC,WAARrF,GAEQ,oBAARA,EADL0Y,EAAevD,GAAQsD,IAAc,GAIzB,cAARzY,IACJ0Y,EAAexD,GAAYuD,IAAc,IAErCC,KDuCKC,GACXC,EAAiBd,GAAOzV,EAAUqM,OAClCmK,EAAiBvO,GAAQjI,EAAUyW,OAEzC,OACI,iCACI,eAAC,KAAD,UACI,gBAACC,GAAA,EAAD,WACI,gBAACtN,GAAA,EAAD,CAAMC,WAAS,EAAf,UACI,eAACD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACA,eAAChB,GAAA,EAAD,CAAQC,UAAWA,EAAUoN,MAA7B,SAAqCC,GAAY5V,EAAU8I,UAE3D,gBAACM,GAAA,EAAD,CAAMhB,MAAO,CAACkH,UAAW,OAAQ9M,MAAI,EAAC8G,GAAI,EAA1C,UACA,eAAC1D,GAAA,EAAD,UAAa5F,EAAU8I,OACvB,gBAAClD,GAAA,EAAD,qBAAoB5F,EAAU2W,SAC9B,gBAAC/Q,GAAA,EAAD,WAAa5F,EAAUkF,IAAvB,UACA,gBAACU,GAAA,EAAD,WAAa5F,EAAU4W,IAAvB,aAEA,eAACxN,GAAA,EAAD,CAAMC,WAAS,EAACjB,MAAO,CAACrB,UAAW,QAAnC,SAEIxG,cAAIuD,GAAU,SAACsS,EAAWS,GACxB,OAAIT,EAEF,eAAChN,GAAA,EAAD,CAAkB5G,MAAI,EAAC8G,GAAI,EAA3B,SACJ,eAAC,GAAD,CAAYwK,KAAMsC,EAAUpT,MAAOyR,KAAM2B,EAAUjG,IAAKC,IAAKgG,EAAUjG,OADxD0G,GAFQ,aAU/B,eAACC,GAAA,EAAD,CAAS1O,MAAO,CAACtC,MAAO,QAASiB,UAAW,OAAQ8F,aAAc,UACtE,iCACA,eAAC,GAAD,IACA,eAAC,GAAD,YAIH,gBAAC7C,GAAD,WACI,eAAC,GAAD,UACI,eAACZ,GAAA,EAAD,CAAMC,WAAS,EAAf,SACC9I,cAAIqD,OAAOC,KAAKyK,IAAQ,SAACwG,EAAM1T,GAC9B,IAAM2T,EAAOzG,EAAMwG,GACfiC,EAAW,UAAMjC,EAAKlK,cAAX,aAA6BmK,EAAKhE,QAIhD,OAHEgE,EAAKC,UAAY,IACnB+B,GAAyB,YAAQhC,EAAKC,YAE/B,eAAC5L,GAAA,EAAD,CAAc5G,MAAI,EAAC8G,GAAI,EAAvB,SAA2ByN,GAAhB3V,UAK7B,eAAC,GAAD,CACAiL,MAAOkK,EAAevT,MACtB8Q,KAAMyC,EAAezF,YACrBiD,OAAQwC,EAAepG,MAErB,eAAC,GAAD,CACF9D,MAAOmK,EAAexT,MACtB8Q,KAAM0C,EAAe1F,YACrBiD,OAAQyC,EAAerG,a,6NEtHrB,OAA0B,iCC4B1B6G,GAvBA,CACX,CACInN,MAAO,gBACPwC,MAAO,OACP4K,KAAM,eAAC,KAAD,KAEV,CACIpN,MAAO,aACPwC,MAAO,YACP4K,KAAM,eAACC,GAAA,EAAD,KAEV,CACIrN,MAAO,UACPwC,MAAO,SACP4K,KAAM,eAAC,GAAD,CAAW7P,MAAM,MAAM+I,IAAKgH,GAAM/G,IAAI,YAEhD,CACIvG,MAAO,SACPwC,MAAO,QACP4K,KAAM,eAACG,GAAA,EAAD,M,8BCICC,GAxBM,SAACpN,GAAW,IAAD,EACsEA,EAA1FqN,cADoB,MACZ,CAACC,YAAY,EAAOC,MAAM,EAAOC,QAAS,cAD9B,EACuCpR,EAA+B4D,EAA/B5D,SADvC,EACsE4D,EAArBV,eADjD,MACyD,kBAAI,MAD7D,EAEtBmO,EAAcC,eAAK1N,EAAO,CAAC,WAFL,4CAI5B,sBAAA5M,EAAA,6DACIia,EAAOG,SAAQ,GADnB,SAEUlO,IAFV,4CAJ4B,sBAW5B,OACI,uCACJ,eAACR,GAAA,EAAD,2BAAY2O,GAAZ,IAAyBnO,QAbG,2CAa5B,SAAgDlD,KAC/C,gBAACuR,GAAA,EAAD,CAAQL,WAAYD,EAAOC,WAAYvO,WAAS,EAAEwO,KAAMF,EAAOE,KAAMK,QANtE,WACIP,EAAOG,SAAQ,IAKlB,UACG,eAACK,GAAA,EAAD,CAAajP,GAAIyO,EAAOjL,MAAxB,SAAgCiL,EAAOjL,QACvC,eAAC0L,GAAA,EAAD,UACET,EAAOlb,iB,oBCnBJ4b,GAA0BC,KAAOC,IAAV,kH,oBCUrBC,GAVU,SAACC,EAAKC,GAO5B,OAN0B9X,cAAIqD,OAAOC,KAAKuU,IAAM,SAAAza,GAC3C,OAAG0a,EACQ,CAACjU,MAAOzG,EAAKqF,MAAMrF,GAE9B,2BAAUya,EAAIza,IAAd,IAAoByG,MAAMgU,EAAIza,GAAKqF,Y,iCCL9BsV,GACH,OA0BH,SAASC,GAAYC,EAAYC,GAAU,IACtCrd,EAAUqO,cAAVrO,KADqC,EApB1C,SAA4BA,EAAMqd,GACrC,IAMMjV,EANO,CACTkV,KAAMC,GACNxF,OAAQL,GACRS,MAAOX,GACPM,UAAWL,IAEY4F,GACP1V,EAAW3H,EAAvB4E,UAAY+C,MACd6V,EAAc7V,EAAM0V,GAS1B,MAAO,CAPW7U,OAAOC,KAAK+U,GAAahE,QAAO,SAACC,EAAI/L,GACnD,IAAM/E,EAAQ,aAAO8Q,GACfrS,EAAI,uCAAOgB,EAAcsF,IAAU8P,EAAY9P,IAA3C,IAAkD9F,MAAO8F,EAAM1E,MAAO0E,IAEhF,OADA/E,EAASI,KAAK3B,GACPuB,IACT,IAEiBP,EAAeT,EAAO6V,GAKGC,CADxBL,GAA0Bpd,EAC8Bqd,GAH/B,mBAI7C,MAAO,CAJsC,eAIHA,IC7BvC,IAAMK,GAAgB,WAAqB,IAApBC,EAAmB,uDAAP,GAAO,EACfC,IAAMtP,SAAS,IADA,mBACtCuP,EADsC,KAC7BC,EAD6B,OAEfF,IAAMtP,UAAS,GAFA,mBAEtCyP,EAFsC,KAE7BC,EAF6B,cAGlCC,IAHkC,2EAGjD,4BAAAhc,EAAA,sEACsB2G,IADtB,OACMiV,EADN,OAEAC,EAAWI,iBAAOL,GAAS,SAAA1W,GAAM,OAAGA,EAAOrE,MAAQ6a,EAAY7a,QAC/Dkb,GAAW,GAHX,4CAHiD,sBAYjD,OAJAJ,IAAMpF,WAAU,WACZyF,MACD,IAEI,CAACJ,EAASE,ICNF,SAASI,GAAT,GAAqC,IAAD,IAAbpd,YAAa,MAAN,GAAM,IACVsN,cAA7BrO,EADuC,EACvCA,KAAMkE,EADiC,EACjCA,mBADiC,EAELiZ,QAAYvc,EAAWG,GAFlB,mBAExCD,EAFwC,kBAGpB4c,MAHoB,mBAGxCG,EAHwC,KAG/BE,EAH+B,OAInBzP,mBAAS,IAJU,mBAIxCnH,EAJwC,KAIhCiX,EAJgC,OAKvB9P,mBAASxN,EAAQ,IAAM,IALA,mBAKxCsG,EALwC,sDAgB/C,sBAAAnF,EAAA,6DACIiC,EAAmB,CAACjE,eAAe,IADvC,SAEUgH,EAAQ,CAAEC,eAAgBlH,EAAMe,OAAMoG,SAAQC,SAFxD,OAGIlD,EAAmB,CAACjE,eAAe,IAHvC,4CAhB+C,sBA+B/C,OARAuY,qBAAU,WACN4F,EAAUP,EAAQ,MACnB,CAACE,IAMC5W,EAED,iCACwB,IAAnBrG,EAAQkE,QAAgB,eAACwF,GAAA,EAAD,CAAYG,MAAM,SAAlB,gCACL,IAAnB7J,EAAQkE,QACL,gBAACgJ,GAAA,EAAD,CAAMhB,MAAO,CAAErB,UAAW,QAAUsC,WAAS,EAA7C,UACI,gBAACD,GAAA,EAAD,CAAMhB,MAAO,CAAEyE,aAAc,QAAUrK,MAAI,EAAC8G,GAAI,GAAhD,UACI,eAACmQ,GAAA,EAAD,CACIzQ,WAAS,EACTH,GAAG,OACH6Q,QAAM,EACNtV,MAAO5B,EAAKQ,MACZ2W,SApCxB,SAA0BC,GACtB,IAAMpX,EAAOqX,eAAK3d,EAAS,CAAC8G,MAAO4W,EAAMrX,OAAO6B,QAChDoV,EAAUhX,IA6BM,SAOKjC,cAAIrE,GAAS,SAAC4d,GAAD,OACV,eAACC,GAAA,EAAD,CAA6B3V,MAAO0V,EAAO1V,MAA3C,SACK0V,EAAO9W,OADG8W,EAAO1V,YAK9B,gBAACwB,GAAA,EAAD,wBAAuBpD,EAAKS,eAEhC,eAACmG,GAAA,EAAD,CAAMhB,MAAO,CAAEyE,aAAc,QAAUrK,MAAI,EAAC8G,GAAI,GAAhD,SACI,eAACmQ,GAAA,EAAD,CACIzQ,WAAS,EACTH,GAAG,SACH6Q,QAAM,EACNtV,MAAO7B,EAAOS,MACd2W,SA/CxB,SAA4BC,GACxB,IAAMrX,EAASsX,eAAKZ,EAAS,CAACjW,MAAO4W,EAAMrX,OAAO6B,QAClDoV,EAAUjX,IAwCM,SAOKhC,cAAI0Y,GAAS,SAACa,GAAD,OACV,eAACC,GAAA,EAAD,CAA6B3V,MAAO0V,EAAO1V,MAA3C,SACK0V,EAAO9W,OADG8W,EAAO1V,cAMlC,eAACgF,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,GAAf,SACI,eAACP,GAAA,EAAD,CAAQlD,QAAQ,WAAWmD,WAAS,EAACO,QArEV,2CAqE3B,8BAtCA,KCvCjB,SAASyQ,KAA2D,IAA/B5V,EAA8B,uDAAxB,CAAC2O,YAAa,IAAK3X,EAAK,uCAClE6e,GAAgB,EACZja,EAAc5E,EAAd4E,UASR,OARAH,kBAAQ+D,OAAOC,KAAK7D,EAAUsO,QAAQ,SAAA4L,GACpC,IAAOnJ,EAAS/Q,EAAUsO,MAAM4L,GAC1BnH,EAAc3O,EAAM2O,YAAYmH,GAChCC,GAAkBvW,OAAOC,KAAKO,EAAM2O,aAAa3S,QACnD2S,GAAehC,GAAUgC,GAAgBoH,KAC3CF,GAAgB,MAGbA,ECHI,SAASG,GAAT,GAAuC,IAAD,IAAbje,YAAa,MAAN,GAAM,IACGsN,cAA5CrO,EADyC,EACzCA,KAAMC,EADmC,EACnCA,cAAeiE,EADoB,EACpBA,mBADoB,EAEPiZ,QAAYvc,EAAWG,GAFhB,mBAE1CD,EAF0C,KAEjCsH,EAFiC,aAGNpI,EAAnC4E,WAAa+C,EAH4B,EAG5BA,MAAOe,EAHqB,EAGrBA,SAHqB,EAIvBkV,IAAMtP,SAASxN,EAAQ,IAJA,mBAI1CkI,EAJ0C,KAInCiW,EAJmC,KAM3CC,EAAmB9W,EAAcM,EAAS3H,KAAU,GAC9BqH,EAAa,OAACY,QAAD,IAACA,OAAD,EAACA,EAAOpB,OAPA,4CAQjD,4BAAA3F,EAAA,yDAC4B2c,GAA4BxW,EAAcY,EAAMpB,OAAQ5H,GADpF,yCAEiCa,EAAc,CAAEE,KAAM,QAASC,QAAS,2CAFzE,cAGIkD,EAAmB,CAAEjE,eAAe,IAHxC,SAIuCiI,EAAU,CAAElI,OAAM2H,QAAOQ,SAAUa,EAAMpB,MAAO7G,OAAMqH,kBAJ7F,OAIU+W,EAJV,OAKIF,EAAS,CAAErX,MAAOuX,IAClBjb,EAAmB,CAAEjE,eAAe,IANxC,4CARiD,sBA+BjD,OANAuY,qBAAU,WACN,GAAKxP,EAAL,CACA,IAAMoW,EAAgBX,eAAK3d,EAAS,CAAE8G,MAAOoB,EAAMpB,QACnDqX,EAASG,MACV,CAACnf,IACJoD,QAAQiC,IAAI,qBAAsB,CAACoD,WAASM,QAAOZ,kBAE/C,iCACI,eAACoC,GAAA,EAAD,CAAYC,QAAQ,KAAKE,MAAM,SAA/B,SAAyCnC,OAAOC,KAAKC,EAAS3H,IAAOiE,OAAS,EAArC,oBAAsD0D,EAAS3H,IAA/D,qBAE1CyH,OAAOC,KAAKC,EAAS3H,IAAOiE,OAAS,GAAK,uCAC1C,gBAACwF,GAAA,EAAD,CAAYG,MAAM,SAAlB,0BACeuU,EAAiBG,QAE/B,eAAC7U,GAAA,EAAD,CAAYG,MAAM,SAAlB,SACCuU,EAAiBxJ,iBAMK,IAAnB5U,EAAQkE,QAAgB,gBAACwF,GAAA,EAAD,CAAYG,MAAM,SAAlB,sBAAqC5J,EAArC,OAGR,IAAnBD,EAAQkE,QACL,gBAACgJ,GAAA,EAAD,CAAMhB,MAAO,CAAErB,UAAW,QAAUsC,WAAS,EAA7C,UACI,eAACD,GAAA,EAAD,CAAMhB,MAAO,CAAEyE,aAAc,QAAUrK,MAAI,EAAC8G,GAAI,GAAhD,SACI,eAACmQ,GAAA,EAAD,CACIzQ,WAAS,EACTH,GAAI1M,EACJud,QAAM,EACNtV,MAAOA,EAAMpB,MACb2W,SAtCxB,SAAsBC,GAClB,IAAMY,EAAgBX,eAAK3d,EAAS,CAAE8G,MAAO4W,EAAMrX,OAAO6B,QAE1DiW,EAASG,IA8BO,SAOKja,cAAIrE,GAAS,SAAC4d,GAAD,OACV,eAACC,GAAA,EAAD,CAA6B3V,MAAO0V,EAAO1V,MAA3C,SACK0V,EAAO9W,OADG8W,EAAO1V,cAMlC,eAACgF,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,GAAf,SACI,eAACP,GAAA,EAAD,CAAQlD,QAAQ,WAAWmD,WAAS,EAACO,QAnER,2CAmE7B,mCCnExB,SAASmR,GAASzQ,GAAQ,IAChB5D,EAAqC4D,EAArC5D,SAAUjC,EAA2B6F,EAA3B7F,MAAOyS,EAAoB5M,EAApB4M,MAAU8D,EADZ,aACsB1Q,EADtB,8BAGvB,OACE,8CACE2Q,KAAK,WACLC,OAAQzW,IAAUyS,EAClBhO,GAAE,4BAAuBgO,GACzBiE,kBAAA,uBAAiCjE,IAC7B8D,GALN,aAOGvW,IAAUyS,GACT,eAACnQ,GAAA,EAAD,CAAKqU,EAAG,EAAR,SACE1U,OAeV,IAAMO,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCmL,KAAM,CACJwK,SAAU,EACVzT,gBAAiBlC,EAAME,QAAQwG,WAAWjF,MAC1CG,QAAS,OACTuF,OAAQ,KAEVyO,KAAM,CACJC,YAAY,aAAD,OAAe7V,EAAME,QAAQ4V,cAI7B,SAASC,KACtB,IAAMnT,EAAUrB,KADY,EAEFoS,IAAMtP,SAAS,GAFb,mBAErBtF,EAFqB,KAEdiX,EAFc,KAGtBnf,ECjDD,WAA4B,IACJ6G,EAAY0G,cAA/BrO,KAAO4E,UAAY+C,MAoB3B,OAnBgBa,OAAOC,KAAKd,GAAO6R,QAAO,SAACC,EAAK1Y,GAC5C,IAAMmf,EAAQ,eAAOzG,GACf4D,EAAW1V,EAAM5G,GAOjBof,EANa,CACf7C,KAAM8C,GACNrI,OAAQsI,GACRvI,UAAWwI,GACXnI,MAAOoI,IAEaxf,GAOxB,OALAmf,EAASnf,GAAQoE,cAAIqD,OAAOC,KAAK4U,IAAW,SAAAhG,GAExC,OAAO,2BAAIgG,EAAShG,IAAc8I,EAAK9I,OAGpC6I,IACR,ID8BWM,GAKhB,OACE,iCACE,eAACC,GAAA,EAAD,CACQhW,QAAQ,aAEdzB,MAAOA,EACPuV,SATe,SAACC,EAAOkC,GAC3BT,EAASS,IASLC,aAAW,wBACXxT,UAAWN,EAAQgT,KANrB,SAQK1a,cAdS,CAAC,QAAS,UAAW,QAAS,cAAe,kBAcvC,SAACyC,EAAO5B,GAAR,OAAY,eAAC4a,GAAA,EAAD,aAAiBhZ,MAAOA,GApCrD,CACL6F,GAAG,gBAAD,OAFagO,EAqCgEzV,GAlC/E,gBAAgB,qBAAhB,OAAsCyV,KAkCM7T,GArChD,IAAmB6T,OAuCb,eAAC6D,GAAD,CAAUtW,MAAOA,EAAOyS,MAAO,EAA/B,SACE,eAAC0C,GAAD,CAAapd,KAAK,OAAOD,QAASA,EAAQwc,SAE5C,eAACgC,GAAD,CAAUtW,MAAOA,EAAOyS,MAAO,EAA/B,SACA,eAACuD,GAAD,CAAeje,KAAK,aAEpB,eAACue,GAAD,CAAUtW,MAAOA,EAAOyS,MAAO,EAA/B,SACA,eAACuD,GAAD,CAAeje,KAAK,YAEpB,eAACue,GAAD,CAAUtW,MAAOA,EAAOyS,MAAO,EAA/B,SACA,eAACuD,GAAD,CAAeje,KAAK,gBAEpB,eAACue,GAAD,CAAUtW,MAAOA,EAAOyS,MAAO,EAA/B,SACA,eAAC0C,GAAD,CAAapd,KAAK,cAAcD,QAASA,EAAQ+f,mBE5EvD,IAyBeC,GAzBQ,SAAC,GAAgB,IAAf7V,EAAc,EAAdA,SAAc,EACX2S,IAAMtP,UAAS,GADJ,mBAC5B8N,EAD4B,KACtBC,EADsB,KAUnC,OACI,uCACR,eAACO,GAAD,CAAyBzO,QATrB,WACIkO,GAAQ,IAQhB,SACapR,IAEL,gBAACuR,GAAA,EAAD,CAAQ5O,WAAS,EAACZ,MAAO,CAAC+T,OAAQ,QAAS3E,KAAMA,EAAMK,QAT3D,WACIJ,GAAQ,IAQR,UACA,eAACK,GAAA,EAAD,CAAajP,GAAG,MAAhB,iBACA,eAACkP,GAAA,EAAD,UACC,eAACqD,GAAD,aCzBM,OAA0B,gCC0BnCgB,GAAc,IAEdxV,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCmL,KAAM,CACJvJ,QAAS,QAEXoV,OAAQ,CACNxM,OAAQxK,EAAMwK,OAAOyM,OAAS,EAC9BC,WAAYlX,EAAMmX,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQrX,EAAMmX,YAAYE,OAAOC,MACjCC,SAAUvX,EAAMmX,YAAYI,SAASC,iBAGzCC,YAAa,CACX7O,WAAYmO,GACZhV,MAAM,eAAD,OAAiBgV,GAAjB,OACLG,WAAYlX,EAAMmX,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQrX,EAAMmX,YAAYE,OAAOC,MACjCC,SAAUvX,EAAMmX,YAAYI,SAASG,kBAGzCC,WAAY,CACV9P,YAAa,IAEf+P,KAAM,CACJhW,QAAS,QAEXqV,OAAQ,CACNlV,MAAOgV,GACPc,WAAY,EACZC,WAAY,UAEdC,WAAY,CACVhW,MAAOgV,GACPG,WAAYlX,EAAMmX,YAAYC,OAAO,QAAS,CAC5CC,OAAQrX,EAAMmX,YAAYE,OAAOC,MACjCC,SAAUvX,EAAMmX,YAAYI,SAASG,kBAGzCM,YAAY,aACVd,WAAYlX,EAAMmX,YAAYC,OAAO,QAAS,CAC5CC,OAAQrX,EAAMmX,YAAYE,OAAOC,MACjCC,SAAUvX,EAAMmX,YAAYI,SAASC,gBAEvCS,UAAW,SACXlW,MAAO/B,EAAM2B,QAAQ,GAAK,GACzB3B,EAAMkY,YAAYC,GAAG,MAAQ,CAC5BpW,MAAO/B,EAAM2B,QAAQ,GAAK,IAG9ByW,QAAQ,aACNxW,QAAS,OACTE,WAAY,SACZkB,eAAgB,WAChB8B,QAAS9E,EAAM2B,QAAQ,EAAG,IAEvB3B,EAAMqY,OAAOD,SAElBrhB,QAAS,CACP4e,SAAU,EACV7Q,QAAS9E,EAAM2B,QAAQ,QAOZ,SAAS2W,GAAT,GAA2B,IAAD,IAAXtX,EAAW,EAAXA,SACtB4B,EAAUrB,KACVvB,EAAQuY,eACR7V,EAAUC,cAEV6V,EATR,SAAkBhU,GAAO,IAAD,EAEtB,OADc,UAAAgQ,eAAK7C,GAAQ,CAACnN,iBAAd,eAAuBwC,QAAS,GAQ1ByR,CAAS/V,EAAQgW,SAASC,UALP,EAMfhF,IAAMtP,UAAS,GANA,mBAMhC8N,EANgC,KAM1ByG,EAN0B,iDAqBvC,sBAAA5gB,EAAA,6DACE0K,EAAQG,QAAQ,YADlB,SAEQ9I,IAFR,4CArBuC,sBA0BvC,OACE,uBAAKmJ,UAAWN,EAAQuI,KAAxB,UACE,eAAC/J,GAAA,EAAD,IACA,eAACyX,GAAA,EAAD,CACEziB,SAAS,QACT8M,UAAW4V,aAAKlW,EAAQoU,OAAT,eACZpU,EAAQ6U,YAActF,IAH3B,SAME,gBAAC4G,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CACEvY,MAAM,UACNiW,aAAW,cACXxS,QA/Be,WACvB0U,GAAQ,IA+BAK,KAAK,QACL/V,UAAW4V,aAAKlW,EAAQ+U,WAAT,eACZ/U,EAAQgV,KAAOzF,IANpB,SASE,eAAC,KAAD,MAEF,eAAC5R,GAAA,EAAD,CAAYC,QAAQ,KAAK0Y,QAAM,EAA/B,SACGV,IAEH,eAAC,GAAD,UACE,eAAC,GAAD,CAAWzW,MAAM,OAAO+I,IAAKqO,GAAKpO,IAAI,eAK5C,gBAACqO,GAAA,EAAD,CACE5Y,QAAQ,YACR0C,UAAW4V,aAAKlW,EAAQqU,QAAT,mBACZrU,EAAQmV,WAAa5F,GADT,cAEZvP,EAAQoV,aAAe7F,GAFX,IAIfvP,QAAS,CACPnB,MAAOqX,cAAI,mBACRlW,EAAQmV,WAAa5F,GADb,cAERvP,EAAQoV,aAAe7F,GAFf,KAPf,UAaE,sBAAKjP,UAAWN,EAAQwV,QAAxB,SACE,eAACY,GAAA,EAAD,CAAY9U,QA1DM,WACxB0U,GAAQ,IAyDF,SACuB,QAApB5Y,EAAMqZ,UAAsB,eAAC,KAAD,IAAuB,eAAC,KAAD,QAGxD,eAAC5H,GAAA,EAAD,IACA,gBAAC6H,GAAA,EAAD,WACG3H,GAAOzW,KAAI,SAACqe,EAAQ/H,GAAT,OACV,gBAACgI,GAAA,EAAD,CAAWC,QAAM,EAAjB,UACE,eAACC,GAAA,EAAD,CAAcxV,QAAS,SAAC9I,GAAD,OA9DnC,SAAyBA,EAAGoJ,GACxBpJ,EAAEue,iBACFve,EAAEwe,kBACJlX,EAAQ5D,KAAR,UAAiB0F,IA2DqBqV,CAAgBze,EAAGme,EAAO/U,QAAtD,SACK+U,EAAO3H,OAEZ,eAACkI,GAAA,EAAD,CAAc3Z,QAASoZ,EAAOvS,UAJTwK,MAOxB,eAACC,GAAA,EAAD,IACA,gBAAC+H,GAAA,EAAD,CAAWC,QAAM,EAAjB,UACG,eAACC,GAAA,EAAD,CAAcxV,QAtFa,2CAsF3B,SACG,eAAC,KAAD,MAEH,eAAC4V,GAAA,EAAD,CAAc3Z,QAAQ,qBAK9B,wBAAM+C,UAAWN,EAAQ7L,QAAzB,UACE,sBAAKmM,UAAWN,EAAQwV,UACvBpX,QC7LF,IAAM+Y,GAAS,CAClBpM,MAAO,CACH,aAAc,CAAEqM,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,8DAEhI0O,OAAQ,CACJ,aAAc,CAAEH,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,8DAEhI2O,UAAW,CACP,aAAc,CAAEJ,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,8DAEhI4O,WAAY,CACR,aAAc,CAAEL,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,8DAEhI6O,MAAO,CACH,aAAc,CAAEN,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,8DAEhI8O,IAAK,CACD,aAAc,CAAEP,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAcuc,KAAK,yEAA0EzO,YAAa,iFACjK,oBAAqB,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,oBAAoBuc,KAAM,wEAAyEzO,YAAa,kDAC9K,aAAc,CAAEuO,eAAgB,QAASC,GAAI,EAAGtc,MAAO,aAAauc,KAAM,oCAAqCzO,YAAa,+D,WCrB9H+O,GAAgB,SAAC,GAA2G,IAAD,EAAxGhhB,EAAwG,EAAxGA,OAAwG,IAAhG1C,YAAgG,MAAzF,OAAyF,MAAjFD,eAAiF,MAAvE,CAAC,CAAE8G,MAAO,GAAIoB,MAAO,KAAkD,MAA3C6U,eAA2C,MAAjC,CAAC,CAAEjW,MAAO,GAAIoB,MAAO,KAAY,EAC7H,MAAQ,CACJsE,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI1M,EACJ2M,KAAM3M,EACNA,KAAM,eACND,UACA4jB,UAAW,uCACP,eAACla,GAAA,EAAD,CAAYwC,MAAO,CAAEsE,WAAY,OAAQwB,SAAU,QAAnD,yBACA,eAACtI,GAAA,EAAD,CAAYwC,MAAO,CAAE8F,SAAU,OAAQrB,aAAc,QAArD,mBAAgEhO,EAAO1C,UAAvE,aAAgE,EAAc2U,cACrE,UAAT3U,GAAmB,2CAAG,eAACyJ,GAAA,EAAD,CAAYwC,MAAO,CAAEsE,WAAY,OAAQwB,SAAU,QAAnD,wBACtB,eAACtI,GAAA,EAAD,CAAYwC,MAAO,CAAE8F,SAAU,OAAQrB,aAAc,QAArD,SAAgEhO,EAAO1C,GAAMojB,OAC7E,eAAC3Z,GAAA,EAAD,CAAYwC,MAAO,CAAEsE,WAAY,OAAQwB,SAAU,QAAnD,kBACA,eAACtI,GAAA,EAAD,CAAYwC,MAAO,CAAE8F,SAAU,QAA/B,SAA0CrP,EAAO1C,GAAMkjB,oBAC7C,UAATljB,GAAoB,gBAACyJ,GAAA,EAAD,CAAYwC,MAAO,CAAEsE,WAAY,OAAQwB,SAAU,QAAnD,uBAAwErP,EAAO1C,GAAM8G,mBAO9H,CACI0F,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACP9G,QAAS+c,MAMzB,CACItQ,KAAM,CACF,CACIP,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,YAC1CU,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACPiG,UAAU,SAQhC8W,GAAkB,CACpBC,OAAQ,8CACRC,MAAO,WACPC,MAAO,6BAEL1kB,GAAiB,CAAC,CAAEsV,YAAa,wBAAyB9N,MAAO,aAAcoB,MAAO,cAAgB,CAAE0M,YAAa,8BAA+B9N,MAAO,cAAeoB,MAAO,gBACjL+b,GAAiB,CAAC,CAAEnd,MAAO,YAAaoB,MAAO,aAAe,CAAEpB,MAAO,YAAaoB,MAAO,cAClF,SAASgc,GAAT,GAA4F,IAAD,EAAvEhlB,EAAuE,EAAvEA,KAAuE,IAAjEe,YAAiE,MAA1D,GAA0D,MAAtDD,eAAsD,MAA5CV,GAA4C,MAA5Byd,eAA4B,MAAlBkH,GAAkB,EAChGjX,GAAa,mBAAM/M,EAAOD,EAAQ,IAArB,uBAAiC+c,EAAQ,IAAzC,GADmF,EAE1ED,IAAMtP,SAASR,GAF2D,mBAE/FrK,EAF+F,KAEvFwhB,EAFuF,KAItG,IAAInkB,EAAQkE,OAAQ,OAAO2f,GAAgB5jB,GAJ2D,4CAgBtG,WAA4B0C,EAAQyhB,GAApC,eAAAjjB,EAAA,6DACUmF,EAAO3D,EAAOohB,MACpBxhB,QAAQiC,IAAI,cAAgB7B,EAAOohB,MAAOphB,EAAO1C,IACjDkkB,EAAU,2BAAIxhB,GAAL,IAAaohB,MAAM,2BAAKzd,GAAN,IAAYS,SAAUT,EAAKS,UAAU,OAHpE,SAIUZ,EAAQ,CAAEC,eAAgBlH,EAAMe,OAAMoG,OAAQ1D,EAAO0D,OAAQC,SAJvE,4CAhBsG,sBAuBtG,OACI,eAAC,KAAD,CACI6C,MAAOA,GACPmD,eArBR,SAAkB3J,GACd,IAAM8I,EAAS,GAQf,OAPA/D,OAAOC,KAAKhF,GAAQgB,SAAQ,SAAA+H,KACN/I,EAAO+I,IAAqC,kBAAlB/I,EAAO+I,KAAwB/I,EAAO+I,GAAOxH,UAErFuH,EAAOC,GAAS,eAGxByY,EAAUxhB,GACH8I,GAaHc,UAAWoX,GAAc,CAAEhhB,SAAQ1C,OAAMD,UAAS+c,YAClD/P,cAAeA,EACfC,aA7B8F,gDCnE1G,IAUeoX,GAVI,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WACXpB,ECAH,WAAsB,IAAD,EAC0C3V,cAA1DrO,KAAO4E,UAAYygB,EADH,EACGA,WAAwBtN,EAD3B,EACerP,SAAYqP,OAG7CuN,EAAgBtB,GAFCtM,GAAQK,GAEchX,MAGvCwkB,EAAmB,GAKzB,OAJA9gB,kBAAQ4gB,EAAWrB,SAAS,SAAAtW,GACpB4X,EAAc5X,IAClB6X,EAAiBxc,KAAjB,2BAA0Buc,EAAc5X,IAAxC,IAA+C1E,MAAOsc,EAAc5X,GAAM9F,YAEvE2d,EDZSC,GAIhB,OACG,eAACR,GAAD,CAAUS,SAJb,WACIL,KAG6BrkB,KAAK,SAASD,QAASkjB,KEM7C0B,GAVG,SAAC,GAAkB,IAAjBN,EAAgB,EAAhBA,WACRplB,EAASqO,cAATrO,KADwB,EAEbmd,GAAYnd,EAAMkd,IAA9ByI,EAFyB,sBAGLjI,KAHK,mBAGzBG,EAHyB,KAIhC,OAJgC,KAId,KAEf,eAACmH,GAAD,CAAUhlB,KAAMA,EAAM6d,QAASA,EAAS/c,QAAS6kB,EAAWF,SAAUL,EAAYrkB,KAAK,WCZxF6kB,GAAY,SAACC,GAEf,MADc,CAAE5B,eAAgB,QAAQrc,MAAM,GAAD,OAAKie,EAAL,SAAqBnQ,YAAY,oBAAD,OAAsBmQ,EAAtB,6DAA0FA,QAASA,EAAQC,cAAe3B,KAAK,yEAA0Ezc,GAAI,IAqB/Qqe,GATA,CACX,YAAcH,GAAU,QACxB,WAAaA,GAAU,OACvB,eAAiBA,GAAU,WAC3B,cAAgBA,GAAU,UAC1B,aAAeA,GAAU,SACzB,YAAcA,GAAU,QACxB,KAhBc,WAAuC,IAAtCjM,EAAqC,uDAAhC,QAAQjS,EAAwB,uDAArB,GACzBse,EAAQ,CACVpe,MAAM,YACN+R,OACAkM,QAAS,OACTne,MAEJ,OAAOse,EASCC,IChBZ,IAUeC,GAVG,SAAC,GAAkB,IAAjBd,EAAgB,EAAhBA,WACVW,ECDH,WAAqB,IACGV,EAAiBhX,cAApCrO,KAAO4E,UAAYygB,WAI3B,OAHwBlgB,cAAIkgB,EAAWU,QAAQ,SAAArY,GAC3C,OAAO,2BAAIqY,GAAOrY,IAAlB,IAAyB1E,MAAO+c,GAAOrY,GAAM9F,WDFlCue,GAIf,OACG,eAACnB,GAAD,CAAUS,SAJb,WACIL,KAG6BrkB,KAAK,QAAQD,QAASilB,KEW5CK,GAfI,WAAO,IAAD,EAIjB/X,cAFArO,KACI4E,UAAasf,EAHA,EAGAA,GAAImC,EAHJ,EAGIA,MAHJ,IAGW3d,SAAYyP,aAHvB,MAG+B,CAAE+L,GAAI,GAHrC,EAKfnM,EAASF,GAAmB,UAC5BC,EAAYD,GAAmB,aAMrC,OAAQ,eAACrN,GAAA,EAAD,wBAHc0Z,GAAM/L,EAAM+L,IAAM,IAAMnM,EAAOmM,IAAM,IAAMpM,EAAUoM,IAAM,GAGzE,YAA+BmC,M,UCU5BC,GApBK,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,YAAapmB,EAAmB,EAAnBA,OAAQqmB,EAAW,EAAXA,MACjCvO,EAAUwG,eAAI,OAACte,QAAD,IAACA,OAAD,EAACA,EAAQqJ,SAAU,CAACkE,KAAM6Y,IAC9C,OACI,iCACI,eAAC5Y,GAAA,EAAD,CACIQ,QAASqY,EACTC,UAAW,eAACC,GAAA,EAAD,IAFf,SAGEzO,EAAQvK,OACV,sBAAKV,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,UAA/C,SACI,sBAAKD,MAAO,CAAEhB,MAAO,QAAU+I,ICjBhC,iuBDiB6CC,IAAI,OAEpD,iCACI,eAAC,GAAD,CAAOiD,QAASA,IAChB,eAAC,GAAD,CAAOA,QAASA,WEjBhC,SAAS0O,GAAsB3mB,EAAMwJ,GAOjC,OANqB0U,iBAAO1U,GAAU,SAAAyO,GAAU,IAAD,EAG3C,QAFiBwG,eAAI,UAACze,EAAK4E,iBAAN,aAAC,EAAgBgiB,OAAQ,CAAElZ,KAAMuK,EAAQvK,UAO/D,IAAMmZ,GAAe,WAAgB,IAAf7mB,EAAc,uDAAT,KAAS,EACpBqO,cAAXlO,EAD+B,EAC/BA,OAD+B,EAETmO,oBAAS,GAFA,mBAEhCyP,EAFgC,KAEvBC,EAFuB,OAGf1P,mBAAS,MAHM,mBAGhC3J,EAHgC,KAG1BmiB,EAH0B,cAIzBC,IAJyB,2EAIxC,8BAAA9kB,EAAA,sEAC2BqE,EAAc,CAAC,KAAM,YADhD,OACW0gB,EADX,OAES7mB,EAAS,KACV6mB,EAAQthB,QAAQ8D,WACfrJ,EAAS6mB,EAAQthB,QACd1F,IACCG,EAAOqJ,SAAWmd,GAAsB3mB,EAAMG,EAAOqJ,YAI7Dsd,EAAQ3mB,GACR6d,GAAW,GAXhB,4CAJwC,sBA6B3C,OAXAxF,qBAAU,WACNuO,MACD,IACHvO,qBAAU,WACHxY,EACC+mB,KACE,OAAG5mB,QAAH,IAAGA,OAAH,EAAGA,EAAQqJ,WACbsd,EAAQ3mB,KAEb,CAACA,EAAQH,IAEL,CAAC2E,EAAMoZ,IC5BRvS,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrCmL,KAAM,CACFpJ,MAAO,OACPd,SAAU,IACViB,gBAAiBlC,EAAME,QAAQwG,WAAWjF,WAInC,SAASub,KAAe,IAC3BjnB,EAASqO,cAATrO,KAD0B,EAED6mB,GAAa7mB,GAFZ,mBAE3BknB,EAF2B,KAEZnJ,EAFY,OAGJH,IAAMtP,SAAS,MAHX,mBAG3B2J,EAH2B,KAGlBkP,EAHkB,KAOlC,IAAMta,EAAUrB,KAEhB,OACI,uCAEoB,OAAZyM,GAAoB,eAAC,GAAD,CAAa9X,OAAQ+mB,EAAeX,YAAatO,EAAQvK,KAAM8Y,MAR/F,WACIW,EAAW,SASX,uBAAKha,UAAWN,EAAQuI,KAAxB,WAEO6C,IAAwB,OAAbiP,QAAa,IAAbA,OAAA,EAAAA,EAAe1d,SAASxE,QAAS,GAC/C,eAACue,GAAA,EAAD,CAAMnY,UAAU,MAAMuV,aAAW,eAAjC,SAEQxb,cAAI+hB,EAAc1d,UAAU,SAACyO,EAASjS,GAClC,OACI,gBAAC,IAAMohB,SAAP,WACG,gBAAC3D,GAAA,EAAD,CAAUC,QAAM,EAACvV,QAAS,kBAAIgZ,EAAWlP,IAAzC,UACS,eAAC0L,GAAA,EAAD,UACI,eAAC,GAAD,CAAW3X,MAAM,OAAO+I,IAAKkD,EAAQlD,QAEzC,eAACgP,GAAA,EAAD,CAAc3Z,QAAS6N,EAAQvK,eAGJ9M,IAAlCsmB,EAAc1d,SAASxD,EAAI,IAAoB,eAAC0V,GAAA,EAAD,MAR/B1V,UAcnC,OAACkhB,QAAD,IAACA,OAAD,EAACA,EAAe1d,SAASxE,QAAS,IAAM+Y,GAAW,eAACvT,GAAA,EAAD,sDC9CjE,IA+De6c,GA/DI,WAAO,IAAD,EACKzJ,IAAMtP,UAAS,GADpB,mBACdgZ,EADc,KACPC,EADO,OAEK3J,IAAMtP,UAAS,GAFpB,mBAEdkZ,EAFc,KAEPC,EAFO,OAGK7J,IAAMtP,UAAS,GAHpB,mBAGdoZ,EAHc,KAGPC,EAHO,KAIrB,OACI,iCACI,eAACV,GAAD,IACA,gBAACjZ,GAAA,EAAD,CAAMhB,MAAO,CAAEkH,UAAW,SAAUvI,UAAW,QAAUsC,WAAS,EAAlE,UACI,eAACD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACI,eAAC,GAAD,CACIgO,OAAQ,CACJE,KAAMkL,EACNjL,QAASkL,EACTtW,MAAO,UACPjQ,QAAS,eAAC,GAAD,CAAYokB,WAAY,kBAAImC,GAAS,OAGlD3Z,WAAS,EACTnD,QAAQ,WATZ,sBAYJ,eAACuD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACI,eAAC,GAAD,CACIgO,OAAQ,CACJE,KAAMoL,EACNnL,QAASoL,EACTxW,MAAO,SACPjQ,QAAS,eAAC,GAAD,CAAWokB,WAAY,kBAAIqC,GAAS,OAGjD7Z,WAAS,EACTnD,QAAQ,WATZ,qBAYJ,eAACuD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACI,eAAC,GAAD,CACIgO,OAAQ,CACJjL,MAAO,QACPjQ,QAAS,eAAC,GAAD,CAAWokB,WAAY,kBAAIuC,GAAS,MAC7CvL,KAAMsL,EACNrL,QAASsL,GAGb/Z,WAAS,EACTnD,QAAQ,WATZ,qBAYJ,eAACuD,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,EAAf,SACI,eAAC,GAAD,CACIN,WAAS,EAACnD,QAAQ,WADtB,wBAIR,iCACI,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,WCxDDmd,GARO,WAClB,OACI,kD,wCCJKC,GAAyB,CAClC5W,MAAO,oBACPiT,GAAI,GACJ7I,MAAO,SACPuL,OAAQ,KACRle,SAAU,CAACoP,UAAW,GAAIK,MAAO,GAAIJ,OAAQ,aAAc+P,gBAAiB,IAC5Ehe,IAAK,EACL0R,IAAK,EACL/T,GAAI,GACJC,GAAI,GACJC,MAAO,CAAC2V,KAAK,GAAIvF,OAAQ,GAAII,MAAO,GAAIL,UAAW,GAAI+I,YAAa,IACpEtF,MAAO,EACP8K,MAAO,GACP9e,MAAO,GACPC,MAAO,GACP0L,MAAO,GACPmS,WAAY,CACRrB,QAAS,CACLpM,MAAO,GACPmQ,IAAK,GACLxD,MAAO,GACPF,UAAW,GACXC,WAAY,GACZE,IAAK,IAETuB,OAAQ,IAEZlhB,UAAW,CACPC,KAAM,KACNC,cAAe,OCvBjBijB,GAAY,SAAClnB,GACf,MAAQ,CACJwM,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,QACJC,KAAM,QACN3M,KAAM,SACN6G,MAAO,QACP6C,QAAS,SACT3J,iBAyDbmnB,GA/CG,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,cAAenhB,EAAqB,EAArBA,gBACzB+G,EAAe,CAAEuN,MAAO6M,EAAc7M,OACtCva,EAAUqE,cAAIqD,OAAOC,KAAKoE,KAAU,SAAAM,GACtC,IAAMgb,EAActb,GAAQM,GAC5B,OAAO,2BAAIgb,GAAX,IAAwBnf,MAAMmf,EAAYvgB,WA+B9C,OACI,+BACE,eAAC,KAAD,CACEqC,MAAOA,GACPmD,eAjCR,SAAkB3J,GACd,IAAM8I,EAAS,GAyBf,OAxBA/D,OAAOC,KAAKhF,GAAQgB,SAAQ,SAAA2jB,GACxB,IAAM5b,EAAQ/I,EAAO2kB,GAErB,IADkB5b,GAA4B,kBAAVA,IAAuBA,EAAMxH,OAE7D+B,EAAgB,CAAEsU,MAAO,OACzB9O,EAAO6b,GAAa,gBAClB,GAAiB,UAAdA,EAAsB,CAE3B3jB,kBAAQ+D,OAAOC,KAAKyf,EAAchV,QAAO,SAAC4L,GACtCoJ,EAAchV,MAAM4L,GAAUnJ,OAAS,MAG3C,IAAMgE,EAAOnR,OAAOC,KAAK+D,EAAMoN,WAAW,GACpCA,EAAYpN,EAAMoN,UAAUD,GAC5B0O,EAAUH,EAAchV,MAAMyG,GAC9B2O,EAAWD,EAAQ1S,OAEzB5O,EAAgB,CACZsU,MAAO7O,EAAM5E,MACbsL,MAAM,2BAAKgV,EAAchV,OAApB,kBAA4ByG,EAA5B,2BAAuC0O,GAAvC,IAAgD1S,OAAQ2S,EAAW1O,YAK7ErN,GAQHc,UAAW2a,GAAUlnB,GACrBgN,cAAeA,O,+BC1DrBtC,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCmL,KAAM,CACJpJ,MAAO,OACPd,SAAU,OACViB,gBAAiBlC,EAAME,QAAQwG,WAAWjF,OAE5C6c,OAAQ,CACN1c,QAAS,cAIP2c,GAAO,SAAC,GAAsE,IAArEC,EAAoE,EAApEA,oBAAqB9O,EAA+C,EAA/CA,KAAM+O,EAAyC,EAAzCA,gBAAiBC,EAAwB,EAAxBA,mBAAwB,EAE5Cra,mBAASqL,EAAKhE,OAAS,IAFqB,mBAExEiT,EAFwE,KAE7DC,EAF6D,KAGzEC,EAAYF,GAAY,EAAI,QAAU,MAe5C,IAAMtS,EAAOoS,EAjBW,EAiBOE,EACzBG,EAAgBpP,EAAKC,UAAL,iBAA2BD,EAAKC,UAAhC,KAA+C,GACrE,OACI,uBAAK5M,MAAO,CAACkH,UAAW,UAAxB,UACA,gBAACuP,GAAA,EAAD,CAA0B1X,WAAW,aAArC,UACA,eAACid,GAAA,EAAD,UACE,eAAC9b,GAAA,EAAD,CAAQ8H,IAAK2E,EAAKD,KAAlB,SAA0BC,EAAKD,SAEjC,eAACqK,GAAA,EAAD,CACE3Z,QAAO,UAAKuP,EAAK/R,MAAV,aAAoB+R,EAAKhE,OAAzB,YAAmCoT,GAC1Cze,UAAWqP,EAAKjE,gBANHiE,EAAKD,MAUf,eAAC,KAAD,CACG6E,SA7BZ,SAA2BvV,GAEvB6f,GAAc,SAACI,GACX,IAAIC,EAAqBR,EAAkB,EACvCS,EAAc,EAOlB,OANGT,GAAmB,GAAKO,EAAWjgB,KAClCkgB,EAAqBR,EAAkB,EACvCS,GAAe,GAEnBR,EAAmBO,GACnBT,EAAoB9O,EAAKD,KAAMyP,GACxBngB,MAmBHgE,MAAO,CAACkC,MAAO,CAAC4D,SAAU,OAAOpI,MAAOoe,EAAW9c,MAAO,QAASoF,OAAQ,SAC3EgY,QAAQ,EACR/S,IAAK,EACLC,IAAKA,EACLtN,MAAO4f,QAQR,SAASS,GAAT,GAA2F,IAAvEtiB,EAAsE,EAAtEA,gBAAiBmhB,EAAqD,EAArDA,cAAeQ,EAAsC,EAAtCA,gBAAiBC,EAAqB,EAArBA,mBAC5E9b,EAAUrB,KACV6c,EAAU9O,GAAiB2O,EAAchV,OAE/C,SAASuV,EAAoBlmB,EAAKyG,GAChC,IAAMsgB,EAAY,eAAOjB,GACzBiB,EAAa/mB,GAAKoT,OAAS2T,EAAa/mB,GAAKoT,OAAS3M,EACtDjC,EAAgB,CAACmM,MAAOqG,GAAiB+P,KAE3C,OACE,gBAAC/F,GAAA,EAAD,CAAMpW,UAAWN,EAAQuI,KAAzB,UACI,6BAAIsT,IAEAvjB,cAAIqD,OAAOC,KAAK4f,IAAU,SAAC3O,EAAM1T,GAC7B,IAAM2T,EAAI,2BAAOuO,EAAchV,MAAMwG,IAA3B,IAAkCA,SAC7C,OAAO,eAAC,GAAD,CAAc+O,oBAAqBA,EAAqB9O,KAAMA,EAAM+O,gBAAiBA,EAAiBC,mBAAoBA,GAA/G3iB,SC7EjC,IAAMgiB,GAAY,SAAClnB,EAASyoB,GACxB,MAAQ,CACJjc,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACP6C,QAAS,SACT3J,UACAyoB,oBA0CbC,GAlCI,SAAC,GAAqD,IAApD1b,EAAmD,EAAnDA,cAAeoa,EAAoC,EAApCA,cAAenhB,EAAqB,EAArBA,gBACzC0iB,EAAa/R,GAAQwQ,EAAcxf,SAASqP,QAC5C2R,EAAQ,UAAMlhB,OAAOC,KAAKghB,EAAW9R,aAAa,IAClDgS,EAAY,sCAAkCD,EAAlC,aAA+CD,EAAW9R,YAAY+R,GAAtE,KACZ5oB,EAAU0H,OAAOC,KAAKiP,IAASvS,KAAI,SAAAykB,GACrC,MAAO,CAAEhiB,MAAOgiB,EAAY5gB,MAAO4gB,MAiBvC,OACI,+BACE,eAAC,KAAD,CACE3f,MAAOA,GACPmD,eAlBR,SAAkB3J,GACd,IAAM8I,EAAS,GAUf,OATA/D,OAAOC,KAAKhF,GAAQgB,SAAQ,SAAA+H,KACN/I,EAAO+I,IAAqC,kBAAlB/I,EAAO+I,KAAwB/I,EAAO+I,GAAOxH,UAErFuH,EAAOC,GAAS,YAEP,WAAVA,GACCzF,EAAgB,CAAC2B,SAAS,2BAAKwf,EAAcxf,UAApB,IAA8BqP,OAAQtU,EAAO+I,GAAOxD,aAG9EuD,GAQHc,UAAW2a,GAAUlnB,EAAS6oB,GAC9B7b,cAAeA,OC7CZ+b,GARY,SAAC,GAAoB,EAAnB3B,cACzB,OACI,0BCqBF1c,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCmL,KAAM,CACJpJ,MAAO,QAET0X,OAAQ,CACN/X,UAAW1B,EAAM2B,QAAQ,GACzBkG,YAAa7H,EAAM2B,QAAQ,IAE7Bke,iBAAkB,CAChBrY,aAAcxH,EAAM2B,QAAQ,IAE9Bme,eAAgB,CACdhb,QAAS9E,EAAM2B,QAAQ,QAUZ,SAASoe,KAAc,IAC5BhqB,EAASqO,cAATrO,KACF2M,EAAUC,cACVqd,EAAcze,KAHe,EAIC8C,mBAAS,GAJV,mBAI5B4b,EAJ4B,KAIhBC,EAJgB,KAK7BC,EAVC,CAAC,iBAAkB,oBAAqB,kBAAmB,oBAK/B,EAMO9b,mBAAS,2BAAIuZ,IAAL,IAA6Bna,KAAM1N,EAAKiD,YAAaiQ,MAAOsC,MAN3E,mBAM5B0S,EAN4B,KAMbmC,EANa,OAOW/b,mBAAS,IAPpB,mBAO5Boa,EAP4B,KAOXC,EAPW,OC5CH,WAAO,IAAD,EACCta,cAA7BrO,EAD4B,EAC5BA,KAAMkE,EADsB,EACtBA,mBADsB,4CAGpC,WAAqC6B,GAArC,eAAA9D,EAAA,sEAC0B8E,EAAgB/G,EAAK+F,GAD/C,OACUpC,EADV,OAGIO,EAAmB,CAAClE,KAAM2D,IAH9B,4CAHoC,sBASpC,MAAO,CAT6B,6CDoDJ2mB,GAA3BC,EAR4B,oBAuBnC,SAASC,IACP,IAAIC,GAAU,EAad,OAZIvC,EAAc7M,QAChBoP,EAAU,yBAERvC,EAAcxf,SAASqP,SACzB0S,EAAU,0BAERvC,EAAcxf,SAASqP,SACzB0S,EAAU,0BAtBd,WAAoF,IAA/CzhB,EAA8C,uDAAxC,CAAC2O,YAAa,IAAK/S,EAAqB,uDAAX,CAACsO,MAAM,IACzE2L,GAAgB,EASpB,OARApa,kBAAQ+D,OAAOC,KAAK7D,EAAUsO,QAAQ,SAAA4L,GAAW,IACvCnJ,EAAW/Q,EAAUsO,MAAM4L,GAA3BnJ,OACFgC,EAAc3O,EAAM2O,YAAYmH,GAChCC,GAAkBvW,OAAOC,KAAKO,EAAM2O,aAAa3S,QACnD2S,GAAehC,GAAUgC,GAAgBoH,KAC3CF,GAAgB,MAGbA,EAcHD,CAA4BlH,GAAQwQ,EAAcxf,SAASqP,QAASmQ,KACtEuC,EAAU,uCAELA,EAGT,SAAS1jB,IAA2B,IAAX2jB,EAAU,uDAAH,GACtBC,EAAM,eAAOzC,GACnBzjB,kBAAQ+D,OAAOC,KAAKiiB,IAAS,SAAAtC,GAC3BuC,EAAOvC,GAAasC,EAAOtC,MAE7BiC,EAAiBM,GAGrB,IAAMC,EAAa,WACjB,GAAGJ,KAA4C,IAAfN,EAC9B,OAAOrpB,EAAc,CAACE,KAAM,QAASC,QAASwpB,MAEhDL,GAAc,SAACU,GAAD,OAAoBA,EAAiB,MAG/CC,EAAa,WACjBX,GAAc,SAACU,GAAD,OAAoBA,EAAiB,MAWrD,SAASE,EAAeC,GACtB,OAAQA,GACN,KAAK,EACH,OAAO,eAAC,GAAD,CAAW9C,cAAeA,EAAenhB,gBAAiBA,IACnE,KAAK,EACH,OAAO,eAACsiB,GAAD,CAAWnB,cAAeA,EAAenhB,gBAAiBA,EAAiB2hB,gBAAiBA,EAAiBC,mBAAoBA,IAC1I,KAAK,EACH,OAAO,eAAC,GAAD,CAAYT,cAAeA,EAAenhB,gBAAiBA,EAAiB+G,cAAe,CAACiK,OAAQmQ,EAAcxf,SAASqP,UACpI,KAAK,EACD,OAAO,eAAC,GAAD,CAAoBmQ,cAAeA,IAC9C,QACE,MAAO,gBA9EsB,SAiFpBna,IAjFoB,2EAiFnC,4BAAA9L,EAAA,sEAEU2C,EAFV,2BAGSsjB,GAHT,IAIMhV,MAAO1K,OAAOC,KAAKyf,EAAchV,OAAOsG,QAAO,SAACC,EAAIwR,GAClD,OAAO,2BAAIxR,GAAX,kBAAiBwR,EAAU/C,EAAchV,MAAM+X,GAAStV,WACxD,MANR,SAQU4U,EAAwB,CAAC3lB,cARnC,OASI+H,EAAQG,QAAQ,KATpB,gDAWIzJ,QAAQC,MAAM,aAAd,MAXJ,0DAjFmC,sBAwGnC,OAHAsa,IAAMpF,WAAU,WAHXxY,EAAK4E,UAAiB+H,EAAQG,QAAQ,KACrC9M,EAAK8C,KAAW6J,EAAQG,QAAQ,cAInC,CAAC9M,IAEF,eAACgL,GAAD,UACA,sBAAKmC,UAAW8c,EAAY7U,KAA5B,SACE,eAAC8V,GAAA,EAAD,CAAShB,WAAYA,EAAYiB,YAAY,WAA7C,SACGf,EAAMjlB,KAAI,SAACyC,EAAO6T,GAAR,OACT,gBAAC2P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWld,QAAS,kBAnD9B,SAAkBsN,GAChB,GAAG+O,KAAuC,IAAV/O,EAC9B,OAAO5a,EAAc,CAACE,KAAM,QAASC,QAASwpB,MAEhDL,EAAc1O,GA+CkB6P,CAAS7P,IAAjC,SAA0C7T,IAC1C,gBAAC2jB,GAAA,EAAD,WACGR,EAAetP,GAChB,sBAAKtO,UAAW8c,EAAYH,iBAA5B,SACE,iCACE,eAACnc,GAAA,EAAD,CACEE,SAAyB,IAAfqc,EACV/b,QAAS2c,EACT3d,UAAW8c,EAAYvG,OAHzB,kBAOA,eAAC/V,GAAA,EAAD,CACElD,QAAQ,YACRC,MAAM,UACNyD,QAAS+b,IAAeE,EAAMplB,OAAS,EAAI+I,EAAe6c,EAC1Dzd,UAAW8c,EAAYvG,OAJzB,SAMGwG,IAAeE,EAAMplB,OAAS,EAAI,SAAW,mBAnB7C4C,Y,kCEnFN4jB,GAvEQ,CACnBC,KAAM,CACFC,OAAQ,CACJ,MAAS,CAAE9jB,MAAO,QAAS+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACxG,KAAQ,CAAEE,MAAO,OAAQ+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtG,MAAS,CAAEE,MAAO,QAAS+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACxG,SAAY,CAAEE,MAAO,WAAY+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,IAElHoP,QAAS,CACL,cAAe,CAAElP,MAAO,cAAe+jB,OAAQvV,GAAsB,EAAG,IAAKV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACrH,eAAgB,CAAEE,MAAO,eAAgB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtH,YAAa,CAAEE,MAAO,YAAa+jB,OAAQvV,GAAsB,EAAG,IAAKV,YAAa,GAAImQ,QAAS,QAASne,GAAI,GAChH,cAAe,CAAEE,MAAO,cAAe+jB,OAAQvV,GAAsB,GAAI,IAAKV,YAAa,GAAImQ,QAAS,QAASne,GAAI,KAG7HkkB,KAAM,CACFF,OAAQ,CACJ,MAAS,CAAE9jB,MAAO,QAAS+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACxG,KAAQ,CAAEE,MAAO,OAAQ+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtG,SAAY,CAAEE,MAAO,WAAY+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC9G,MAAS,CAAEE,MAAO,QAAS+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,IAE5GoP,QAAS,CACL,aAAc,CAAElP,MAAO,aAAc+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAClH,iBAAkB,CAAEE,MAAO,iBAAkB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC1H,cAAe,CAAEE,MAAO,cAAe+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACpH,cAAe,CAAEE,MAAO,cAAe+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,KAI5HmkB,MAAO,CACHH,OAAQ,CACJ,KAAQ,CAAE9jB,MAAO,OAAQ+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtG,KAAQ,CAAEE,MAAO,OAAQ+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtG,SAAY,CAAEE,MAAO,WAAY+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,IAElHoP,QAAS,CACL,gBAAiB,CAAElP,MAAO,gBAAiB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACxH,iBAAkB,CAAEE,MAAO,iBAAkB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC1H,YAAa,CAAEE,MAAO,YAAa+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAChH,gBAAiB,CAAEE,MAAO,gBAAiB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,KAIhIokB,MAAO,CACHJ,OAAQ,CACJ,OAAU,CAAE9jB,MAAO,SAAU+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC1G,OAAU,CAAEE,MAAO,SAAU+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,IAE9GoP,QAAS,CACL,eAAgB,CAAElP,MAAO,eAAgB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtH,eAAgB,CAAEE,MAAO,eAAgB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtH,kBAAmB,CAAEE,MAAO,kBAAmB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC5H,qBAAsB,CAAEE,MAAO,qBAAsB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,KAG1IqkB,OAAQ,CACJL,OAAQ,CACJ,QAAW,CAAE9jB,MAAO,UAAW+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC5G,OAAU,CAAEE,MAAO,SAAU+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC1G,WAAY,CAAEE,MAAO,WAAY+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC9G,IAAO,CAAEE,MAAO,MAAO+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,IAExGoP,QAAS,CACL,kBAAmB,CAAElP,MAAO,kBAAmB+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GAC5H,KAAQ,CAAEE,MAAO,OAAQ+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,GACtG,YAAa,CAAEE,MAAO,YAAa+jB,OAAQvV,GAAsB,EAAG,GAAIV,YAAa,GAAImQ,QAAS,SAAUne,GAAI,MCpE7G,OAA0B,iCCiD1B8B,GA/CE,CACbiiB,KAAM,CACF,kBAAmB,CAAE1W,IAAK0W,GAAK/d,KAAM,kBAAmB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAC3K,YAAa,CAAE/B,IAAK0W,GAAK/d,KAAM,YAAa3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAC/JA,QAAS,CACL,kBAAmB,CAAE/B,IAAK0W,GAAK/d,KAAM,kBAAmB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,cAAe,eACjL,iBAAkB,CAAEjP,ICRjB,IAA0B,yCDQSrH,KAAM,iBAAkB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,cAAe,eAAgB,YAAa,mBAG5N4H,KAAM,CACF,cAAe,CAAE7W,IAAK0W,GAAK/d,KAAM,cAAe3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IACnK,aAAc,CAAE/B,IAAK0W,GAAK/d,KAAM,aAAc3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IACjK,eAAgB,CAAE/B,IAAK0W,GAAK/d,KAAM,eAAgB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IACtKA,QAAS,CACL,iBAAkB,CAAE/B,IAAK0W,GAAK/d,KAAM,iBAAkB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAC1K,eAAgB,CAAE/B,IAAK0W,GAAK/d,KAAM,eAAgB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,aAAc,cAAe,iBACzL,eAAgB,CAAEjP,IAAK0W,GAAK/d,KAAM,eAAgB3M,KAAM,OAAQ2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,aAAc,iBAAkB,cAAe,mBAInN6H,MAAO,CACH,YAAa,CAAE9W,IAAK0W,GAAK/d,KAAM,YAAa3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAChK,aAAc,CAAE/B,IAAK0W,GAAK/d,KAAM,aAAc3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IACnKA,QAAS,CACL,eAAgB,CAAE/B,IAAK0W,GAAK/d,KAAM,eAAgB3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,gBAAiB,iBAAkB,YAAa,qBAIrN8H,MAAO,CACH,aAAc,CAAE/W,IAAK0W,GAAK/d,KAAM,aAAc3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAClK,YAAa,CAAE/B,IAAK0W,GAAK/d,KAAM,YAAa3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IACjKA,QAAS,CACL,aAAc,CAAE/B,IAAK0W,GAAK/d,KAAM,aAAc3M,KAAM,QAAS2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,MAI3KiV,OAAQ,CACJ,OAAU,CAAEhX,IAAK0W,GAAK/d,KAAM,SAAU3M,KAAM,UAAW2U,YAAa,GAAI6F,MAAO,EAAG9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAC5J,iBAAkB,CAAE/B,IAAK0W,GAAK/d,KAAM,iBAAkB3M,KAAM,UAAW2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEN,OAAQ,EAAG5U,QAAS,IAC7KA,QAAS,CACL,iBAAkB,CAAE/B,IAAK0W,GAAK/d,KAAM,iBAAkB3M,KAAM,UAAW2U,YAAa,GAAI6F,MAAO,GAAI9T,GAAI,GAAIF,MAAO,GAAIG,GAAI,GAAIF,MAAO,GAAIwkB,aAAc,CAAEhI,QAAS,CAAC,kBAAmB,OAAQ,kBErCnM,SAASiI,GAAT,GAA8F,IAAD,IAArElrB,YAAqE,MAA9D,OAA8D,MAAtDwa,aAAsD,MAA9C,EAA8C,MAA3CyQ,oBAA2C,MAA5B,CAAEN,OAAQ,EAAG5U,QAAS,GAAM,EAC1FmB,EAAU,CAAElX,OAAMwa,QAAOyI,QAAS,GAAIla,IAAa,IAARyR,GAC3C2Q,EAAYV,GAAezqB,GAC3BorB,EAAyB3jB,OAAOC,KAAKyjB,EAAUR,QAC/CU,EAA0B5jB,OAAOC,KAAKyjB,EAAUpV,SAEtD,GAAGkV,EAAahI,QAEZvf,kBAAQunB,EAAahI,SAAS,SAAAqI,GAC1BpU,EAAQ+L,QAAQjb,KAAKmjB,EAAUpV,QAAQuV,OAE3C5nB,kBAAQ0nB,GAAwB,SAACze,GAC7B,IAAM4e,EAASJ,EAAUR,OAAOhe,GAChCuK,EAAQ+L,QAAQjb,KAAKujB,UAI9B,CAAE,IAAK,IAAItmB,EAAI,EAAGA,EAAIgmB,EAAaN,OAAQ1lB,IAAK,CAC3C,IAAMumB,EAAYnW,GAAsB,EAAI+V,EAAuBnnB,OAAS,GACtEsnB,EAASJ,EAAUR,OAAOS,EAAuBI,IACvDtU,EAAQ+L,QAAQjb,KAAKujB,GACrBH,EAAuBK,OAAOD,EAAW,GAE7C,IAAK,IAAIvmB,EAAI,EAAGA,EAAIgmB,EAAalV,QAAS9Q,IAAK,CAC3C,IAAMumB,EAAYnW,GAAsB,EAAIgW,EAAwBpnB,OAAS,GACvEsnB,EAASJ,EAAUpV,QAAQsV,EAAwBG,IACzDtU,EAAQ+L,QAAQjb,KAAKujB,GACrBF,EAAwBI,OAAOD,EAAW,IAE9C,OAAO,2BAAItU,G9DnBR,WAAiC,IAAVwU,EAAS,uDAAH,EAkBlC,OAjBuBjkB,OAAOC,KAAK+M,IAAWgE,QAAO,SAACC,EAAKwR,GAC3D,IAAMyB,EAAQ,eAAOjT,GACjBkT,EAAavW,GAAsB,EAAG,IAa1C,OAZGqW,EAAQ,GAAKA,GAAS,KACrBE,EAAavW,GAAsB,GAAI,KAExCqW,EAAQ,IAAMA,GAAS,KACtBE,EAAavW,GAAsB,GAAI,KAExCqW,EAAQ,IAAMA,GAAS,KACtBE,EAAavW,GAAsB,GAAI,KAExCqW,EAAQ,KACPE,EAAavW,GAAsB,GAAI,KAEpC,2BAAIsW,GAAX,kBAAsBzB,EAAU0B,MAC7B,I8DEsBC,CAAcrR,IAGlC,SAASsR,KAAkF,IAAjEhW,EAAgE,uDAAlD,CAAE4U,KAAM,EAAGG,KAAM,EAAG9U,QAAS,CAAC,oBACnEgW,EAAatkB,OAAOC,KAAKoO,GACzBkW,EAAoBD,EAAWtT,QAAO,SAACC,EAAKuT,EAAahnB,GAE3D,IAAMinB,EAAkB,IAAJjnB,EAAQ,GAAR,aAAiByT,GAC/ByT,EAAc1jB,GAASwjB,GACvBG,EAAkBtW,EAAcmW,GAChCI,EAAc5kB,OAAOC,KAAKe,GAASwjB,IAAgB,IAGzD,GAFAI,EAAYC,MAEO,YAAhBL,EAA0B,CACzB,IAAMM,EAAkB5W,GAAsBlN,IAC9C/E,kBAAQoS,EAAcC,SAAS,SAAAyW,GAC3B9oB,kBAAQ6oB,GAAiB,SAAA9jB,GAClBA,EAAS+jB,IACRN,EAAYlkB,KAAZ,2BAAqBS,EAAS+jB,IAA9B,IAA0C7f,KAAK,GAAD,OAAKlE,EAAS+jB,GAAY7f,KAA1B,YAAkC1H,IAAQimB,GAAaziB,EAAS+jB,iBAK1H,IAAI,IAAIvnB,EAAI,EAAGA,EAAEmnB,EAAiBnnB,IAAI,CAClC,IACMwnB,EAAmBJ,EADPhX,GAAsB,EAAIgX,EAAYpoB,OAAS,IAE3DyoB,EAAa,2BAAQP,EAAYM,IAApB,IAAsC9f,KAAK,GAAD,OAAKwf,EAAYM,GAAkB9f,KAAnC,YAA2C1H,IAAQimB,GAAaiB,EAAYM,KACzIP,EAAYlkB,KAAK0kB,GAIzB,OAAOR,IACR,IACCS,EAAa,EAIjB,OAHAjpB,kBAAQsoB,GAAmB,SAAA9U,GACvByV,GAAczV,EAAQnO,OAEnB,CAACN,SAAUujB,EAAmBjjB,IAAKyM,KAAKoX,MAAMD,ICpElD,I,GAAM1G,GAAU,CACnB4G,gBAAiB,CACbpkB,SAAUqjB,GAAiB,CAAEpB,KAAM,IAAIjiB,SACvCG,QAAS,CACLG,IAAK+iB,GAAiB,CAAEpB,KAAM,IAAI3hB,IAClCnC,MAAOoP,GAAc,CAAC,cAG9B8W,gBAAiB,CACbrkB,SAAUqjB,GAAiB,CAAEpB,KAAM,EAAG3U,QAAS,CAAC,qBAAqBtN,SACrEG,QAAS,CACLG,IAAK+iB,GAAiB,CAAEpB,KAAM,EAAG3U,QAAS,CAAC,qBAAqBhN,IAChEnC,MAAOoP,GAAc,CAAC,eCfrB+W,GAAM,CACf,KAAQ,CAACpgB,KAAM,OAAQqgB,SAAU,OAAQC,WAAY,cCwB1CC,GAvBD,CACV,YAAa,CACTC,WAAY,CAACJ,GAAG,MAChBpY,YAAa,gcACbsR,QAAS,CAAC4G,gBAAiB5G,GAAQ4G,gBAAiBC,gBAAiB7G,GAAQ6G,iBAC7EM,QAAS,IAGb,YAAa,CACTD,WAAY,CAACJ,GAAG,MAChBpY,YAAa,gcACbsR,QAAS,CAAC4G,gBAAiB5G,GAAQ4G,gBAAiBC,gBAAiB7G,GAAQ6G,iBAC7EM,QAAS,IAGb,YAAa,CACTD,WAAY,CAACJ,GAAG,MAChBpY,YAAa,gcACbsR,QAAS,CAAC4G,gBAAiB5G,GAAQ4G,gBAAiBC,gBAAiB7G,GAAQ6G,iBAC7EM,QAAS,K,qBCnBJC,GAAoBvR,KAAOC,IAAV,gDCiBfuR,GAfQ,SAAC,GAA6D,IAA5DC,EAA2D,EAA3DA,YAA2D,IAA9CC,cAA8C,MAAvC,kBAAI,MAAmC,MAA7B3mB,aAA6B,MAAvB,kBAAuB,EAIhF,OACI,eAACwmB,GAAD,UACG,eAAC,KAAD,CACAG,OANP,SAAoBvlB,GAChBulB,EAAOvlB,IAMKwlB,aAAcF,EACd1mB,MAAOA,OCFpB,SAAS6mB,KAAoB,IACxBvuB,EAAUmO,cAAVnO,MACFwuB,EAAcvpB,cAAIjF,GAAO,SAAAF,GAC3B,OAAO,2BAAIA,GAAX,IAAiB4H,MAAO5H,EAAK4E,UAAU8I,KAAM1E,MAAOhJ,EAAK4E,UAAU8I,UAIvE,MAAO,CAAC5M,QAFK,aAAQ4tB,GAEJxuB,SCIrB,IAyEMsL,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrC0kB,SAAU,CACRla,OAAQxK,EAAMwK,OAAOyM,OAAS,EAC9BxW,MAAO,YAGEkkB,GA/ED,WACV,IAAM/hB,EAAUrB,KADA,EAGkB8C,oBAAS,GAH3B,mBAGTugB,EAHS,KAGEC,EAHF,OAI8BxgB,mBAAS,IAJvC,mBAITygB,EAJS,KAIQC,EAJR,ODnBb,WAA4B,IAAD,EACgB3gB,cAAtCpO,EADsB,EACtBA,cAAeiE,EADO,EACPA,mBAIvB,MAAO,CAACjE,EAHR,SAA6BA,GACzBiE,EAAmB,CAACjE,oBCqBkBgvB,GAL1B,mBAKThvB,EALS,KAKMivB,EALN,cAODC,EAPC,8EAOhB,WAAmCjmB,GAAnC,eAAAjH,EAAA,6DACIitB,GAAiB,GADrB,SAEqB9lB,EAAgBF,GAFrC,OAEUkmB,EAFV,OAGIJ,EAAmB,CAACpnB,MAAOsB,EAASI,MAAO8lB,EAAG9lB,QAC9C4lB,GAAiB,GAJrB,4CAPgB,kEAahB,WAA8BzrB,GAA9B,SAAAxB,EAAA,sEACUgH,EAAmB8lB,EAAgBnnB,MAAOnE,EAAQ,SAD5D,4CAbgB,kEAiBhB,4BAAAxB,EAAA,sEACqBmH,EAAgB,aADrC,OACUgmB,EADV,OAEIJ,EAAmB,CAAEpnB,MAAO,YAAa0B,MAAO8lB,EAAG9lB,QACnDwlB,GAAa,GAHjB,4CAjBgB,sBA0BhB,OAHAtW,qBAAU,YAvBM,mCAwBZ6W,KACD,IACCR,EAAkB,KAElB,gBAAC7gB,GAAA,EAAD,CAAMC,WAAS,EAAf,UACI,eAACD,GAAA,EAAD,CAAMhB,MAAO,CAAEsM,UAAW,IAAK5E,SAAU,UAAYtN,MAAI,EAAC8G,GAAI,EAA9D,SACI,eAACqV,GAAA,EAAD,UAEQpe,cAAIqD,OAAOC,KAAKwlB,KAAQ,SAAA/kB,GACpB,OACI,eAACua,GAAA,EAAD,UACI,gBAAC,KAAD,CAAMzW,MAAO,CAAEd,OAAQ,QAAvB,UACI,gBAACoP,GAAA,EAAD,WACI,eAAC9Q,GAAA,EAAD,CAAYG,MAAM,SAASF,QAAQ,KAAKW,UAAU,KAAlD,SACKlC,IAEL,eAACsB,GAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,gBAA/B,mBAGA,eAACgR,GAAA,EAAD,IACA,gBAAClR,GAAA,EAAD,CAAYC,QAAQ,KAApB,UACKwjB,GAAM/kB,GAASwM,YAChB,8BAGR,eAAC4Z,GAAA,EAAD,UACI,eAAC3hB,GAAA,EAAD,CAAQQ,QAAO,sBAAE,sBAAAlM,EAAA,+EAAYktB,EAAoBjmB,IAAhC,2CAA0C0E,WAAS,EAApE,iCAhBG1E,UA4BnC,gBAAC8E,GAAA,EAAD,CAAMhB,MAAO,CAAEsF,OAAQ,aAAelL,MAAI,EAAC8G,GAAI,EAA/C,UACI,gBAAC1D,GAAA,EAAD,CAAYC,QAAQ,KAAKE,MAAM,SAA/B,UAAyCokB,EAAgBnnB,MAAzD,YACA,eAAC,GAAD,CAAgB0mB,YAAaS,EAAgBzlB,MAAOilB,OAhEhD,iDAkER,eAACgB,GAAA,EAAD,CAAUpiB,UAAWN,EAAQ8hB,SAAUvS,KAAMnc,EAA7C,SACV,eAACuvB,GAAA,EAAD,CAAkB9kB,MAAM,kB,uICLX+kB,GAhBE,WAAO,IA7DL,EA8DR3uB,EAAW2tB,KAAX3tB,QADY,4CAGnB,WAA4B2C,EAAQyhB,GAApC,SAAAjjB,EAAA,sEACU+H,GAAiBvG,EAAO0D,OAAQ,CAACpC,cAAetB,EAAOsB,cAAeD,KAAMrB,EAAOqB,OAD7F,4CAHmB,sBAMnB,OACI,eAAC,KAAD,CACImF,MAAOA,GACPoD,WAtEO,EAsEc,CAACvM,WArEtB,CACJwM,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACP9G,QAXK,EAAbA,YAiBR,CACIyM,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,OACJC,KAAM,OACN3M,KAAM,OACN6G,MAAO,WAMvB,CACI2F,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,gBACJC,KAAM,gBACN3M,KAAM,OACN6G,MAAO,qBAOvB,CACI2F,KAAM,CACF,CACIP,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,YAC1CU,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACPiG,UAAU,SAkB1BC,cAAe,CAAEhJ,KAAM,GAAIC,cAAe,GAAIoC,OAAQrG,EAAQ,IAC9DiN,aAXW,iDCvChB,ICpBDia,GAAY,SAAC,GAAwE,IAAtElnB,EAAqE,EAArEA,QAAS4uB,EAA4D,EAA5DA,UAAWC,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,kBAAmBC,EAAc,EAAdA,SACxE,MAAQ,CACJviB,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,WACJC,KAAM,WACN3M,KAAM,SACN6G,MAAO,YACP9G,QAAS4uB,EACTnR,SAAU,YAA0B,IAAvBvV,EAAsB,EAAtBA,MAAO8mB,EAAe,EAAfA,YACVC,EAAoBF,EAAS7mB,EAAMpB,OACrCmoB,IACJH,EAAkBG,GAClBD,EAAYE,cAAc,gBAAiBD,EAAkB,UAOjF,CACIxiB,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,gBACJC,KAAM,gBACN3M,KAAM,SACN6G,MAAO,QACP9G,QAAS6uB,MAKzB,CACIpiB,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACP9G,cAQhB,CACIyM,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,WACJC,KAAM,WACN3M,KAAM,SACN6G,MAAO,aAMvB,CACI2F,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,YACJC,KAAM,YACN3M,KAAM,WACN6G,MAAO,kBAOvB,CACI2F,KAAM,CACF,CACIP,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,YAC1CU,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACPiG,UAAU,SA0CvBoiB,GAlCE,WAAO,IAAD,EACMxB,KAAlB3tB,EADY,EACZA,QAEDovB,GAHa,EACHhwB,MAEEY,EAAQ,IACpB+uB,ExCjFH,SAA8B7vB,GAAM,IACpB2H,EAAW3H,EAAvB4E,UAAY+C,MAanB,OAXgBa,OAAOC,KAAKd,GAAO6R,QAAO,SAACC,EAAK1Y,GAC5C,IAOMof,EAPa,CACf7C,KAAM8C,GACNrI,OAAQsI,GACRvI,UAAWwI,GACXnI,MAAOoI,GACPM,YAAa,IAEO9f,GACxB,OAAO,2BAAI0Y,GAAX,kBAAgB1Y,EAAOgc,GAAiBoD,OACzC,IwCoEcgQ,CAAqBD,GAChCR,EAAYvqB,cAAIqD,OAAOC,KAAKonB,IAAW,SAAAttB,GACzC,MAAO,CAACqF,MAAOrF,EAAKyG,MAAOzG,MAEzBuL,EAAgB,CAAEsiB,WAAW,EAAOvoB,SAAU,EAAGwoB,cAAeR,EAAQ,KAAS,GAAIxS,SAAUoB,eAAKiR,EAAW,CAAC9nB,MAAO,SAAWT,OAAQ+oB,GAR7H,EASStS,IAAMtP,SAASR,GATxB,mBASZrK,EATY,KASJwhB,EATI,OAUyBrH,IAAMtP,SAASuhB,EAAQ,MAVhD,mBAUZF,EAVY,KAUIC,EAVJ,OD5EO,SAAC5vB,EAAMe,GAAU,IAAD,EACRoc,GAAYnd,EAAMe,GADV,mBAClB4G,GADkB,WAEpC2oB,EAAmBtwB,EAAK4E,UAAU+C,MAAM5G,GAFJ,4CAG1C,0CAAAkB,EAAA,6DAA2B8D,EAA3B,+BAAqC,CAAC,YAC5B4C,EADV,eAC0B2nB,GACtB7rB,kBAAQsB,GAAS,SAAAE,GAAW,IAAD,EACYA,EAAO0U,MAAM,KADzB,mBAChB4V,EADgB,KACAlZ,EADA,KAEjBxP,EAAWuP,OAAOmZ,GAClBC,EAAS,2BAAQ7oB,EAAM0P,IAAd,IAAyBxP,aAClC4oB,EAA2BH,EAAiBjZ,GAIlD,GAAIoZ,EAA0B,CAC1B,IAAIC,EAAcD,EAAyB5oB,SACvCA,EAAW,IAAG6oB,GAAeF,EAAU3oB,UACvCA,EAAW,IACX6oB,GAAeF,EAAU3oB,UAEzB6oB,EAAc,IACdA,EAAc,GAElBD,EAAyB5oB,SAAW6oB,OAGpC/nB,EAAS0O,GAAYmZ,KAtBjC,SA0BUxoB,EAAkBhI,EAAM2I,EAAU5H,GA1B5C,OA2BIF,EAAc,CAACE,KAAM,UAAWC,QAAQ,sBAAD,OAAwBhB,EAAKiD,YAA7B,YA3B3C,4CAH0C,sBAiC1C,MAAO,CAjCmC,4CCuFpB0tB,CAAeltB,EAAO0D,OAAQ1D,EAAO4Z,SAASzV,OAA7DgpB,EAXY,sBDlGhB,SAA6B7vB,GAAM,IAClCD,EAAY2tB,KAAZ3tB,QADiC,4CAEzC,WAAgC2C,GAAhC,qBAAAxB,EAAA,6DAC2BmF,EAAkB3D,EAAjC4sB,cAAqBxoB,EAAYpE,EAAZoE,SACvBc,EAAW,GACXzD,EAAWC,cAAIrE,GAAS,SAAA4d,GAC1B,IAAMmS,EAAS,eAAOnS,GAClBoS,EAAeD,EAAUjsB,UAAU+C,MAAM5G,GAAMqG,EAAKQ,OAQxD,OAPGkpB,EACCA,EAAajpB,UAAYA,EAEzBgpB,EAAUjsB,UAAU+C,MAAM5G,GAAMqG,EAAKQ,OAArC,2BAAkDR,GAAlD,IAAwDS,aAG5Dc,EAASI,KAAK8nB,EAAUjsB,UAAU+C,OAC3BkpB,KAbf,SAgBUhrB,EAAY,kBAAmBX,EAAUyD,GAhBnD,4CAFyC,sBAoBzC,MAAO,CApBkC,6CC8GVooB,CAAoBttB,EAAO4Z,SAASzV,OAAxDopB,EAZY,gEAcpB,WAA4BvtB,EAAQyhB,GAApC,eAAAjjB,EAAA,yDACWgvB,EADX,UAC0BxtB,EAAOoE,SADjC,YAC6CpE,EAAO4sB,cAAczoB,QAC1DnE,EAAO2sB,UAFf,gCAGeY,EAAiBvtB,GAHhC,6CAIiBmtB,EAAY,CAACK,IAJ9B,OAMK/L,EAAOgM,YANZ,4CAdoB,sBAuBnB,OACI,eAAC,KAAD,CACIjnB,MAAOA,GACPmD,eAAgB,SAAC3J,GAAD,OAAUwhB,EAAUxhB,IACpC4J,UAAW2a,GAAU,CAAC2H,iBAAeC,oBAAmB9uB,UAAS4uB,YAAWG,aAC5E/hB,cAAeA,EACfC,aA7BW,iDCTRojB,GA1Ba,WACEhsB,cAAI,CAAC,QAAS,cAAc,SAAApE,GAAI,MAAG,CAAC6G,MAAM7G,EAAMiI,MAAOjI,MAAjF,IA9De,EA+DC8c,EAAW4Q,KAApB3tB,QAIDswB,GAHcjsB,cAAIqD,OAAOC,KAAK+M,KAAY,SAAAkE,GAC5C,OAAO,2BAAIlE,GAAUkE,IAArB,IAA4B1Q,MAAOwM,GAAUkE,GAAM9R,WAEhC2U,eAAKsL,GAAwB,CAAC,YAAa,QAAS,WAAY,QAAS,aAAc,QAAS,WACxF1iB,cAAKqD,OAAOC,KAAK2oB,IAAkB,SAAA1X,GAC9D,MAAO,CAAC9R,MAAO8R,EAAM1Q,MAAO0Q,MAQhC,OACI,eAAC,KAAD,CACIzP,MAAOA,GACPoD,WAhFO,EAgFc,CAACvM,QAAS+c,GA/E/B,CACJvQ,KAAM,CACF,CACIC,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACP9G,QAXK,EAAbA,YAiBR,CACIyM,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,OACJC,KAAM,OACN3M,KAAM,OACN6G,MAAO,WAMvB,CACI2F,KAAM,CACF,CACIC,MAAO,CACHC,GAAI,gBACJC,KAAM,gBACN3M,KAAM,OACN6G,MAAO,qBAOvB,CACI2F,KAAM,CACF,CACIP,MAAO,CAAEnB,QAAS,OAAQoB,eAAgB,YAC1CU,OAAQ,CACJF,GAAI,SACJC,KAAM,SACN3M,KAAM,SACN6G,MAAO,SACPiG,UAAU,SA4B1BC,cAAe,CAAEhJ,KAAM,GAAIC,cAAe,GAAIoC,OAAQ0W,EAAQ,IAC9D9P,aATR,SAAsBtK,EAAQyhB,GAC1BmM,OAAOC,MAAMC,KAAKC,UAAU/tB,IAC5ByhB,EAAOgM,gBCrET1lB,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCwnB,UAAW,CACTpxB,SAAU,WACV,2DAA4D,CAC1D0gB,OAAQ9W,EAAM2B,QAAQ,GACtB8lB,MAAOznB,EAAM2B,QAAQ,IAEvB,8DAA+D,CAC7DgH,IAAK3I,EAAM2B,QAAQ,GACnB+lB,KAAM1nB,EAAM2B,QAAQ,SAKpBgmB,GAAU,CACd,CAAE/V,KAAM,eAAC,KAAD,IAAkBnO,KAAM,QAChC,CAAEmO,KAAM,eAAC,KAAD,IAAcnO,KAAM,QAC5B,CAAEmO,KAAM,eAAC,KAAD,IAAenO,KAAM,oBAC7B,CAAEmO,KAAM,eAAC,KAAD,IAAenO,KAAM,cAC7B,CAAEmO,KAAM,eAAC,KAAD,IAAkBnO,KAAM,SAenB,SAASmkB,KACtB,IAAMhlB,EAAUrB,KADkB,EAEVoS,IAAMtP,UAAS,GAFL,mBAE3B8N,EAF2B,KAErByG,EAFqB,OAGEjF,IAAMtP,UAAS,GAHjB,mBAG3BwjB,EAH2B,KAGfC,EAHe,KAgBlC,IAAMC,EAAgB,CACpBC,KAAM,eAAC,GAAD,IACNC,KAAM,eAAC,GAAD,IACN,mBAAoB,eAAC,GAAD,IACpBC,WAAY,+CAEd,OACE,uCACI,eAACC,GAAA,EAAD,CACEC,UAAU,oBACVllB,UAAWN,EAAQ4kB,UACnB5V,KAAM,eAACyW,GAAA,EAAD,IACN7V,QAvBY,WAClBoG,GAAQ,IAuBF0P,OApBW,WACjB1P,GAAQ,IAoBFzG,KAAMA,EACNkH,UAAW,KAPb,SASGsO,GAAQzsB,KAAI,SAACqtB,GAAD,OACX,eAACC,GAAA,EAAD,CAEE5W,KAAM2W,EAAO3W,KACb6W,aAAcF,EAAO9kB,KACrBS,QAAS,kBAAI4jB,EAAcS,EAAO9kB,QAH7B8kB,EAAO9kB,WAOlB,gBAAC8O,GAAA,EAAD,CACAJ,UAAoCxb,IAA9BoxB,EAAcF,GACpBrV,QAhCN,WACEsV,EAAc,KA6BV,UAIA,eAACrV,GAAA,EAAD,CAAajP,GAAIqkB,IACjB,eAACnV,GAAA,EAAD,UACEqV,EAAcF,W,gECrFTa,GARU,SAAC,GAAyB,IAAxB1nB,EAAuB,EAAvBA,SAAU8S,EAAa,EAAbA,QAEjC,OAD0B1P,cAAlBpO,eACY8d,EACT,eAAC6U,GAAA,EAAD,UAAW3nB,IAEfA,GCOLO,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvCmL,KAAM,CACJlJ,OAAQ,QAEVR,MAAO,CACLM,MAAO,IACPoF,OAAQ,IACRsD,SAAU,QAEZgP,OAAQ,CACNxX,OAAQjC,EAAM2B,QAAQ,GAAK,QAI/B,SAASinB,GAAI5wB,EAAG6wB,GACd,OAAO7wB,EAAEic,QAAO,SAAClV,GAAD,OAAiC,IAAtB8pB,EAAEC,QAAQ/pB,MAGvC,SAASgqB,GAAa/wB,EAAG6wB,GACvB,OAAO7wB,EAAEic,QAAO,SAAClV,GAAD,OAAiC,IAAtB8pB,EAAEC,QAAQ/pB,MAQxB,SAASiqB,GAAT,GAAsC,IAAjBjzB,EAAgB,EAAhBA,KAAM6d,EAAU,EAAVA,QAAU,EALpD,SAAyBqV,EAAYrV,GACjC,IAAM+I,EAASsM,GAA0B,GAEzC,MAAO,CADYhV,iBAAOL,GAAS,SAAA1W,GAAM,OAAGsX,eAAKyU,EAAY,CAACxlB,KAAMvG,EAAOuG,UACxDkZ,GAGmBuM,CAAgBnzB,EAAK4E,UAAUgiB,OAAQ/I,GAD7B,mBAC7CuV,EAD6C,KAC3BC,EAD2B,KAE5CxmB,EAAUrB,KAFkC,EAGpBoS,IAAMtP,UAAS,GAHK,mBAG3CyP,EAH2C,KAGlCC,EAHkC,OAIpBJ,IAAMtP,SAAS,IAJK,mBAI3CglB,EAJ2C,KAIlCC,EAJkC,OAKrB3V,IAAMtP,SAAS8kB,GALM,mBAK3CI,EAL2C,KAKhCC,EALgC,OAMvB7V,IAAMtP,SAAS+kB,GANQ,mBAM3CzM,EAN2C,KAMnC8M,EANmC,KAO5CC,EAAcX,GAAaM,EAASE,GACpCI,EAAeZ,GAAaM,EAAS1M,GAErCiN,EAAe,SAAC7qB,GAAD,OAAW,WAC9B,IAAM8qB,EAAeR,EAAQP,QAAQ/pB,GAC/B+qB,EAAU,aAAOT,IAED,IAAlBQ,EACFC,EAAWhrB,KAAKC,GAEhB+qB,EAAWvH,OAAOsH,EAAc,GAGlCP,EAAWQ,KAyBPC,EAAa,SAACrsB,GAAD,OACjB,eAACssB,GAAA,EAAD,CAAO9mB,UAAWN,EAAQnB,MAA1B,SACE,gBAAC6X,GAAA,EAAD,CAAM2Q,OAAK,EAAC9oB,UAAU,MAAMoU,KAAK,OAAjC,UACGra,cAAIwC,GAAO,SAACqB,EAAOhD,GAAO,IACf0H,EAAS1E,EAAT0E,KACJymB,EAAO,6BAAyBzmB,EAAzB,UAEb,OACE,gBAAC+V,GAAA,EAAD,CAAkBjE,KAAK,WAAWkE,QAAM,EAACvV,QAAS0lB,EAAa7qB,GAA/D,UACE,eAAC2a,GAAA,EAAD,UACE,eAACyQ,GAAA,EAAD,CACEd,SAAqC,IAA5BA,EAAQP,QAAQ/pB,GACzBqrB,UAAW,EACXC,eAAa,EACbC,WAAY,CAAE,kBAAmBJ,OAGrC,eAACpQ,GAAA,EAAD,CAActW,GAAI0mB,EAAS/pB,QAASsD,MATvB1H,MAanB,eAACyd,GAAA,EAAD,UAlE4C,4CAuElD,4BAAAxhB,EAAA,6DACE+b,GAAW,GACPwW,EAAY,KACb5N,EAAO5hB,SACNwvB,EAAYrvB,cAAIyhB,GAAQ,SAAA3O,GACpB,MAAO,CAAEvK,KAAMuK,EAAQvK,UALjC,SAQO3G,EAAgB/G,EAAK,CAAC,mBAAoBw0B,IAAY,GAR7D,OASCxW,GAAW,GATZ,4CAvEkD,sBAmFlD,OACE,eAAC,GAAD,CAAkBD,QAASA,EAA3B,SACA,gBAAC/P,GAAA,EAAD,CAAOC,WAAS,EAACrC,QAAS,EAAG6oB,QAAQ,SAAS1oB,WAAW,SAASoB,UAAWN,EAAQuI,KAArF,UACE,gBAACpH,GAAA,EAAD,CAAM5G,MAAI,EAAV,UACI,eAACoD,GAAA,EAAD,0BACA,eAACkR,GAAA,EAAD,IACCsY,EAAWR,MAEhB,eAACxlB,GAAA,EAAD,CAAM5G,MAAI,EAAV,SACE,gBAAC4G,GAAA,EAAD,CAAMC,WAAS,EAACqV,UAAU,SAASvX,WAAW,SAA9C,UACE,eAAC4B,GAAA,EAAD,CACElD,QAAQ,WACRiqB,KAAK,QACLvnB,UAAWN,EAAQ6W,OACnBvV,QA1Ea,WACrBulB,EAAS9M,EAAO+N,OAAOnB,IACvBC,EAAQ,KAyEA5lB,SAA+B,IAArB2lB,EAAUxuB,OACpB2b,aAAW,kBANb,oBAUA,eAAChT,GAAA,EAAD,CACElD,QAAQ,WACRiqB,KAAK,QACLvnB,UAAWN,EAAQ6W,OACnBvV,QA/EiB,WACzBulB,EAAS9M,EAAO+N,OAAOhB,IACvBF,EAAQZ,GAAIW,EAAWG,IACvBJ,EAAWV,GAAIS,EAASK,KA6EhB9lB,SAAiC,IAAvB8lB,EAAY3uB,OACtB2b,aAAW,uBANb,eAUA,eAAChT,GAAA,EAAD,CACElD,QAAQ,WACRiqB,KAAK,QACLvnB,UAAWN,EAAQ6W,OACnBvV,QAnFgB,WACxBslB,EAAQD,EAAUmB,OAAOf,IACzBF,EAASb,GAAIjM,EAAQgN,IACrBL,EAAWV,GAAIS,EAASM,KAiFhB/lB,SAAkC,IAAxB+lB,EAAa5uB,OACvB2b,aAAW,0BANb,eAUA,eAAChT,GAAA,EAAD,CACElD,QAAQ,WACRiqB,KAAK,QACLvnB,UAAWN,EAAQ6W,OACnBvV,QAvFY,WACpBslB,EAAQD,EAAUmB,OAAO/N,IACzB8M,EAAS,KAsFD7lB,SAA4B,IAAlB+Y,EAAO5hB,OACjB2b,aAAW,qBANb,oBAUA,eAAChT,GAAA,EAAD,CACElD,QAAQ,WACRiqB,KAAK,QACLvnB,UAAWN,EAAQ6W,OACnBvV,QAzIwC,2CA0IxCwS,aAAW,yBALb,sBAWJ,gBAAC3S,GAAA,EAAD,CAAM5G,MAAI,EAAV,UACA,eAACoD,GAAA,EAAD,sBACA,eAACkR,GAAA,EAAD,IACKsY,EAAWpN,WClLtB,IAAMpb,GAAYC,aAAW,CAC3B2J,KAAM,CACJtB,SAAU,OAIC,SAAS8gB,GAAT,GAAwC,IAAlB50B,EAAiB,EAAjBA,KAAM6d,EAAW,EAAXA,QACjCjZ,EAAc5E,EAAd4E,UACFsO,EAAQ2G,GAAajV,EAAUsO,OAC/BrG,EAAUrB,KACRgQ,EAAgD5W,EAAhD4W,IAAK9N,EAA2C9I,EAA3C8I,KAAM6N,EAAqC3W,EAArC2W,MAAOzR,EAA8BlF,EAA9BkF,IAAKrC,EAAyB7C,EAAzB6C,GAAIF,EAAqB3C,EAArB2C,MAAOG,EAAc9C,EAAd8C,GAAIF,EAAU5C,EAAV4C,MAC9C,OAAK5C,EAAU8I,KAEb,eAAC,KAAD,CAAMP,UAAWN,EAAQuI,KAAzB,SACE,gBAACkG,GAAA,EAAD,CAAatO,MAAO,CAAEkH,UAAW,UAAjC,UACE,gBAAC1J,GAAA,EAAD,CAAYsI,SAAU,GAAIpI,MAAM,gBAAgBmqB,cAAY,EAA5D,UACGnnB,EADH,YACkB6N,KAElB,gBAACuZ,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,UACE,eAACvqB,GAAA,EAAD,CAAYG,MAAM,SAAlB,8BAEF,eAACqqB,GAAA,EAAD,UACE,gBAACxqB,GAAA,EAAD,CAAYsI,SAAU,GAAIpI,MAAM,gBAAgBmqB,cAAY,EAA5D,iBACOptB,EADP,IACYF,EACV,wBAAMyF,MAAO,CAAE6F,WAAY,OAA3B,kBAA0CnL,EAA1C,IAA+CF,UAInD,eAACwtB,GAAA,EAAD,UACE,gBAACxqB,GAAA,EAAD,CAAYsI,SAAU,GAAIpI,MAAM,gBAAgBmqB,cAAY,EAA5D,yBACe/qB,OAGjB,eAACkrB,GAAA,EAAD,UACE,gBAACxqB,GAAA,EAAD,CAAYsI,SAAU,GAAIpI,MAAM,gBAAgBmqB,cAAY,EAA5D,UACGrZ,EADH,eAOJ,gBAACsZ,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,UACE,eAACvqB,GAAA,EAAD,CAAYG,MAAM,SAAlB,qBAGF,eAACqqB,GAAA,EAAD,UACE,eAAChnB,GAAA,EAAD,CAAMC,WAAS,EAAf,SACG9I,cAAIqD,OAAOC,KAAKyK,IAAQ,SAACwG,EAAM1T,GAC9B,IAAM2T,EAAOzG,EAAMwG,GACfiC,EAAW,UAAMhC,EAAK/R,MAAM4H,cAAjB,aAAmCmK,EAAKhE,QAIvD,OAHIgE,EAAKC,UAAY,IACnB+B,GAAyB,YAAQhC,EAAKC,YAEhC,eAAC5L,GAAA,EAAD,CAAc5G,MAAI,EAAC8G,GAAI,EAAvB,SAA0B,eAAC1D,GAAA,EAAD,UAAamR,KAA5B3V,aAK3B,eAACgI,GAAA,EAAD,CAAMC,WAAS,EAAf,SACE,eAACglB,GAAD,CAAYjzB,KAAMA,EAAM6d,QAASA,WAlDb,K,yBCvBjBoX,GAAe,CACxB,CAAEhkB,MAAO,OAAQzE,MAAO,QACxB,CAAEyE,MAAO,KAAMzE,MAAO,KAAMzL,KAAM,WAClC,CAAEkQ,MAAO,SAAUzE,MAAO,QAASzL,KAAM,WACzC,CAAEkQ,MAAO,KAAMzE,MAAO,KAAMzL,KAAM,WAClC,CAAEkQ,MAAO,SAAUzE,MAAO,QAASzL,KAAM,YCI9B,SAASm0B,GAAT,GAA8C,IAAD,IAAvB/0B,cAAuB,MAAhB,CAACqJ,SAAS,IAAM,IAErC6E,cAAbnO,aAFkD,MAE5C,GAF4C,EAIpDi1B,EAAehwB,cAAI,GAAD,oBAAKhF,EAAOqJ,UAAZ,aAAyBtJ,KAAQ,SAAAk1B,GACvD,OAAGA,EAAYxwB,UAAiBwwB,EAAYxwB,UACrCwwB,KANiD,EAQ1B9mB,mBAAS2mB,IARiB,mBAQjDI,EARiD,aAShC/mB,mBAAS6mB,IATuB,mBASjDxwB,EATiD,KAS3C2wB,EAT2C,cAW3CC,EAX2C,8EAW1D,yCAAAtzB,EAAA,yDAAkCuzB,EAAlC,EAAkCA,QAASC,EAA3C,EAA2CA,SACtCD,EAAQvkB,MADb,mBAEUjR,EAAOye,eAAKve,EAAO,CAAC+C,YAAauyB,EAAQ9nB,OAFnD,KAGI1N,GAHJ,qCAGkB+G,EAAgB/G,EAAK,CAAC,UAAaw1B,IAAU,GAH/D,iCAMQE,GAAW,EACTzI,EAAc9nB,cAAIhF,EAAOqJ,UAAU,SAAAyO,GACvC,IAAI0d,EAAS1d,EAKb,OAJGud,EAAQ9nB,OAASuK,EAAQvK,OAC1BioB,EAASH,EACTE,GAAU,GAELC,KAbb,KAeID,GAfJ,uCAesBnsB,EAAe0jB,GAfrC,QAmBQ2I,EAnBR,aAmByBjxB,GACjB8W,EAAQga,EAAQI,UAAUpoB,GAChCmoB,EAAWna,GAAS+Z,EACpBF,EAAQ,aAAIM,IAtBd,6CAX0D,kEAoC1D,sBAAA3zB,EAAA,sEACQyH,GAAgBxJ,EAAOC,EAAOwJ,SADtC,4CApC0D,sBA0CxD,OAHA6O,qBAAU,WACR8c,EAAQH,KACP,CAACh1B,IACAA,EAAOqJ,SAASxE,OAElB,iCACA,eAAC,KAAD,CACEiM,MAAM,eACNokB,QAASA,EACT1wB,KAAMA,EACN7D,QAAS,CAACg1B,SAAU,GAAIC,cAAe,KACvCC,SAAU,CAERC,YAAY,WAAD,4BAAE,WAAMT,EAASC,GAAf,SAAAxzB,EAAA,+EAAyBszB,EAAkB,CAACC,UAASC,aAArD,2CAAF,qDAAC,MAGhB,eAAC9nB,GAAA,EAAD,CAAQC,WAAS,EAACO,QAvDoC,2CAuDtD,4BAbgC,KC3CtC,IAAM3C,GAAYC,aAAW,CACzBwC,UAAW,GAGX4F,KAAM,CACFC,SAAU,IACVpC,UAAW,IACX3C,QAAS,UAuCFmnB,GApCU,WACrB,IAAMrpB,EAAUrB,KACV2qB,EAAgBpZ,GAAiBiK,IAAS,GAFrB,EAGCpJ,IAAMtP,SAAS6nB,EAAc,GAAGvuB,OAHjC,mBAGpBzH,EAHoB,KAGZi2B,EAHY,iDAO3B,4BAAAn0B,EAAA,6DACUo0B,EAAarP,GAAQ7mB,GAD/B,SAEUgJ,EAAYktB,GAFtB,4CAP2B,sBAW3B,OACI,gBAACroB,GAAA,EAAD,CAAM5G,MAAI,EAAC+F,UAAWN,EAAQoB,UAA9B,UACP,eAAC,KAAD,CAAMd,UAAWN,EAAQgH,KAAzB,SACY,eAACwK,GAAA,EAAD,CACH5Q,GAAG,SACH6Q,QAAM,EACN1W,MAAM,UACNoB,MAAO7I,EACPoe,SAfN,SAAsBlZ,GAClB+wB,EAAU/wB,EAAE8B,OAAO6B,QAejB4E,WAAS,EANN,SAQFzI,cAAIgxB,GAAe,SAACzX,GAAD,OAClB,eAACC,GAAA,EAAD,CAA6B3V,MAAO0V,EAAO1V,MAA3C,SACG0V,EAAO9W,OADK8W,EAAO1V,cAO1B,eAAC2E,GAAA,EAAD,CAAQQ,QA9Be,2CA8BvB,8BCTOmoB,GA9BA,WAAO,IAAD,EACSzP,KADT,mBACV1mB,EADU,KACF4d,EADE,KAET7d,EAAUmO,cAAVnO,MAER,OAAG6d,EAAe,KAEV,gBAAC/P,GAAA,EAAD,CAAMymB,QAAQ,SAAS7oB,QAAS,EAAGqC,WAAS,EAA5C,WACA9N,GAAU,eAAC,GAAD,IACNA,GAAW,uCACX,eAAC6N,GAAA,EAAD,CAAMhB,MAAO,CAACsM,UAAW,OAAQ5E,SAAU,UAAWtN,MAAI,EAAC8G,GAAI,GAAI4K,GAAI,EAAvE,SAEI3T,cAAIjF,GAAO,SAACF,EAAMgG,GACd,OAEA,eAACgI,GAAA,EAAD,CAAMhB,MAAO,CAACyE,aAAc,QAAiBrK,MAAI,EAAC8G,GAAI,GAAtD,SACA,eAAC0mB,GAAD,CAAY/W,QAAS1d,EAAOqJ,SAAWxJ,KAAMA,KADHgG,QAQlD,eAACgI,GAAA,EAAD,CAAM5G,MAAI,EAAC8G,GAAI,GAAI4K,GAAI,EAAvB,SACI,eAACoc,GAAD,CAAa/0B,OAAQA,aCsC1Bo2B,GAtDA,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAET7pB,GADUnB,KACAoB,eAFW,EAGqByB,cAAtCnO,EAHiB,EAGjBA,MAAOC,EAHU,EAGVA,OAAQ+D,EAHE,EAGFA,mBAHE,EAIC0Z,IAAMtP,SAAS,GAJhB,mBAIlBtF,EAJkB,KAIXiX,EAJW,iDASzB,4BAAAhe,EAAA,sEACwB2G,IADxB,OACU1I,EADV,OAEIgE,EAAmB,CAAEhE,UAFzB,4CATyB,sBAyBzB,OARA0d,IAAMpF,WAAU,YAjBS,mCAkBrBie,KACD,IAEH7Y,IAAMpF,WAAU,WACdvU,EAASC,EAAoBsyB,EAAQt2B,GACrCsF,EAAWtB,EAAoBhE,EAAOC,MAGpC,iCACF,eAAC2iB,GAAA,EAAD,CAAQziB,SAAS,SAAjB,SACE,uBAAK2M,MAAO,CAACnB,QAAS,OAAQoB,eAAgB,iBAA9C,UACA,gBAACwT,GAAA,EAAD,CAAMzX,MAAOA,EAAOuV,SAvBH,SAACmY,EAAGhW,GACvBT,EAASS,IAsBqCC,aAAW,sBAAvD,UACE,eAACC,GAAA,EAAD,aAAKhZ,MAAM,SAAY+uB,GAAU,KACjC,eAAC/V,GAAA,EAAD,aAAKhZ,MAAM,UAAa+uB,GAAU,KAClC,eAAC/V,GAAA,EAAD,aAAKhZ,MAAM,cAAiB+uB,GAAU,QAExC,eAAC1T,GAAA,EAAD,CAAY9U,QArBhB,WACEnK,IACA2I,EAAQG,QAAQ,aAmBuBpC,MAAM,UAAUiW,aAAW,UAAhE,SACF,eAAC,KAAD,WAIA,eAAC,GAAD,CAAU3X,MAAOA,EAAOyS,MAAO,EAA/B,SACE,eAAC,GAAD,MAEF,eAAC,GAAD,CAAUzS,MAAOA,EAAOyS,MAAO,EAA/B,SACC,eAAC,GAAD,MAED,eAAC,GAAD,CAAUzS,MAAOA,EAAOyS,MAAO,EAA/B,yBAGA,OAALvb,QAAK,IAALA,OAAA,EAAAA,EAAO8E,QAAS,GAAK,eAAC6sB,GAAD,QAOhBrmB,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACvC0kB,SAAU,CACRla,OAAQxK,EAAMwK,OAAOyM,OAAS,IAC9BxW,MAAO,YAIX,SAAS4U,GAASzQ,GAAQ,IAChB5D,EAAqC4D,EAArC5D,SAAUjC,EAA2B6F,EAA3B7F,MAAOyS,EAAoB5M,EAApB4M,MAAU8D,EADZ,aACsB1Q,EADtB,8BAGvB,OACE,8CACE2Q,KAAK,WACLC,OAAQzW,IAAUyS,EAClBhO,GAAE,0BAAqBgO,GACvBiE,kBAAA,qBAA+BjE,IAC3B8D,GALN,aAOGvW,IAAUyS,GACT,eAACnQ,GAAA,EAAD,CAAKqU,EAAG,EAAR,SACG1U,OAQX,SAAS0rB,GAAUlb,GACjB,MAAO,CACLhO,GAAG,cAAD,OAAgBgO,GAClB,gBAAgB,mBAAhB,OAAoCA,ICjGxC,IAWemb,GAXQ,SAAC,GAAc,IAAbJ,EAAY,EAAZA,OACrB,OACI,eAAC,IAAD,CAAsBK,YAAa,CAAC32B,MAAO,GAAID,eAAe,EAAOE,OAAQ,MAA7E,SACA,eAAC6K,GAAD,CAAWE,SAAS,KAApB,SACD,eAAC,GAAD,CAAQsrB,OAAQA,SCAVM,GAAe,SAAC,GAA2B,IAAzB7rB,EAAwB,EAAxBA,SAAa6D,EAAW,+BACrBT,cAAxBrO,EAD6C,EAC7CA,KAAMC,EADuC,EACvCA,cACR0M,EAAUC,cACVmqB,IAAe/2B,EAAK8C,IAiB1B,OALA8a,IAAMpF,WAAU,WACXvY,GAZL,WACE,IAAIwO,EAAQ,KACTzO,EAAK8I,GACN2F,EAAQ,MAEFsoB,IAAiB/2B,EAAK4E,YAC5B6J,EAAQ,WAEVA,GAAS9B,EAAQG,QAAQ2B,GAKzBuoB,KACC,CAAC/2B,IAGJ,eAAC,IAAD,2BACM6O,GADN,IAEEmoB,OAAQ,WACN,OAAGj3B,EAAK8I,GAAU,eAAC,GAAD,CAAgB0tB,OAAQx2B,IAClC+2B,GAAgB/2B,EAAK4E,UAAiBqG,EACtC8rB,IAAiB/2B,EAAK4E,UAAiB,eAAColB,GAAD,IACtC+M,OAAJ,EAAwB,eAAC3oB,GAAD,SCvBpB,SAAS8oB,KAAa,IAAD,EACG7oB,cAA7BrO,EAD0B,EAC1BA,KAAMkE,EADoB,EACpBA,mBADoB,EAEEoK,oBAAS,GAFX,mBAE3B6oB,EAF2B,KAEfC,EAFe,KAiBlC,OAdA5e,qBAAU,WACRpX,EAAKi2B,mBAAL,+BAAAp1B,EAAA,MAAwB,WAAOq1B,GAAP,eAAAr1B,EAAA,sEACHS,EAAqB40B,GADlB,gDAC+B,GAD/B,OAChBt3B,EADgB,KAEtBkE,EAAmB,CAAElE,SACrBo3B,GAAc,GAHQ,2CAAxB,yDAKC,IAEH5e,qBAAU,WACJ2e,IACJ3xB,EAAWtB,GACXD,EAASC,EAAoBlE,OAG3Bm3B,EAAmB,KAErB,qCACE,eAAC,IAAD,CAAQI,SAAS,gBAAjB,SACE,gBAAC,IAAD,WAGE,eAAC,GAAD,CAAczxB,KAAK,UAAnB,SACA,eAACyc,GAAD,UACI,eAAC,GAAD,QAGJ,eAAC,GAAD,CAAczc,KAAK,IAAI0xB,OAAK,EAA5B,SACE,eAACjV,GAAD,UACE,eAAC,GAAD,QAGJ,eAAC,GAAD,CAAczc,KAAK,aAAnB,SACE,eAACyc,GAAD,UACE,eAAC,GAAD,QAKJ,eAAC,IAAD,CAAOzc,KAAK,UAAZ,SACE,eAACkkB,GAAD,MAEDhqB,EAAK4E,WAAa,eAAC,GAAD,UACjB,eAAC2d,GAAD,UACA,eAAC,GAAD,QAGF,eAAC,IAAD,CAAOzc,KAAK,WAAZ,SACE,eAACsI,GAAD,MAEDpO,EAAK8I,IAAM,eAAC,IAAD,CAAOhD,KAAK,MAAZ,SACV,eAAC,GAAD,CAAgB0wB,OAAQx2B,MAE1B,eAAC,IAAD,UACE,eAACoO,GAAD,aC5DZ,IAAM5C,GAAYC,cAAW,SAACxB,GAAD,MAAY,CACrC0kB,SAAU,CACRla,OAAQxK,EAAMwK,OAAOyM,OAAS,IAC9BxW,MAAO,YAaE+sB,GAVM,WACjB,IAAM5qB,EAAUrB,KACRvL,EAAkBoO,cAAlBpO,cACR,OACI,eAACsvB,GAAA,EAAD,CAAUpiB,UAAWN,EAAQ8hB,SAAUvS,KAAMnc,EAA7C,SACR,eAACuvB,GAAA,EAAD,CAAkB9kB,MAAM,e,OCCTgtB,OAZf,WACE,OACE,gBAAC,IAAD,CAAsBb,YAAa92B,EAAnC,UACE,gBAAC43B,EAAA,EAAD,CAAe1tB,MAAOA,GAAtB,UACA,eAACitB,GAAD,IACA,eAAC,IAAD,OAEA,eAAC,GAAD,QCJSU,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCFdQ,IAASpB,OACL,eAAC,GAAD,IACFqB,SAASC,eAAe,SAM1BX,O","file":"static/js/main.2ee555e2.chunk.js","sourcesContent":["export const globalStateConfig = {\n    user: null,\n    globalLoading: false,\n    users: [],\n    battle: {}\n}","import { toast } from 'react-toastify';\nconst defaultOptions = {\n    position: \"top-center\",\n    autoClose: 3000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n}\nexport function launchToaster({options=defaultOptions, type='dark', content=''}){\n    return toast[type](content, options)\n}\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\nimport { launchToaster } from \"../core/toaster\";\nimport { cloneDeep, forEach, isEqual, map } from \"lodash\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBuehaOKFHvHfNbcfwSy2SNnO_iURlxl6k\",\n  authDomain: \"dnd-story-assistant.firebaseapp.com\",\n  databaseURL: \"https://dnd-story-assistant.firebaseio.com\",\n  projectId: \"dnd-story-assistant\",\n  storageBucket: \"dnd-story-assistant.appspot.com\",\n  messagingSenderId: \"783675104937\",\n  appId: \"1:783675104937:web:d762c685d9708b3b21d3b8\",\n  measurementId: \"G-BE6J3N57ET\"\n};\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n/******************************** Core *********************************/\n\nexport const signInWithGoogle = async () => {\n const { additionalUserInfo: {profile: {email}}} = await auth.signInWithPopup(provider)\n const user = await findUser({key: 'email', comparison: '==', equals: email})\n return user\n};\n\nexport const generateUserDocument = async (user, additionalData) => {\n  if (!user) return {};\n  const userRef = firestore.doc(`users/${user.uid}`);\n  const snapshot = await userRef.get();\n  if (!snapshot.exists) {\n    const { email, displayName, photoURL } = user;\n    try {\n      const userForCloudStore = { displayName, email, photoURL, uid: user.uid, ...additionalData }\n      await userRef.set(userForCloudStore);\n    } catch (error) {\n      console.error(\"Error creating user document\", error);\n    }\n  }\n  return getUserDocument(user.uid);\n};\n\nexport const createUserWithEmailAndPasswordHandler = async (values = { email: '', password: '', displayName: '' }) => {\n  let newUser = null\n  const { email, password, displayName } = values\n  try {\n    const { user } = await auth.createUserWithEmailAndPassword(email, password);\n    newUser = await generateUserDocument(user, { displayName, email });\n  }\n  catch (error) {\n    console.error('Error Signing up with email and password');\n  }\n  return newUser\n};\n\nexport const signInWithEmailAndPasswordHandler = async (email, password) => {\n  await auth.signInWithEmailAndPassword(email, password).catch(error => {\n    console.error(\"Error signing in with password and email\", error);\n  });\n  const user = await findUser({key: 'email', comparison: '==', equals: email})\n\n  return user\n};\n\nexport const signOut = async () => {\n  await auth.signOut()\n};\n\nexport const observer = async(updateContextState, currentUser, users) => {\n  const batch = await firestore.batch();\n\n  // Listens for user\n  firestore.collection('users').onSnapshot(querySnapshot => {\n    querySnapshot.docChanges().forEach(async(change) => {\n      try{\n        const user = change.doc.data()\n        const userRef =  firestore.collection('users').doc(user.uid)\n  \n        if (change.type === 'added') {\n  \n        }\n  \n        if (change.type === 'modified') {\n          const { hint, innerThoughts } = user.character?.dmMessage || {hint: '', innerThoughts: ''}\n          if(currentUser.uid === user.uid){\n            if(hint?.length > 0){\n              launchToaster({type: 'info', content: `  ${hint}`})\n            }\n            if(innerThoughts?.length > 0){\n              launchToaster({type: 'warning', content: ` ${innerThoughts}`})\n            }\n            updateContextState({ user: {...user, hint: null, innerThoughts: null} })\n            // TODO: run only once\n            // batch.update(userRef, {'character.dmMessage': {hint: null, innerThoughts: null}});\n          }\n          if(users){\n            let updateUsers = false\n            const newUsers = map(users, oldUser=>{\n              if(oldUser.uid === user.uid){\n                updateUsers = true\n                return {...oldUser, character: user.character}\n              }\n              return oldUser\n            })\n            updateUsers && updateContextState({ users: newUsers })\n          }\n        }\n        if (change.type === 'removed') {\n        }\n      }catch(e){\n        console.log('log: error', e)\n      }\n    });\n  });\n\n  await batch.commit();\n}\n\nexport const dmObserver = (updateContextState, users, battle) => {\n  // Listens for user\n  firestore.collection('DM').onSnapshot(querySnapshot => {\n\n    querySnapshot.docChanges().forEach(change => {\n      const data = change.doc.data()\n      const isBattleDoc = data.current\n\n      if (change.type === 'added') {\n        \n      }\n      if (change.type === 'modified') {\n        const battleChange =  !isEqual(battle, data.current)\n        if(isBattleDoc && battleChange){\n          updateContextState({battle: data.current, users}) \n        }\n\n      }\n      if (change.type === 'removed') {\n      }\n    });\n  });\n}\n/******************************** Generic (used to build others) *********************************/\n/**\n * @function batchUpdate\n * Updates multiple users at once\n * @params (path, users, updates) updates must match path \n * @returns undefined\n */\nexport async function batchUpdate(path, users, updates){\n\n  const batch = await firestore.batch();\n  forEach(users, (user, i)=>{\n    const userRef =  firestore.collection('users').doc(user.uid)\n    batch.update(userRef, {[path]: updates[i]});\n  })\n  await batch.commit();\n  }\n  \nexport async function updateDoc(path, updates, specialKey){\n  const ref = firestore.doc(`${path}`);\n  const snapshot = await ref.get();\n  if (!snapshot.exists) {\n    if(specialKey){\n      return await ref.set({[specialKey]: updates});\n\n    }else{\n      return await ref.set(updates);\n    } \n  }\n  if(specialKey){\n    return await ref.update({[specialKey]: updates});\n\n  }else{\n    return await ref.update(updates);\n  }\n}\n\nconst getDocument = async (path) => {\n  try {\n    const doc = await firestore.doc(path).get();\n    return {\n      ...doc.data()\n    };\n  } catch (error) {\n    console.error(\"Error fetching user\", error);\n  }\n};\n\nexport async function getCollection(collectionPath=['collection', 'document']){\n  let data = null\n  const apiCall = collectionPath.length < 2 ? firestore.collection(collectionPath[0]) : firestore.collection(collectionPath[0]).doc(collectionPath[1])\n  const collectionRef = await apiCall\n  const doc = await collectionRef.get();\n  if (doc.exists) {\n    data= doc.data()\n  }\n  return data\n}\n\n\n/******************************** Users *********************************/\nexport async function findUser(query = { key: 'name', comparison: '==', equals: 'Brandon' }) {\n  let user = {}\n\n  try{\n    const { key, comparison, equals } = query\n    const snapshot = await firestore.collection(`users`).where(key, comparison, equals).get();\n    if (snapshot.empty) {\n      console.log('No matching documents.');\n      return;\n    }\n    snapshot.forEach(doc => {\n      user = doc.data()\n    });\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n  \n  return user\n}\nexport const getUserDocument = async uid => {\n  if (!uid) return null;\n  try {\n    const userDocument = await getDocument(`users/${uid}`)\n    return {\n      uid,\n      ...userDocument\n    };\n  } catch (error) {\n    console.error(\"Error fetching user\", error);\n  }\n};\n\nexport const updateCharacter = async (user, updates, dontGetUser) => {\n  let newUser = {}\n\n  try{\n    await updateDoc(`users/${user.uid}`, updates)\n    newUser = dontGetUser ? {} : await getUserDocument(user.uid)\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  } \n\n   return newUser\n}\n\nexport const damageCharacter = async (user, amount) => {\n  try{\n    const newAmount = user.character.hp - amount >= 0 ? user.character.hp - amount : 0\n    await updateDoc(`users/${user.uid}`, {'character.hp':newAmount})\n  \n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n}\n\nexport const itemUse = async ({userGivingItem, target, item}) => {\n  try{\n    const userGivingItemPath = `character.items`\n    const targetPath = `character`\n    // Increase targets stat\n    const { maxHp, maxMp} = target.character\n    target.character.hp += item.hp\n    target.character.mp += item.mp\n    if(target.character.hp > maxHp){\n      target.character.hp = maxHp\n    }\n    if(target.character.mp > maxMp){\n      target.character.mp = maxMp\n    }\n    \n    // Decrease users quantity\n    userGivingItem.character.items[item.type][item.label].quantity -=1\n    if(!userGivingItem.character.items[item.type][item.label].quantity){\n      delete userGivingItem.character.items[item.type][item.label]\n    }\n    const batch = await firestore.batch();\n    const targetRef = firestore.collection('users').doc(target.uid);\n    const userGivingItemRef = firestore.collection('users').doc(userGivingItem.uid);\n    batch.update(targetRef, { [targetPath]: target.character });\n    batch.update(userGivingItemRef, { [userGivingItemPath]: userGivingItem.character.items });\n    await batch.commit();\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n}\n\nexport const giveCharacterItem = async (user, updates, itemCategory) => {\n  try{\n    const path = `character.items.${itemCategory}`\n    await updateCharacter(user, {[path]: updates})\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n}\n\nexport const equipItem = async ({ user, items, newEquip, type, itemsGameData }) => {\n  let oldEquipped = null\n\n  try{\n    const equippedPath = `character.equipped.${type}`\n    const itemsPath = `character.items`\n    oldEquipped = Object.keys(user.character.equipped[type]).length ? user.character.equipped[type] : null\n    const newItems = { ...items }\n    delete newItems[type][newEquip]\n    if(oldEquipped){\n      newItems[type][oldEquipped] = itemsGameData[oldEquipped]\n    }\n  \n    // // Get a new write batch\n    const batch = await firestore.batch();\n    const userRef = firestore.collection('users').doc(user.uid);\n    batch.update(userRef, { [itemsPath]: newItems });\n    batch.update(userRef, { [equippedPath]: newEquip });\n    await batch.commit();\n\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n\n  return oldEquipped\n}\n\n/******************************** DM *********************************/\n\nexport async function getAllUsers(){\n  const users = []\n\n  try{\n    const ref = await firestore.collection(`users`)\n    const usersRef = await ref.get()\n    usersRef.forEach(user => {\n      const desiredUser = user.data()\n      if(!desiredUser.DM){\n        users.push({...desiredUser, label: desiredUser.displayName, value: desiredUser.displayName})\n  \n      }\n    });\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n\n  return users\n}\n\nexport const updateStoryChapter = async (chapter, updates, specialKey) => {\n  try{\n    await updateDoc(`DM/${chapter}`, updates, specialKey)\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n}\n\nexport const startBattle = async (battle) => {\n  try{\n    const userRef = firestore.collection('DM').doc('battles');\n    await userRef.update({current: {...battle}});\n \n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n}\n\nexport async function getStoryChapter(chapter){\n  let res = {notes: ''}\n  try{\n    res = await getCollection(['DM', chapter])\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n  return res\n}\n\nexport const updateMonsters = async (monsters) => {\n  try{\n    const dmRef = firestore.collection('DM').doc('battles');\n    await dmRef.update({'current.monsters': monsters});\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n \n}\n\nexport const giveUserRewards = async (users, rewards) => {\n  try{\n    const characterUpdates = []\n    forEach(users, user=>{\n      const newUser = cloneDeep(user)\n      const { character } = newUser\n      character.exp += rewards.exp\n      forEach(rewards.items, item=>{\n        const itemInBag = character.items[item.type][item.label]\n        if(itemInBag){\n          itemInBag.quantity += item.quantity\n        }else{\n          character.items[item.label] = item\n        }\n      })\n      characterUpdates.push(character)\n    })\n    console.log('log: characterUpdates', {users, characterUpdates})\n    await batchUpdate('character', users, characterUpdates)\n    const dmRef = firestore.collection('DM').doc('battles');\n    await dmRef.update({'current': {}});\n    }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n\n}\nexport const sendUserAMessage = async (user, dmMessage) => {\n  try{\n    console.log('log: user, dmMessage', {user, dmMessage})\n    await updateCharacter(user, {[`character.dmMessage`]: dmMessage})\n\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n \n}\n\n  /*\n  how to update nested features\n  const res = await db.collection('users').doc('Frank').update({\n  age: 13,\n  'favorites.color': 'Red'\n});\n\n  try{\n\n  }catch(e){\n    console.log('log: error', e)\n    launchToaster({type: 'error', content: 'There was an error'})\n  }\n  */","import { createMuiTheme } from '@material-ui/core/styles';\nconst themeOptions = {\n    palette: {\n      type: 'dark',\n      primary: {\n        main: '#3f51b5',\n      },\n      secondary: {\n        main: '#f50057',\n      },\n    },\n  };\nconst theme = createMuiTheme({\n...themeOptions\n  });\n\n\n  export default theme\n  ","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://github.com/brandon-irving/mardock-game\">\n                Mardock Game\n      </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\n\n\n\nexport default function BasicRoot({children, maxWidth=\"xs\"}) {\n\n    return (\n        <Container component=\"main\" maxWidth={maxWidth}>\n            <CssBaseline />\n        {children}\n            <Box mt={8}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContextState } from 'dynamic-context-provider'\nimport { signInWithGoogle } from '../firebase'\nimport { createUserWithEmailAndPasswordHandler } from '../firebase'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../core/theme';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../common/BasicRoot';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://github.com/brandon-irving/mardock-game\">\n                Mardock Game\n      </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst BluePrint = () => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'displayName',\n                            name: 'displayName',\n                            type: 'text',\n                            label: 'Name',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'email',\n                            name: 'email',\n                            type: 'email',\n                            label: 'Email',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'password',\n                            name: 'password',\n                            type: 'password',\n                            label: 'Password',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Sign Up',\n                            fullWidth: true,\n                            disabled: false,\n                            variant: 'outlined',\n                        }\n                    },\n                ]\n            },\n           \n\n        ]\n    })\n}\nfunction validate(values) {\n    const errors = {}\n    Object.keys(values).forEach(field => {\n        const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n        if (isEmpty) {\n            errors[field] = 'required'\n        }\n    })\n    return errors\n}\nexport default function SignUpPage({goToSignIn}) {\n    const history = useHistory()\n    const classes = useStyles();\n    const initialValues = { displayName: '', email: '', password: '' }\n\n    async function handleSubmit(values) {\n        const newUser= await createUserWithEmailAndPasswordHandler(values)\n        history.replace('create')\n    }\n    async function handleGoogleSignUp(e) {\n        await signInWithGoogle()\n        history.replace('create')\n    }\n    return (\n        <BasicRoot>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n            </div>\n            <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                Sign Up\n            </Typography>\n\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint({ handleGoogleSignUp })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n     <Grid container>\n    <Grid item xs>\n        <Button onClick={handleGoogleSignUp}>\n        Google sign up\n        </Button>\n    \n    </Grid>\n    <Grid item>\n    <Button onClick={goToSignIn}>\n        Already have an account? Sign in\n        </Button>\n     \n    </Grid>\n  </Grid>\n    </BasicRoot>\n    );\n}","import React, { useState } from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContextState } from 'dynamic-context-provider'\nimport { signInWithGoogle } from '../firebase'\nimport { signInWithEmailAndPasswordHandler } from '../firebase'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../core/theme';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../common/BasicRoot';\nimport SignUpPage from './SignUpPage'\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100%'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst BluePrint = () => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'email',\n                            name: 'email',\n                            type: 'email',\n                            label: 'Email',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'password',\n                            name: 'password',\n                            type: 'password',\n                            label: 'Password',\n                            variant: 'filled',\n\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Sign in',\n                            fullWidth: true,\n                            disabled: false,\n                            variant: 'outlined',\n                        }\n                    },\n                ]\n            },\n           \n\n        ]\n    })\n}\nfunction validate(values) {\n    const errors = {}\n    Object.keys(values).forEach(field => {\n        const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n        if (isEmpty) {\n            errors[field] = 'required'\n        }\n    })\n    return errors\n}\nexport default function SignIn() {\n    const { updateContextState } = useContextState()\n    const history = useHistory()\n    const classes = useStyles();\n    const initialValues = { email: '', password: '' }\n    const [signUp, setsignUp] = useState(false)\n    async function handleSubmit(values) {\n        updateContextState({globalLoading: true})\n        const user = await signInWithEmailAndPasswordHandler(values.email, values.password)\n        const route = user.character ? '/' : 'create'\n        history.replace(route)\n        updateContextState({globalLoading: false})\n\n    }\n    async function handleGoogleSignIn(e) {\n        updateContextState({globalLoading: true})\n        const user = await signInWithGoogle()\n        const route = user.character ? '/' : 'create'\n\n        history.replace(route)\n        updateContextState({globalLoading: false})\n\n    }\n    function goToSignUp(){\n        setsignUp(true)\n    }\n    function goToSignIn(){\n        setsignUp(false)\n    }\n    if(signUp){\n        return <SignUpPage goToSignIn={goToSignIn} />\n    }\n    return (\n        <BasicRoot>\n               <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n            </div>\n            <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                Sign In\n            </Typography>\n        \n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint({ handleGoogleSignIn })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n     <Grid container>\n    <Grid item xs>\n        <Button onClick={handleGoogleSignIn}>\n        Google sign in\n        </Button>\n    \n    </Grid>\n    <Grid item>\n    <Button onClick={goToSignUp}>\n        Sign Up\n        </Button>\n     \n    </Grid>\n  </Grid>\n    </BasicRoot>\n    );\n}","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    margin: \"0 -15px !important\",\n    width: \"unset\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridContainer(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid container {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridContainer.propTypes = {\n  children: PropTypes.node\n};\n","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    padding: \"0 15px !important\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridItem(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid item {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridItem.propTypes = {\n  children: PropTypes.node\n};\n","/*!\n\n =========================================================\n * Material Dashboard React - v1.9.0 based on Material Dashboard - v1.2.0\n =========================================================\n\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\n * Copyright 2020 Creative Tim (http://www.creative-tim.com)\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n =========================================================\n\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n */\n\n// ##############################\n// // // Function that converts from hex color to rgb color\n// // // Example: input = #9c27b0 => output = 156, 39, 176\n// // // Example: input = 9c27b0 => output = 156, 39, 176\n// // // Example: input = #999 => output = 153, 153, 153\n// // // Example: input = 999 => output = 153, 153, 153\n// #############################\nconst hexToRgb = input => {\n  input = input + \"\";\n  input = input.replace(\"#\", \"\");\n  let hexRegex = /[0-9A-Fa-f]/g;\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\n    throw new Error(\"input is not a valid hex color.\");\n  }\n  if (input.length === 3) {\n    let first = input[0];\n    let second = input[1];\n    let last = input[2];\n    input = first + first + second + second + last + last;\n  }\n  input = input.toUpperCase();\n  let first = input[0] + input[1];\n  let second = input[2] + input[3];\n  let last = input[4] + input[5];\n  return (\n    parseInt(first, 16) +\n    \", \" +\n    parseInt(second, 16) +\n    \", \" +\n    parseInt(last, 16)\n  );\n};\n\n// ##############################\n// // // Variables - Styles that are used on more than one component\n// #############################\n\nconst drawerWidth = 260;\n\nconst transition = {\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\n};\n\nconst container = {\n  paddingRight: \"15px\",\n  paddingLeft: \"15px\",\n  marginRight: \"auto\",\n  marginLeft: \"auto\"\n};\n\nconst defaultFont = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeight: \"300\",\n  lineHeight: \"1.5em\"\n};\n\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\nconst grayColor = [\n  \"#999\",\n  \"#777\",\n  \"#3C4858\",\n  \"#AAAAAA\",\n  \"#D2D2D2\",\n  \"#DDD\",\n  \"#b4b4b4\",\n  \"#555555\",\n  \"#333\",\n  \"#a9afbb\",\n  \"#eee\",\n  \"#e7e7e7\"\n];\nconst blackColor = \"#000\";\nconst whiteColor = \"#FFF\";\n\nconst boxShadow = {\n  boxShadow:\n    \"0 10px 30px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 4px 25px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\"\n};\n\nconst primaryBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(primaryColor[0]) +\n    \",.4)\"\n};\nconst infoBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(infoColor[0]) +\n    \",.4)\"\n};\nconst successBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(successColor[0]) +\n    \",.4)\"\n};\nconst warningBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(warningColor[0]) +\n    \",.4)\"\n};\nconst dangerBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(dangerColor[0]) +\n    \",.4)\"\n};\nconst roseBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(roseColor[0]) +\n    \",.4)\"\n};\n\nconst warningCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\n  ...warningBoxShadow\n};\nconst successCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\n  ...successBoxShadow\n};\nconst dangerCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\n  ...dangerBoxShadow\n};\nconst infoCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\n  ...infoBoxShadow\n};\nconst primaryCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\n  ...primaryBoxShadow\n};\nconst roseCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\n  ...roseBoxShadow\n};\n\nconst cardActions = {\n  margin: \"0 20px 10px\",\n  paddingTop: \"10px\",\n  borderTop: \"1px solid \" + grayColor[10],\n  height: \"auto\",\n  ...defaultFont\n};\n\nconst cardHeader = {\n  margin: \"-20px 15px 0\",\n  borderRadius: \"3px\",\n  padding: \"15px\"\n};\n\nconst card = {\n  display: \"inline-block\",\n  position: \"relative\",\n  width: \"100%\",\n  margin: \"25px 0\",\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n  borderRadius: \"3px\",\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n  background: whiteColor\n};\n\nconst defaultBoxShadow = {\n  border: \"0\",\n  borderRadius: \"3px\",\n  boxShadow:\n    \"0 10px 20px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 3px 20px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\",\n  padding: \"10px 0\",\n  transition: \"all 150ms ease 0s\"\n};\n\nconst title = {\n  color: grayColor[2],\n  textDecoration: \"none\",\n  fontWeight: \"300\",\n  marginTop: \"30px\",\n  marginBottom: \"25px\",\n  minHeight: \"32px\",\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n  \"& small\": {\n    color: grayColor[1],\n    fontWeight: \"400\",\n    lineHeight: \"1\"\n  }\n};\n\nconst cardTitle = {\n  ...title,\n  marginTop: \"0\",\n  marginBottom: \"3px\",\n  minHeight: \"auto\",\n  \"& a\": {\n    ...title,\n    marginTop: \".625rem\",\n    marginBottom: \"0.75rem\",\n    minHeight: \"auto\"\n  }\n};\n\nconst cardSubtitle = {\n  marginTop: \"-.375rem\"\n};\n\nconst cardLink = {\n  \"& + $cardLink\": {\n    marginLeft: \"1.25rem\"\n  }\n};\n\nexport {\n  hexToRgb,\n  //variables\n  drawerWidth,\n  transition,\n  container,\n  boxShadow,\n  card,\n  defaultFont,\n  primaryColor,\n  warningColor,\n  dangerColor,\n  successColor,\n  infoColor,\n  roseColor,\n  grayColor,\n  blackColor,\n  whiteColor,\n  primaryBoxShadow,\n  infoBoxShadow,\n  successBoxShadow,\n  warningBoxShadow,\n  dangerBoxShadow,\n  roseBoxShadow,\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  cardActions,\n  cardHeader,\n  defaultBoxShadow,\n  title,\n  cardTitle,\n  cardSubtitle,\n  cardLink\n};\n","import {\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  grayColor\n} from \"../../material-dashboard-react\";\n\nconst cardIconStyle = {\n  cardIcon: {\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      borderRadius: \"3px\",\n      backgroundColor: grayColor[0],\n      padding: \"15px\",\n      marginTop: \"-20px\",\n      marginRight: \"15px\",\n      float: \"left\"\n    }\n  },\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader\n};\n\nexport default cardIconStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardIconStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardIcon(props) {\n  const classes = useStyles();\n  const { className, children, color, ...rest } = props;\n  const cardIconClasses = classNames({\n    [classes.cardIcon]: true,\n    [classes[color + \"CardHeader\"]]: color,\n    [className]: className !== undefined\n  });\n  return (\n    <div style={{marginRight: 0}} className={cardIconClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardIcon.propTypes = {\n  className: PropTypes.string,\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  children: PropTypes.node\n};\n","import { grayColor } from \"../../material-dashboard-react\";\n\nconst cardFooterStyle = {\n  cardFooter: {\n    padding: \"0\",\n    paddingTop: \"10px\",\n    margin: \"0 15px 10px\",\n    borderRadius: \"0\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    display: \"flex\",\n    backgroundColor: \"transparent\",\n    border: \"0\"\n  },\n  cardFooterProfile: {\n    marginTop: \"-15px\"\n  },\n  cardFooterPlain: {\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\",\n    backgroundColor: \"transparent\"\n  },\n  cardFooterStats: {\n    borderTop: \"1px solid \" + grayColor[10],\n    marginTop: \"20px\",\n    \"& svg\": {\n      position: \"relative\",\n      top: \"4px\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\",\n      width: \"16px\",\n      height: \"16px\"\n    },\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n      fontSize: \"16px\",\n      position: \"relative\",\n      top: \"4px\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    }\n  },\n  cardFooterChart: {\n    borderTop: \"1px solid \" + grayColor[10]\n  }\n};\n\nexport default cardFooterStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardFooterStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardFooter(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, stats, chart, ...rest } = props;\n  const cardFooterClasses = classNames({\n    [classes.cardFooter]: true,\n    [classes.cardFooterPlain]: plain,\n    [classes.cardFooterProfile]: profile,\n    [classes.cardFooterStats]: stats,\n    [classes.cardFooterChart]: chart,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardFooterClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardFooter.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  stats: PropTypes.bool,\n  chart: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  successColor,\n  whiteColor,\n  grayColor,\n  hexToRgb\n} from \"./material-dashboard-react\";\n\nconst dashboardStyle = {\n  successText: {\n    color: successColor[0]\n  },\n  upArrowCardCategory: {\n    width: \"16px\",\n    height: \"16px\"\n  },\n  stats: {\n    color: grayColor[0],\n    display: \"inline-flex\",\n    fontSize: \"12px\",\n    lineHeight: \"22px\",\n    \"& svg\": {\n      top: \"4px\",\n      width: \"16px\",\n      height: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    },\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n      top: \"4px\",\n      fontSize: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    }\n  },\n  cardCategory: {\n    color: grayColor[0],\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    paddingTop: \"10px\",\n    marginBottom: \"0\"\n  },\n  cardCategoryWhite: {\n    color: \"rgba(\" + hexToRgb(whiteColor) + \",.62)\",\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    marginBottom: \"0\"\n  },\n  cardTitle: {\n    color: grayColor[2],\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  },\n  cardTitleWhite: {\n    color: whiteColor,\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nexport default dashboardStyle;\n","import {\n  blackColor,\n  whiteColor,\n  hexToRgb\n} from \"../../material-dashboard-react\";\n\nconst cardStyle = {\n  card: {\n    border: \"0\",\n    marginBottom: \"30px\",\n    marginTop: \"30px\",\n    borderRadius: \"6px\",\n    color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n    background: whiteColor,\n    width: \"100%\",\n    boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    minWidth: \"0\",\n    wordWrap: \"break-word\",\n    fontSize: \".875rem\"\n  },\n  cardPlain: {\n    background: \"transparent\",\n    boxShadow: \"none\"\n  },\n  cardProfile: {\n    marginTop: \"30px\",\n    textAlign: \"center\"\n  },\n  cardChart: {\n    \"& p\": {\n      marginTop: \"0px\",\n      paddingTop: \"0px\"\n    }\n  }\n};\n\nexport default cardStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Card(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, chart, ...rest } = props;\n  const cardClasses = classNames({\n    [classes.card]: true,\n    [classes.cardPlain]: plain,\n    [classes.cardProfile]: profile,\n    [classes.cardChart]: chart,\n    [className]: className !== undefined\n  });\n  return (\n    <div style={{background: '#424242'}} className={cardClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  chart: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  whiteColor\n} from \"../../material-dashboard-react\";\n\nconst cardHeaderStyle = {\n  cardHeader: {\n    padding: \"0.75rem 1.25rem\",\n    marginBottom: \"0\",\n    borderBottom: \"none\",\n    background: \"transparent\",\n    zIndex: \"3 !important\",\n    \"&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      margin: \"0 15px\",\n      padding: \"0\",\n      position: \"relative\",\n      color: whiteColor\n    },\n    \"&:first-child\": {\n      borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\n    },\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      \"&:not($cardHeaderIcon)\": {\n        borderRadius: \"3px\",\n        marginTop: \"-20px\",\n        padding: \"15px\"\n      }\n    },\n    \"&$cardHeaderStats svg\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      textAlign: \"center\",\n      width: \"36px\",\n      height: \"36px\",\n      margin: \"10px 10px 4px\"\n    },\n    \"&$cardHeaderStats i,&$cardHeaderStats .material-icons\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      width: \"56px\",\n      height: \"56px\",\n      textAlign: \"center\",\n      overflow: \"unset\",\n      marginBottom: \"1px\"\n    },\n    \"&$cardHeaderStats$cardHeaderIcon\": {\n      textAlign: \"right\"\n    }\n  },\n  cardHeaderPlain: {\n    marginLeft: \"0px !important\",\n    marginRight: \"0px !important\"\n  },\n  cardHeaderStats: {\n    \"& $cardHeaderIcon\": {\n      textAlign: \"right\"\n    },\n    \"& h1,& h2,& h3,& h4,& h5,& h6\": {\n      margin: \"0 !important\"\n    }\n  },\n  cardHeaderIcon: {\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      background: \"transparent\",\n      boxShadow: \"none\"\n    },\n    \"& i,& .material-icons\": {\n      width: \"33px\",\n      height: \"33px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\"\n    },\n    \"& svg\": {\n      width: \"24px\",\n      height: \"24px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\",\n      margin: \"5px 4px 0px\"\n    }\n  },\n  warningCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...warningCardHeader\n    }\n  },\n  successCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...successCardHeader\n    }\n  },\n  dangerCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...dangerCardHeader\n    }\n  },\n  infoCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...infoCardHeader\n    }\n  },\n  primaryCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...primaryCardHeader\n    }\n  },\n  roseCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...roseCardHeader\n    }\n  }\n};\n\nexport default cardHeaderStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./styles/cardHeaderStyle\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardHeader(props) {\n  const classes = useStyles();\n  const { className, children, color, plain, stats, icon, ...rest } = props;\n  const cardHeaderClasses = classNames({\n    [classes.cardHeader]: true,\n    [classes[color + \"CardHeader\"]]: color,\n    [classes.cardHeaderPlain]: plain,\n    [classes.cardHeaderStats]: stats,\n    [classes.cardHeaderIcon]: icon,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardHeaderClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardHeader.propTypes = {\n  className: PropTypes.string,\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  plain: PropTypes.bool,\n  stats: PropTypes.bool,\n  icon: PropTypes.bool,\n  children: PropTypes.node\n};\n","import React from 'react'\nconst ImageIcon = ({ src, alt='', width=\"25vw\" }) => {\n    return (\n        <img style={{ width, maxWidth: '100px', height: 'inherit' }} src={src} alt={alt} />\n    )\n}\n\nexport default ImageIcon\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\n  \nconst ProgressBar = ({progress = 100, color='green', backgroundColor=\"black\"}) => {\n    const BorderLinearProgress = withStyles((theme) => ({\n        root: {\n          height: 15,\n          borderRadius: 10,\n        },\n        colorPrimary: {\n          backgroundColor,\n        },\n        bar: {\n          borderRadius: 5,\n          backgroundColor: color,\n        },\n      }))(LinearProgress);\n    return (\n            <BorderLinearProgress variant=\"determinate\" value={progress} />\n    )\n}\n\nexport default ProgressBar\n","export const statSheet = {\n    str: { label: 'Strength', description: 'Increases the damage you deal and the amount of weight you can lift', points: 12 },\n    spd: { label: 'Speed', description: 'Increases the amount of squares you can move per roll and how fast you are', points: 10 },\n    vit: { label: 'Vitality', description: 'Increases your hp, sex appeal and resistance to illness', points: 10 },\n    eva: { label: 'Evasion', description: 'Increases your dodge rolls and stealth', points: 10 },\n    int: { label: 'Intelligence', description: 'Increases your mp and investigation rolls', points: 10 },\n    wis: { label: 'Wisdom', description: 'Increases your awareness and hint rolls', points: 10 },\n    dex: { label: 'Dexterity', description: 'Increases your ability to attack, handling skills and overall balance', points: 10 },\n    per: { label: 'Persuasion', description: 'Increases your persuasion rolls and makes you more likeable', points: 10 },\n}\n\n\n\n/*\nbuildMonster(type='wolf', level, attacks={common: 2, special: 1})\n*/\n\n\n\n","export default __webpack_public_path__ + \"static/media/darkRiteArmor.9c40cf0e.svg\";","import darkRiteArmor from '../../images/darkRiteArmor.svg'\n\nconst items = {\n    'Potion': { type:'misc', hp: 10, mp:0, label: 'Potion', description: 'Recover 10 hp', src: darkRiteArmor },\n    'Mana Cubes': { type:'misc', hp: 0, mp:10, label: 'Mana Cubes', description: 'Recover 10 mp', src: darkRiteArmor },\n    'Enchanted Chicken Breast': { type:'misc', hp: 5, mp:0, label: 'Enchanted Chicken Breast', description: 'Recover 20 hp', src: darkRiteArmor },\n}\nexport default items","import { flatMap, forEach, map } from \"lodash\";\nimport { statSheet } from './constants'\nimport items from './items/items'\n\nexport function randomIntFromInterval(min, max) { // min and max included \n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n\nexport function getSpecialMonsterList(containerObject) { // min and max included \n  const arrayOfSpecials = map(flatMap(containerObject), monsterConfig=>{\n    return monsterConfig.special\n  })\n  return arrayOfSpecials\n}\n\nexport function generateStats(range=5) {\n  const generatedStats = Object.keys(statSheet).reduce((acc, statKey)=>{\n  const newStats = {...acc}\n  let randomStat = randomIntFromInterval(9, 14)\n  if(range > 5 && range <= 10){\n      randomStat = randomIntFromInterval(10, 15)\n  }\n  if(range > 10 && range <= 15){\n      randomStat = randomIntFromInterval(12, 16)\n  }\n  if(range > 15 && range <= 20){\n      randomStat = randomIntFromInterval(14, 20)\n  }\n  if(range > 20){\n      randomStat = randomIntFromInterval(20, 25)\n  }\n  return {...newStats, [statKey]: randomStat}\n  }, {})\n  return generatedStats\n  }\n  export function generateItems(itemsArray){\n    const listOfItems = []\n    forEach(itemsArray, itemInfoString=>{\n      const quantity = itemInfoString.match(/\\d+/) ? Number(itemInfoString.match(/\\d+/)[0]) : 1\n      const itemName = itemInfoString.replace(`${quantity}`, '')\n      const item = {...items[itemName], quantity}\n      listOfItems.push(item)\n    })\n\n    return listOfItems\n  }\n\n  export const normalise = (value, MAX) => (value - 0) * 100 / (MAX - 0);\n","import darkRiteArmor from '../../images/darkRiteArmor.svg'\nconst armors = {\n    'Dark Rite Armor': {type: 'armor',hp: 10, mp:0, label: 'Dark Rite Armor', description: '', src: darkRiteArmor},\n}\nexport default armors","import jewel from '../../images/jewelArmanar.svg'\nconst accessories = {\n'Jewel of Armanar': {type: 'accessory', hp: 10, mp:0, label: 'Jewel of Armanar', description: '', src: jewel},\n}\nexport default accessories","export default __webpack_public_path__ + \"static/media/jewelArmanar.eb01ddc8.svg\";","export default __webpack_public_path__ + \"static/media/sword.119d0a25.svg\";","import sword from '../../images/sword.svg'\nconst weapons = {\n    'Long Sword': {\n        type: 'weapon', requirement: {str: 12}, type: 'sword', hp: 0, mp:0, roll: 'd8', label: 'Long Sword', description: '', src: sword\n    },\n    'Dagger': {\n        type: 'weapon', requirement: {dex: 12}, type: 'dagger', hp: 0, mp:0, roll: 'd4', label: 'Dagger', description: '', src: sword\n    },\n    'Short Sword': {\n        type: 'weapon', requirement: {}, type: 'sword', hp: 0, mp:0, roll: 'd6', label: 'Short Sword', description: '', src: sword\n    },\n    'Bow': {\n        type: 'weapon', requirement: {dex: 12}, type: 'bow', hp: 0, mp:0, roll: 'd4', label: 'Bow', description: '', src: sword\n    },\n}\nexport default weapons","import { useContextState } from \"dynamic-context-provider\";\nimport { accessories, weapons } from \"../../gameData/items\";\n\nexport function useGetEquippedData(type){\n    const { user: {character: {equipped}} } = useContextState()\n    const typeMap = {accessory: accessories, weapon: weapons}\n    const data = typeMap[type][equipped[type]] || {}\n\n    return data\n}","import React, { useState, useEffect } from 'react'\nimport ProgressBar from '.'\nimport { useContextState } from 'dynamic-context-provider';\nimport { normalise } from '../../gameData/helpers'\n// import { useStatSheet } from '../hooks/useStatSheet'\nimport { useGetEquippedData } from '../hooks/useGetEquippedData'\nimport { Typography } from '@material-ui/core';\n\nconst HpBar = ({monster}) => {\n    const { user } = useContextState()\n    const desired = monster? {...monster, equipped: {}} : user.character\n\n    const {  hp, maxHp, equipped: {armor={hp: 0}} } = desired\n        const accessory = useGetEquippedData('accessory')\n        const weapon = useGetEquippedData('weapon')\n\n        function getHp(){\n        const currentHp = hp + (armor?.hp || 0) + (weapon?.hp || 0) + (accessory?.hp || 0)\n          return normalise(currentHp, maxHp)\n        }\n        const [gaugeValue, setgaugeValue] = useState(getHp())\n        \n        \n        useEffect(() => {\n            setgaugeValue(getHp())\n        }, [hp, armor, monster])   \n        if(monster)return null // TODO: conditionally show users\n    return (\n        <div style={{marginTop: '10px', marginBottom: '10px'}}>\n            <Typography>HP: {hp}/{maxHp}</Typography>\n{getHp() > 100 && <ProgressBar progress={gaugeValue - 100} color='teal' backgroundColor='green'/>}\n {getHp() <= 100 && <ProgressBar progress={gaugeValue} color='green' backgroundColor='black'/>}\n        </div>\n      \n    )\n}\n\nexport default HpBar\n","import React from 'react'\n// Components\nimport GridItem from '../common/material/Grid/GridItem'\nimport Card from '../common/material/Card/Card'\nimport CardHeader from '../common/material/Card/CardHeader'\nimport CardIcon from '../common/material/Card/CardIcon'\nimport CardFooter from '../common/material/Card/CardFooter'\nimport styles from \"../common/material/dashboardStyle\";\n// Icons\nimport Store from \"@material-ui/icons/Store\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ImageIcon from './ImageIcon'\nimport HpBar from './ProgressBar/HpBar'\nimport { Typography } from '@material-ui/core'\nconst useStyles = makeStyles(styles);\n\nconst InfoCard = ({ \n    title='Knight', \n    text=\"The knight is a real nigga\",\n    imgSrc=\"\",\n    noBox=false,\n}) => {\n    const classes = useStyles();\n    \n    return (\n        <GridItem xs={12} sm={6} md={4}>\n        <Card>\n          {!noBox && \n          <div style={{display: 'flex', justifyContent: 'center'}}>  \n            <CardIcon color=\"rose\">\n            <ImageIcon alt={title} src={imgSrc} />\n            </CardIcon>\n          </div>}\n          <p style={{color: 'white', fontSize: '15pt', textAlign: 'center'}} className={classes.cardCategory}>{title}</p>\n          {/* <Typography style={{color: 'white', textAlign: 'center'}} variant=\"subtitle1\">{text}</Typography> */}\n          <CardFooter stats>\n          <Typography style={{color: 'white', textAlign: 'center'}} variant=\"subtitle1\">{text}</Typography>\n          </CardFooter>\n        </Card>\n      </GridItem>\n    )\n}\n\nexport default InfoCard\n","import React, { useState, useEffect } from 'react'\nimport ProgressBar from '.'\nimport { useContextState } from 'dynamic-context-provider';\nimport { normalise } from '../../gameData/helpers'\n// import { useStatSheet } from '../hooks/useStatSheet'\nimport { useGetEquippedData } from '../hooks/useGetEquippedData'\nimport { Typography } from '@material-ui/core';\n\nconst MpBar = ({monster}) => {\n    const { user } = useContextState()\n    const desired = monster? {...monster, equipped: {}} : user.character\n    const { mp, maxMp, equipped: {armor={mp: 0}}} = desired\n\n        const accessory = useGetEquippedData('accessory')\n        const weapon = useGetEquippedData('weapon')\n        // const stats = useStatSheet()\n\n        function getMp(){\n        const currentMp = mp + (armor?.mp || 0) + (weapon?.mp || 0) + (accessory?.mp || 0)\n          return normalise(currentMp, maxMp)\n        }\n        const [gaugeValue, setgaugeValue] = useState(getMp())\n        \n        useEffect(() => {\n            setgaugeValue(getMp())\n        }, [mp])        \n        if(monster)return null\n    return (\n        <div style={{marginTop: '10px', marginBottom: '10px'}}>\n                        <Typography>MP: {mp}/{maxMp}</Typography>\n{getMp() > 100 && <ProgressBar progress={gaugeValue - 100} color='light blue' backgroundColor='blue'/>}\n {getMp() <= 100 && <ProgressBar progress={gaugeValue} color='blue' backgroundColor='black'/>}\n        </div>\n      \n    )\n}\n\nexport default MpBar\n","import React from 'react'\n// Components\nimport GridItem from '../common/material/Grid/GridItem'\nimport Card from '../common/material/Card/Card'\nimport CardHeader from '../common/material/Card/CardHeader'\nimport CardIcon from '../common/material/Card/CardIcon'\nimport CardFooter from '../common/material/Card/CardFooter'\nimport styles from \"../common/material/dashboardStyle\";\n// Icons\nimport Store from \"@material-ui/icons/Store\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ImageIcon from './ImageIcon'\nimport HpBar from './ProgressBar/HpBar'\nimport { Typography } from '@material-ui/core'\nconst useStyles = makeStyles(styles);\n\nconst InfoCard2 = ({ \nchildren\n}) => {\n    const classes = useStyles();\n    \n    return (\n        <GridItem xs={12} sm={6} md={4}>\n        <Card>\n            <div style={{color: 'white', margin: '10px',display: 'flex', flexWrap: 'wrap'}}>\n            {children}\n            </div>\n        </Card>\n      </GridItem>\n    )\n}\n\nexport default InfoCard2\n","import { Grid } from '@material-ui/core'\nimport React from 'react'\n\nconst CustomIcon = ({logo, alt, text=\"\"}) => {\n    const style={\n        width: '100%',\n        maxHeight: '55px'\n    }\n    const textStyle={\n        display: 'flex',\n        alignItems: 'center'\n    }\n    return (\n        <Grid container>\n            <Grid item xs={3}>\n            <img style={style} src={logo} alt={alt} />       \n            </Grid>\n            <Grid item xs={9} style={textStyle}>\n        {text}\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default CustomIcon\n","export default __webpack_public_path__ + \"static/media/equipped.80f4d893.svg\";","export default __webpack_public_path__ + \"static/media/shield.2e601a46.svg\";","import { useContextState } from \"dynamic-context-provider\";\nimport { statSheet } from '../../gameData/constants'\nexport function convertStatSheet(stats){\n    \n    const completeStats = Object.keys(statSheet).reduce((acc, abbr)=>{\n        const stat = stats[abbr]\n        const statCount = stat\n        let statBoost = 0\n        if(statCount >= 12 && statCount<14){\n            statBoost = 1\n        }\n        if(statCount >= 14 && statCount<16){\n            statBoost = 2\n        }\n        if(statCount >= 16 && statCount<18){\n            statBoost = 3\n        }\n        if(statCount >= 18 && statCount<20){\n            statBoost = 4\n        }\n        if(statCount >= 20 ){\n            statBoost = 5\n        }\n        const points = stat.points ? stat.points : stat\n        return {...acc, [abbr]: {...statSheet[abbr], points, abbr, statBoost}}\n    },{})\n    return completeStats\n}\nexport function useStatSheet(manualStats){\n    const { user } = useContextState()\n    const stats = manualStats || user?.character?.stats\n    return convertStatSheet(stats)\n}","export default __webpack_public_path__ + \"static/media/knight.f5702281.svg\";","import knight from '../../images/knight.svg'\n\nexport const classes = {\n    Knight: {statBoost: {str: 2}, starterWeapon: 'Long Sword', src: knight, label: 'Knight', description: 'If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player'},\n    Archer: {statBoost: {dex: 2}, starterWeapon: 'Bow', src: knight, label: 'Archer', description: 'If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player'},\n    Assassin: {statBoost: {dex: 2}, starterWeapon: 'Dagger', src: knight, label: 'Assassin', description: 'If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player'},\n    Diplomat: {statBoost: {per: 2}, starterWeapon: 'Short Sword', src: knight, label: 'Diplomat', description: 'If a player is within 2 squares of you and fails an evade roll, you can roll the same die. If you roll higher than the failed roll, you can save the player'},\n}","import novice from '../../images/novice.svg'\n\nexport const titles = {\n    'Novice Adventurer': {statBoost: {},  src: novice, label: 'Novice Adventurer', description: \"It's clear you're a beginner at adventuring, get used to people underestimating you until you prove them wrong!\"},\n}","export default __webpack_public_path__ + \"static/media/novice.d700e06c.svg\";","import React from 'react'\n// Components\nimport GridContainer from '../common/material/Grid/GridContainer'\nimport GridItem from '../common/material/Grid/GridItem'\n// import Card from '../common/material/Card/Card'\n// import CardHeader from '../common/material/Card/CardHeader'\nimport CardIcon from '../common/material/Card/CardIcon'\nimport CardFooter from '../common/material/Card/CardFooter'\nimport styles from \"../common/material/dashboardStyle\";\n// Icons\nimport Store from \"@material-ui/icons/Store\";\nimport DateRange from \"@material-ui/icons/DateRange\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InfoCard from '../common/InfoCard'\nimport HpBar from '../common/ProgressBar/HpBar'\nimport MpBar from '../common/ProgressBar/MpBar'\nimport { Card, CardContent, CardHeader, Avatar, Divider, Grid, Typography } from '@material-ui/core'\nimport InfoCard2 from '../common/InfoCard2'\nimport {statSheet} from '../gameData/constants'\nimport { forEach, map } from 'lodash'\nimport equipped from '../images/equipped.svg'\nimport shield from '../images/shield.svg'\nimport CustomIcon from '../common/CustomIcon'\nimport { useStatSheet } from '../common/hooks/useStatSheet'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useEquipped } from '../common/hooks/useEquipped'\nimport { classes } from '../gameData/player/classes'\nimport { titles } from '../gameData/player/titles'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n    small: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n    },\n    large: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n  }));\nfunction getInitials(fullName='John Doe'){\n  const names = fullName.split(' ')\n  const initialsArray = []\n  forEach(names, name=>{\n    initialsArray.push( name.charAt(0))\n  })\n return initialsArray.join(' ')\n}\n  const Home = () => {\n    const { user: { character } } = useContextState() \n    const className = useStyles();\n    const stats = useStatSheet()\n    const equipped = useEquipped()\n    const characterTitle = titles[character.title]\n    const characterClass = classes[character.class]\n    \n    return (\n        <div>\n            <Card>\n                <CardContent>\n                    <Grid container>\n                        <Grid item xs={3}>\n                        <Avatar className={className.large}>{getInitials(character.name)}</Avatar>\n                        </Grid>\n                        <Grid style={{textAlign: 'end'}} item xs={9}>\n                        <Typography>{character.name}</Typography>                        \n                        <Typography>Level: {character.level}</Typography>                        \n                        <Typography>{character.exp} Exp</Typography>                        \n                        <Typography>{character.gil} Gil</Typography>                        \n                        </Grid>\n                        <Grid container style={{marginTop: '10px'}}>\n                          {\n                            map(equipped, (equipment, index)=>{\n                              if(!equipment)return null\n                              return(\n                                <Grid key={index} item xs={4}>\n                            <CustomIcon text={equipment.label} logo={equipment.src} alt={equipment.src}/>\n                            </Grid>\n                              )\n                            })\n                          }\n                        </Grid>\n                    </Grid>\n                    <Divider style={{color: 'white', marginTop: '10px', marginBottom: '10px'}}/>\n                <div>\n                <HpBar />\n                <MpBar />\n                    </div>\n                </CardContent>\n            </Card>\n             <GridContainer>\n                 <InfoCard2>\n                     <Grid container>\n                     {map(Object.keys(stats), (abbr, i)=>{\n                       const stat = stats[abbr]\n                       let statMessage = `${abbr.toUpperCase()}: ${stat.points}`\n                       if(stat.statBoost > 0){\n                        statMessage = statMessage + ` +${stat.statBoost}`\n                       }\n                        return(<Grid key={i} item xs={4}>{statMessage}</Grid>)\n                    })}   \n                     </Grid>\n                                     \n                     </InfoCard2>\n             <InfoCard \n             title={characterTitle.label}\n             text={characterTitle.description}\n             imgSrc={characterTitle.src}\n             />\n               <InfoCard \n             title={characterClass.label}\n             text={characterClass.description}\n             imgSrc={characterClass.src}\n             />\n      </GridContainer>\n        </div>\n    )\n}\n\nexport default Home\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport { accessories, weapons, armors } from \"../../gameData/items\";\n\nexport function useEquipped(){\n    const { user: {character: {equipped}} } = useContextState()\n    const completeEquipped = map(Object.keys(equipped), key=>{\n        const equipment = equipped[key]\n        let equippedInfo = null\n        if(key === 'armor'){\n        equippedInfo = {...equipment, ...armors[equipment.label]}\n        }else if(key === 'weapon'){\n            equippedInfo = weapons[equipment] || ''\n        }else if(key === 'secondaryWeapon'){\n            equippedInfo = weapons[equipment] || ''\n        }\n        else if(key === 'accessory'){\n            equippedInfo = accessories[equipment] || ''\n        }\n        return  equippedInfo\n    })\n    return completeEquipped\n}","export default __webpack_public_path__ + \"static/media/fist.50aa2aec.svg\";","import { AccountCircle, Store } from '@material-ui/icons';\nimport Home from '@material-ui/icons/Home';\nimport ImageIcon from '../common/ImageIcon';\nimport fist from '../images/fist.svg'\n\nconst routes = [\n    {\n        route: '/mardock-game',\n        title: 'Home',\n        icon: <Home />,\n    },\n    {\n        route: '/Character',\n        title: 'Character',\n        icon: <AccountCircle />,\n    },\n    {\n        route: '/Battle',\n        title: 'Battle',\n        icon: <ImageIcon width='7vw' src={fist} alt=\"battle\" />,\n    },\n    {\n        route: '/Store',\n        title: 'Store',\n        icon: <Store />,\n    },\n]\n\nexport default routes","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core'\nimport { omit } from 'lodash'\nimport React, { useState } from 'react'\n\nconst DialogButton = (props) => {\n    const { dialog ={fullScreen: false, open: false, setopen: ()=>{}}, children, onClick=()=>null } = props\n    const buttonProps = omit(props, ['dialog'])\n\n    async function handleClick(){\n        dialog.setopen(true)\n        await onClick()\n    }\n    function handleClose(){\n        dialog.setopen(false)\n    }\n    return (\n        <>\n    <Button {...buttonProps} onClick={handleClick}>{children}</Button>\n     <Dialog fullScreen={dialog.fullScreen} fullWidth  open={dialog.open} onClose={handleClose}>\n        <DialogTitle id={dialog.title}>{dialog.title}</DialogTitle>\n        <DialogContent>\n         {dialog.content}\n        </DialogContent>\n      </Dialog>\n    </>\n    )\n}\n\nexport default DialogButton\n","import styled from 'styled-components'\n\nexport const FloatingButtonContainer = styled.div`\nposition: absolute; \nright: 3vw;    \n:hover {\n       pointer: cursor;\n      }\n`\n","import { map } from \"lodash\"\n\nconst convertToOptions = (obj, useKey) => {\n    const convertedOptions = map(Object.keys(obj), key=>{\n        if(useKey){\n            return {value: key, label:key }\n        }\n        return{...obj[key], value:obj[key].label }\n    })\n   return convertedOptions\n}\n\nexport default convertToOptions\n","import { useContextState } from \"dynamic-context-provider\";\nimport { items as itemsFullData, armors, accessories, weapons } from \"../../gameData/items\";\nexport const ITEM_TYPES = {\n    misc: 'misc',\n    accessory: 'accessory',\n    weapon: 'weapon',\n    armor: 'armor',\n    specialItems: 'specialItems',\n}\nexport function useGetSpecificItem(user, itemType){\n    const repo = {\n        misc: itemsFullData,\n        weapon: weapons,\n        armor: armors,\n        accessory: accessories\n    }\n    const itemsGameData = repo[itemType]\n    const { character: {items} } = user // { misc, weapon, }\n    const itemStorage = items[itemType] // {Potion,}\n\n    const userItems = Object.keys(itemStorage).reduce((acc,name)=>{\n        const newItems = [...acc]\n        const item = {...itemsGameData[name], ...itemStorage[name], label: name, value: name}\n        newItems.push(item)\n        return newItems\n    },[])\n    \n    return [userItems, itemsGameData, items, itemStorage ] \n}\nexport function useGetItems(manualUser, itemType){\n    const { user } =  useContextState()\n    const desiredUser = manualUser ? manualUser : user\n    const [userItems, itemsGameData, dbItems] = useGetSpecificItem(desiredUser, itemType)\n    return [userItems, itemsGameData, dbItems[itemType]]\n}\n\n","import { filter } from 'lodash'\nimport React from 'react'\nimport { getAllUsers } from '../../firebase'\n\nexport const useGetTargets = (excludeUser={}) => {\n    const [targets, settargets] = React.useState([])\n    const [loading, setloading] = React.useState(true)\nasync function onLoad(){\nconst targets = await getAllUsers()\nsettargets(filter(targets, target=> target.uid !== excludeUser.uid))\nsetloading(false)\n}\nReact.useEffect(() => {\n    onLoad()\n}, [])\n\nreturn [targets, loading]\n}\n\n","import React, { useEffect, useState} from 'react'\nimport { Grid, TextField, Typography, MenuItem, Button } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useGetItems } from '../../hooks/useGetItems'\nimport { useGetTargets } from '../../hooks/useGetTargets'\nimport { itemUse } from '../../../firebase'\nimport { find, map } from 'lodash'\n\n\n\nexport default function UseBaseForm({ type = '' }) {\n    const { user, updateContextState } = useContextState()\n    const [options, itemsGameData, dbItems] = useGetItems(undefined, type)\n    const [targets, loading] = useGetTargets()\n    const [target, settarget] = useState('')\n    const [item, setitem] = useState(options[0] || {})\n\n    function handleItemChange(event) {\n        const item = find(options, {label: event.target.value})\n        settarget(item);\n    }\n\n    function handleTargetChange(event) {\n        const target = find(targets, {label: event.target.value})\n        settarget(target);\n    }\n    async function handleSubmit() {\n        updateContextState({globalLoading: true})\n        await itemUse({ userGivingItem: user, type, target, item })\n        updateContextState({globalLoading: false})\n\n    }\n\n    useEffect(() => {\n        settarget(targets[0])\n    }, [loading])\n\n    // useEffect(() => {\n    //     setitem(options[0] || {})\n    // }, [options])\n\n    if (!target) return null\n    return (\n        <div>\n            {options.length === 0 && <Typography align=\"center\">No items available</Typography>}\n            {options.length !== 0 &&\n                <Grid style={{ marginTop: '30px' }} container>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id='item'\n                            select\n                            value={item.label}\n                            onChange={handleItemChange}\n                        >\n                            {map(options, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <Typography>Quantity: {item.quantity}</Typography>\n                    </Grid>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id='target'\n                            select\n                            value={target.label}\n                            onChange={handleTargetChange}\n                        >\n                            {map(targets, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Button variant=\"outlined\" fullWidth onClick={handleSubmit}>Use Item</Button>\n                    </Grid>\n\n                </Grid>\n            }\n\n        </div>\n\n    )\n}\n\n","import { forEach } from \"lodash\"\n\nexport function checkIfSkilledEnoughToEquip(value={requirement: {}}, user){\n    let skilledEnough = false\n    const { character } = user\n    forEach(Object.keys(character.stats), statName=>{\n      const  points = character.stats[statName]\n      const requirement = value.requirement[statName] \n      const noRequirements = !Object.keys(value.requirement).length\n      if((requirement && points >= requirement) || noRequirements){\n        skilledEnough = true\n      }\n    })\n    return skilledEnough\n  }","import React, { useEffect } from 'react'\nimport { Button, Grid, MenuItem, TextField, Typography } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { useGetItems } from '../../hooks/useGetItems'\nimport { equipItem } from '../../../firebase'\nimport { map, find } from 'lodash'\nimport { checkIfSkilledEnoughToEquip } from '../../helpers/checkIfSkilledEnoughToEquip.js'\nimport { launchToaster } from '../../../core/toaster'\n\n\nexport default function EquipBaseForm({ type = '' }) {\n    const { user, globalLoading, updateContextState } = useContextState()\n    const [options, itemsGameData, dbItems] = useGetItems(undefined, type)\n    const { character: { items, equipped } } = user\n    const [value, setvalue] = React.useState(options[0])\n\n    const equippedFullInfo = itemsGameData[equipped[type]] || {}\n    const desiredSwapFullInfo = itemsGameData[value?.label] || {}\n    async function handleSubmit() {\n        const isSkilledEnough = checkIfSkilledEnoughToEquip(itemsGameData[value.label], user)\n        if (!isSkilledEnough) return launchToaster({ type: 'error', content: 'Not skilled enough to use this weapon' })\n        updateContextState({ globalLoading: true })\n        const newInitialEquipInBag = await equipItem({ user, items, newEquip: value.label, type, itemsGameData })\n        setvalue({ label: newInitialEquipInBag })\n        updateContextState({ globalLoading: false })\n\n    }\n\n\n    function handleChange(event) {\n        const selectedEquip = find(options, { label: event.target.value })\n\n        setvalue(selectedEquip);\n    }\n\n    useEffect(() => {\n        if (!value) return\n        const selectedEquip = find(options, { label: value.label })\n        setvalue(selectedEquip)\n    }, [globalLoading])\n    console.log('log: itemsGameData', {equipped,value, itemsGameData})\n    return (\n        <div>\n            <Typography variant=\"h5\" align=\"center\">{Object.keys(equipped[type]).length > 0 ? `Equipped: ${equipped[type]}` : `Nothing Equipped`}</Typography>            \n           {\n           Object.keys(equipped[type]).length > 0 && <> \n           <Typography align=\"center\">\n            Attack Roll: {equippedFullInfo.roll}    \n            </Typography>   \n            <Typography align=\"center\">\n            {equippedFullInfo.description}    \n            </Typography>    \n            </>\n             }           \n            \n            {\n                options.length === 0 && <Typography align=\"center\">No other {type}s</Typography>\n            }\n\n            {options.length !== 0 &&\n                <Grid style={{ marginTop: '30px' }} container>\n                    <Grid style={{ marginBottom: '30px' }} item xs={12}>\n                        <TextField\n                            fullWidth\n                            id={type}\n                            select\n                            value={value.label}\n                            onChange={handleChange}\n                        >\n                            {map(options, (option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Button variant=\"outlined\" fullWidth onClick={handleSubmit}>Swap Equipped</Button>\n                    </Grid>\n\n                </Grid>\n            }\n\n        </div>\n\n    )\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { useGetBagOptions } from '../hooks/useGetBagOptions'\nimport { map } from 'lodash';\nimport UseBaseForm from './forms/UseBaseForm';\nimport EquipBaseForm from './forms/EquipBaseForm';\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n         {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    'aria-controls': `vertical-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    height: 224,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nexport default function Bag() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  const options = useGetBagOptions()\n  const bagLabels = ['Items', 'Weapons', 'Armor', 'Accessories', 'Special Items']\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  return (\n    <div>\n      <Tabs\n              variant=\"scrollable\"\n\n        value={value}\n        onChange={handleChange}\n        aria-label=\"Vertical tabs example\"\n        className={classes.tabs}\n      >\n          {map(bagLabels, (label, i)=><Tab key={label} label={label} {...a11yProps(i)} />)}\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        <UseBaseForm type=\"misc\" options={options.misc} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n      <EquipBaseForm type=\"weapon\" />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n      <EquipBaseForm type=\"armor\"  />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n      <EquipBaseForm type=\"accessory\" />\n      </TabPanel>\n      <TabPanel value={value} index={4}>\n      <UseBaseForm type=\"specialItem\" options={options.specialItem} />\n      </TabPanel>\n\n    </div>\n  );\n}","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport { accessories as accessoriesRepo, weapons as weaponsRepo, armors as armorRepo, items as itemsRepo } from \"../../gameData/items\";\nimport convertToOptions from \"../helpers/convertToOptions\";\nexport function useGetBagOptions(){\n    const { user: {character: {items}} } = useContextState()\n    const options = Object.keys(items).reduce((acc, type)=>{\n        const itemsMap = {...acc}\n        const itemType = items[type]\n        const repoMapper = {\n            misc: itemsRepo,\n            weapon: weaponsRepo,\n            accessory: accessoriesRepo,\n            armor: armorRepo\n        }\n        const repo = repoMapper[type]\n\n        itemsMap[type] = map(Object.keys(itemType), itemName=>{\n\n            return {...itemType[itemName], ...repo[itemName]}\n        })\n        \n        return itemsMap\n    }, {})\n\n    return options\n}\n\nexport function useGetAllItemOptions(user){\n    const {character: {items} } = user\n\n    const options = Object.keys(items).reduce((acc, type)=>{\n        const repoMapper = {\n            misc: itemsRepo,\n            weapon: weaponsRepo,\n            accessory: accessoriesRepo,\n            armor: armorRepo,\n            specialItem: {}\n        }\n        const repo = repoMapper[type]\n        return {...acc,[type]: convertToOptions(repo)}\n    }, {})\n    return options\n}","import { useContextState } from 'dynamic-context-provider'\nimport React from 'react'\nimport DialogButton from '../DialogButton'\nimport { FloatingButtonContainer } from './styled'\nimport { Dialog, DialogContent, DialogTitle } from '@material-ui/core'\nimport Bag from './Bag'\n\nconst FloatingButton = ({children}) => {\n    const [open, setopen] = React.useState(false)\n\n    function handleOpen(){\n        setopen(true)\n    }\n    function handleClose(){\n        setopen(false)\n    }\n   \n    return (\n        <>\n<FloatingButtonContainer onClick={handleOpen}>\n            {children}\n        </FloatingButtonContainer>\n        <Dialog fullWidth style={{bottom: '50vw'}} open={open} onClose={handleClose}>\n        <DialogTitle id='Bag'>Bag</DialogTitle>\n        <DialogContent>\n         <Bag />\n        </DialogContent>\n      </Dialog>\n       </>\n    )\n}\n\nexport default FloatingButton\n","export default __webpack_public_path__ + \"static/media/bag.74d92ec9.svg\";","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { useHistory } from 'react-router-dom';\nimport routes from '../core/routes';\nimport FloatingButton from './FloatingButton';\nimport ImageIcon from './ImageIcon';\nimport bag from '../images/bag.svg';\nimport { signOut } from '../firebase';\nimport { find } from 'lodash';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\nfunction getTitle(route){\n  const title = find(routes, {route})?.title || ''\n  return title\n}\nexport default function Root({children}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const history = useHistory()\n\n  const headerTitle = getTitle(history.location.pathname)\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  \n  function handleLinkClick(e, route){\n      e.preventDefault()\n      e.stopPropagation()\n    history.push( `${route}`)\n  }\n  async function handleLogOut(){\n    history.replace('/sign-in')\n    await signOut()\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            {headerTitle}\n          </Typography>\n          <FloatingButton>\n            <ImageIcon width='40px' src={bag} alt=\"bag\" />\n          </FloatingButton>\n      \n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {routes.map((config, index) => (\n            <ListItem  button key={index}>\n              <ListItemIcon onClick={(e)=>handleLinkClick(e, config.route)}>\n                  {config.icon}\n              </ListItemIcon>\n              <ListItemText primary={config.title} />\n            </ListItem>\n          ))}\n           <Divider />\n           <ListItem  button>\n              <ListItemIcon onClick={handleLogOut}>\n                 <ExitToAppIcon />\n              </ListItemIcon>\n              <ListItemText primary='Log out' />\n            </ListItem>\n        </List>\n       \n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>  \n    </div>\n  );\n}\n","export const attacks ={\n    sword: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    dagger: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    fisticuff: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    projectile: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    spear: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n    gun: {\n        'Wide Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Wide Slash', rule:'Roll a d8 and deal damage to any 2 monsters next to eachother near you', description: 'An experience slash that can strike two enemies if they are next to eachother'},\n        'Pin Missle Strike': { useDescription: 'Ap: 3', ap: 3, label: 'Pin Missle Strike',rule: 'Roll a d4 twice, the amount of damage dealt is the product of the two', description: 'A multi strike attack with pin point precision'},\n        'Fire Slash': { useDescription: 'Ap: 3', ap: 3, label: 'Fire Slash',rule: 'Your attack now deals fire damage', description: 'The user blesses their blade with the sun spirit, Ilumite'},\n    },\n}","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../core/theme'\nimport { Typography } from '@material-ui/core'\nimport { useContextState } from 'dynamic-context-provider'\nimport { itemUse } from '../../firebase'\n\nconst BaseBluePrint = ({ values, type = 'base', options = [{ label: '', value: '' }], targets = [{ label: '', value: '' }] }) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: type,\n                            name: type,\n                            type: 'selectNative',\n                            options,\n                            subscript: <>\n                                <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Description</Typography>\n                                <Typography style={{ fontSize: '10pt', marginBottom: '10px' }}>{values[type]?.description}</Typography>\n                               {type !== 'Items' &&<> <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>How to use</Typography>\n                                <Typography style={{ fontSize: '10pt', marginBottom: '10px' }}>{values[type].rule}</Typography>\n                                <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Cost</Typography>\n                                <Typography style={{ fontSize: '10pt' }}>{values[type].useDescription}</Typography></>}\n                                {type === 'Items' && <Typography style={{ fontWeight: 'bold', fontSize: '10pt' }}>Quantity: {values[type].quantity}</Typography>}\n\n                            </>\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options: targets\n\n                        }\n                    }\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst errorMessageMap = {\n    Attack: 'You dont know any specials with this weapon',\n    Items: 'No items',\n    Spell: \"You don't know any spells\" \n}\nconst defaultOptions = [{ description: 'This is a description', label: 'Long Sword', value: 'Long Sword' }, { description: 'This is another description', label: 'Short Sword', value: 'Short Sword' }]\nconst defaultTargets = [{ label: 'Monster 1', value: 'Monster 1' }, { label: 'Monster 2', value: 'Monster 2' }]\nexport default function BaseForm({ user, type = '', options = defaultOptions, targets = defaultTargets }) {\n    const initialValues = { [type]: options[0], target: targets[0] }\n    const [values, setvalues] = React.useState(initialValues)\n\n    if(!options.length) return errorMessageMap[type]\n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(field => {\n            const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n            if (isEmpty) {\n                errors[field] = 'required'\n            }\n        })\n        setvalues(values)\n        return errors\n    }\n    async function handleSubmit(values, formik) {\n        const item = values.Items\n        console.log('log: values',  values.Items, values[type])\n        setvalues({...values, Items: {...item, quantity: item.quantity-=1}})\n        await itemUse({ userGivingItem: user, type, target: values.target, item })\n    }\n    // TODO: replace with normal form for auto updates\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BaseBluePrint({ values, type, options, targets })}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\n","import React from 'react'\nimport { useAttacks } from '../../common/hooks/useAttacks'\nimport BaseForm from './BaseForm'\n\nconst AttackForm = ({closeModal}) => {\n    const attacks = useAttacks()\n    function onSubmit(){\n        closeModal()\n    }\n    return (\n       <BaseForm onSubmit={onSubmit} type=\"Attack\" options={attacks} />\n    )\n}\n\nexport default AttackForm\n","import { useContextState } from \"dynamic-context-provider\";\nimport { forEach, map } from \"lodash\";\nimport { weapons } from \"../../gameData/items\";\nimport { attacks } from \"../../gameData/player/attacks\";\n\nexport function useAttacks(){\n    const { user: {character: {techniques, equipped: { weapon }}} } = useContextState()\n    const equippedWeapon = weapons[weapon]\n\n    const listOfAttacks = attacks[equippedWeapon.type]\n\n    \n    const availableAttacks = []\n    forEach(techniques.attacks, name=>{\n        if(!listOfAttacks[name])return \n        availableAttacks.push({...listOfAttacks[name], value: listOfAttacks[name].label}) \n    })\n    return availableAttacks\n}","import { useContextState } from 'dynamic-context-provider'\nimport React from 'react'\nimport { ITEM_TYPES, useGetItems } from '../../common/hooks/useGetItems'\nimport { useGetTargets } from '../../common/hooks/useGetTargets'\nimport BaseForm from './BaseForm'\n\nconst ItemsForm = ({closeModal}) => {\n    const { user } = useContextState()\n    const [userItems]= useGetItems(user, ITEM_TYPES.misc)\n    const [targets, loading] = useGetTargets()\n    if(loading)return null\n    return (\n       <BaseForm user={user} targets={targets} options={userItems} onSubmit={closeModal} type=\"Items\" />\n    )\n}\n\nexport default ItemsForm\n","const ballSpell = (element)=>{\n    const spell = { useDescription: 'Mp: 4',label: `${element} Ball`, description: `A sphere made of ${element}, hurled at an enemy 3 meters in the users line of vision`, element: element.toLowerCase(), rule:'Roll a d8 dice and deal damage equal to that result + elemental damage', mp: 4}\n    return spell\n}\nconst healSpell = (stat='hp+10',mp=10, description='')=>{\n    const spell = {\n        label: `Heal Ball`, \n        stat,\n        element: 'heal', \n        mp, \n    }\n    return spell\n}\nconst spells = {\n    'Fire Ball':  ballSpell('Fire'),\n    'Ice Ball':  ballSpell('Ice'),\n    'Thunder Ball':  ballSpell('Thunder'),\n    'Shadow Ball':  ballSpell('Shadow'),\n    'Lumen Ball':  ballSpell('Lumen'),\n    'Wind Ball':  ballSpell('Wind'),\n    'Heal': healSpell(),\n}\nexport default spells","import React from 'react'\nimport { useSpells } from '../../common/hooks/useSpells'\nimport BaseForm from './BaseForm'\n\nconst SpellForm = ({closeModal}) => {\n    const spells = useSpells()\n    function onSubmit(){\n        closeModal()\n    }\n    return (\n       <BaseForm onSubmit={onSubmit} type=\"Spell\" options={spells} />\n    )\n}\n\nexport default SpellForm\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from \"lodash\";\nimport  spells from \"../../gameData/player/spells\";\n\nexport function useSpells(){\n    const { user: {character: {techniques}} } = useContextState()\n    const availableSpells = map(techniques.spells, name=>{\n        return {...spells[name], value: spells[name].label}\n    })\n    return availableSpells\n}","import React from 'react'\nimport { useContextState } from 'dynamic-context-provider';\nimport { useGetEquippedData } from './hooks/useGetEquippedData'\nimport { useStatSheet } from './hooks/useStatSheet'\nimport { Typography } from '@material-ui/core';\n\nconst ApNotifier = () => {\n    const {\n        user: {\n            character: { ap, maxAp, equipped: { armor = { ap: 0 } } } }\n    } = useContextState()\n    const weapon = useGetEquippedData('weapon')\n    const accessory = useGetEquippedData('accessory')\n   \n    function getAp(){\n        const currentAp = ap + (armor.ap || 0) + (weapon.ap || 0) + (accessory.ap || 0)\n      return currentAp\n    }\n    return (<Typography>{`AP: ${getAp()}/${maxAp}`}</Typography>)\n}\n\nexport default ApNotifier\n","import React from 'react'\nimport HpBar from '../../common/ProgressBar/HpBar'\nimport MpBar from '../../common/ProgressBar/MpBar'\nimport sprite from '../../images/sprites/babynewt.png'\nimport { Button, Typography } from '@material-ui/core'\nimport { find } from 'lodash'\nimport { ArrowBack } from '@material-ui/icons'\n\nconst MonsterView = ({monsterName, battle, close}) => {\n    const monster = find(battle?.monsters, {name: monsterName})\n    return (\n        <div>\n            <Button\n                onClick={close}\n                startIcon={<ArrowBack />}\n            >{monster.name}</Button>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <img style={{ width: '40vw' }} src={sprite} alt=\"\" />\n            </div>\n            <div>\n                <HpBar monster={monster} />\n                <MpBar monster={monster} />\n            </div>\n        </div>\n\n    )\n}\n\nexport default MonsterView\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAmBAMAAACi8w9qAAAAIVBMVEUgICAISGBYOAgIgIgwqKDYYGCggBDg0ADY0Lj4vyQAAABtaUYvAAAAC3RSTlP///////////8AANlr/IAAAAGXSURBVHicbZKxbuQgEIbHN8iHO6+gSBl5pdSzYR8A5ClS5hGsFNSbKikt3UnZclq/7Q25OIHLucDw8cP8/ABb8wnAx7/B0Dk3fOeQnPuPXtgH2L7zLqV9WPMiHyoOu4c0l6JqadBGgJmh6MxhJlVhCKTU8DRNHAtPiTaZ76fpGADkR84Zzro0jqo31Of8pPpN+rwEVKVxQKI9lb3XlYx3iIPxPiBif+yXv35kuV/oSJzYUbilJ/rgG96VmdvkqdB8HHbeQ7+wSVw2hx53LmIhm/OBXegXC/KVA7zqOdjPDuylzhl/XtWOd8G+Yc1FXlajeni7SJOnPHvS/NJ4aXOWLs3hnD4vYOcGtWxidTrUXGI8e817JqKGezaaAzsMY81NV46r94iu8dmZSIqZKDTcmBghpQgtl8iGLoc0lguiL27XZDS5uV8Qx+vwyQHYzJBOhKqHodqfo7p3+kJOoanrHzqdCCcbTg3nG/Aa/2hdaPw8rLJyoFWujZ/fasICWG1/1X6sElkfV5XY2g+IDmxRvvf+ef91/w9tFkjHdEgU+wAAAABJRU5ErkJggg==\"","import { useContextState } from 'dynamic-context-provider'\nimport { filter, find } from 'lodash'\nimport { useState, useEffect } from 'react'\nimport { getCollection } from '../../firebase'\nfunction filterMonstersInSight(user, monsters){\n    const filteredMons = filter(monsters, monster=>{\n        const isInView = find(user.character?.inView, { name: monster.name}) ? true : false\n        \n        return isInView\n    })\n    \n    return filteredMons\n}\nexport const useGetBattle = (user=null) => {\n    const { battle } = useContextState()\n    const [loading, setloading] = useState(true)\n    const [data, setdata] = useState(null)\n   async function getData(){ \n        const battles = await getCollection(['DM', 'battles'])\n        let battle = null\n        if(battles.current.monsters){\n            battle = battles.current\n            if(user){\n                battle.monsters = filterMonstersInSight(user, battle.monsters)\n            }\n        }\n\n        setdata(battle)\n        setloading(false)\n    }\n\nuseEffect(() => {\n    getData()\n}, [])\nuseEffect(() => {\n    if(user) {\n        getData()\n    }else if(battle?.monsters){\n        setdata(battle)\n    }\n}, [battle, user])\n\nreturn [data, loading]\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport { map } from 'lodash';\nimport ImageIcon from '../../common/ImageIcon'\nimport MonsterView from './MonsterView'\nimport { useContextState } from \"dynamic-context-provider\";\nimport { useGetBattle } from '../../common/hooks/useGetBattle'\nimport { Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\nexport default function MonsterList() {\n    const { user } = useContextState()\n    const [initialBattle, loading] = useGetBattle(user)\n    const [monster, setmonster] = React.useState(null)\n    function closeMonsterView(){\n        setmonster(null)\n    }\n    const classes = useStyles();\n\n    return (\n        <>\n         {\n                monster !== null && <MonsterView battle={initialBattle} monsterName={monster.name} close={closeMonsterView}/>\n            }\n        <div className={classes.root}>\n           \n            { !monster && initialBattle?.monsters.length > 0 &&\n            <List component=\"nav\" aria-label=\"monster-list\">\n                {\n                    map(initialBattle.monsters, (monster, i) => {\n                        return (\n                            <React.Fragment key={i}>\n                               <ListItem button onClick={()=>setmonster(monster)}>\n                                        <ListItemIcon>\n                                            <ImageIcon width=\"50px\" src={monster.src} />\n                                        </ListItemIcon>\n                                        <ListItemText primary={monster.name} />\n                                    </ListItem>\n\n                                {initialBattle.monsters[i + 1] !== undefined && <Divider />}\n                            </React.Fragment>\n                        )\n                    })\n                }\n            </List> }\n            { !initialBattle?.monsters.length > 0 && !loading && <Typography>No Monsters Within Striking Range</Typography>}\n        </div>\n        </>\n    );\n}","import { Grid } from '@material-ui/core'\nimport React from 'react'\nimport DialogButton from '../../common/DialogButton'\nimport HpBar from '../../common/ProgressBar/HpBar'\nimport MpBar from '../../common/ProgressBar/MpBar'\nimport AttackForm from './AttackForm'\nimport ItemsForm from './ItemsForm'\nimport SpellForm from './SpellForm'\nimport ApNotifier from '../../common/ApNotifier'\nimport MonsterList from './MonsterList'\n\nconst BattlePage = () => {\n    const [aopen, setaopen] = React.useState(false)\n    const [sopen, setsopen] = React.useState(false)\n    const [iopen, setiopen] = React.useState(false)\n    return (\n        <div>\n            <MonsterList />\n            <Grid style={{ textAlign: 'center', marginTop: '50vw' }} container >\n                <Grid item xs={6}>\n                    <DialogButton\n                        dialog={{\n                            open: aopen,\n                            setopen: setaopen,\n                            title: 'Attacks',\n                            content: <AttackForm closeModal={()=>setaopen(false)} />,\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Attack</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                    <DialogButton\n                        dialog={{\n                            open: sopen,\n                            setopen: setsopen,\n                            title: 'Spells',\n                            content: <SpellForm closeModal={()=>setsopen(false)}/>,\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Spell</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                    <DialogButton\n                        dialog={{\n                            title: 'Items',\n                            content: <ItemsForm closeModal={()=>setiopen(false)}/>,\n                            open: iopen,\n                            setopen: setiopen\n                        }}\n\n                        fullWidth\n                        variant=\"outlined\"\n                    >Items</DialogButton>\n                </Grid>\n                <Grid item xs={6}>\n                    <DialogButton\n                        fullWidth variant=\"outlined\">Evade</DialogButton>\n                </Grid>\n            </Grid>\n            <div>\n                <HpBar />\n                <MpBar />\n                <ApNotifier />\n               \n            </div>\n        </div>\n\n    )\n}\n\nexport default BattlePage\n","import React from 'react'\n\nconst CharacterPage = () => {\n    return (\n        <div>\n            CharacterPage\n        </div>\n    )\n}\n\nexport default CharacterPage\n","export const initialCharacterObject = {\n    title: 'Novice Adventurer',\n    ap: 10,\n    class: 'Knight',\n    inView: null,\n    equipped: {accessory: '', armor: {}, weapon: 'Long Sword', secondaryWeapon: ''},\n    exp: 0,\n    gil: 0,\n    hp: 10,\n    mp: 10,\n    items: {misc:{}, weapon: {}, armor: {}, accessory: {}, specialItem: {}},\n    level: 1,\n    maxAp: 10,\n    maxHp: 10,\n    maxMp: 10,\n    stats: {},\n    techniques: {\n        attacks: {\n            sword: [],\n            bow: [],\n            spear: [],\n            fisticuff: [],\n            projectile: [],\n            gun: []\n        },\n        spells: []\n    },\n    dmMessage: {\n        hint: null,\n        innerThoughts: null\n    }\n\n}","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../../core/theme'\nimport { classes } from '../../gameData/player/classes'\nimport { forEach, map } from 'lodash'\n\nconst BluePrint = (options) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'class',\n                            name: 'class',\n                            type: 'select',\n                            label: 'class',\n                            variant: 'filled',\n                            options,\n                        }\n                    },\n                ]\n            },\n\n        ]\n    })\n}\n\nconst ClassForm = ({createUserObj, updateCharacter}) => {\n    const initialValues= { class: createUserObj.class }\n    const options = map(Object.keys(classes), className=>{\n        const classOption = classes[className]\n        return {...classOption, value:classOption.label}\n    })\n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(fieldName => {\n            const field = values[fieldName]\n            const isEmpty = (!field) || (typeof field === 'string' && !field.length)\n            if (isEmpty) {\n                updateCharacter({ class: null})\n                errors[fieldName] = 'required'\n            }else if(fieldName === 'class'){  \n                // default all stats before class modification  \n                forEach(Object.keys(createUserObj.stats),(statName) => {\n                    createUserObj.stats[statName].points = 10\n                });     \n                       \n                const stat = Object.keys(field.statBoost)[0] // str\n                const statBoost = field.statBoost[stat] // 2\n                const statObj = createUserObj.stats[stat] // {label: 'Strength'}\n                const baseStat = statObj.points // 10\n\n                updateCharacter({\n                    class: field.label,\n                    stats: {...createUserObj.stats, [stat]: {...statObj, points: baseStat + statBoost}} \n                })\n            }\n\n        })\n        return errors\n    }\n\n    return (\n        <div>\n          <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint(options)}\n            initialValues={initialValues}\n        />   \n        </div>\n    )\n}\n\nexport default ClassForm\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { map } from 'lodash';\nimport NumericInput from 'react-numeric-input';\nimport { convertStatSheet } from '../../common/hooks/useStatSheet';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: '36ch',\n    backgroundColor: theme.palette.background.paper,\n  },\n  inline: {\n    display: 'inline',\n  },\n}));\n\nconst Stat = ({updateCharacterStat, stat, availablePoints, setavailablePoints}) => {\n    const maxStatIncrease = 5\n    const [statPoint, setstatPoints] = useState(stat.points - 10)\n    const textColor = statPoint >=3 ? 'green' : 'red'\n    function handleStateChange(value){\n\n        setstatPoints((oldValue)=>{\n            let newAvailablePoints = availablePoints - 1\n            let updateValue = 1\n            if(availablePoints <= 0 || oldValue > value ){\n                newAvailablePoints = availablePoints + 1\n                updateValue = -1\n            }\n            setavailablePoints(newAvailablePoints)\n            updateCharacterStat(stat.abbr, updateValue)\n            return value\n        })\n    }\n    const max = !availablePoints ? statPoint : maxStatIncrease\n    const rollBonusText = stat.statBoost ? `(Roll +${stat.statBoost})` : ''\n    return(\n        <div style={{textAlign: 'center'}}>\n        <ListItem key={stat.abbr} alignItems=\"flex-start\">\n        <ListItemAvatar>\n          <Avatar alt={stat.abbr} >{stat.abbr}</Avatar>\n        </ListItemAvatar>\n        <ListItemText\n          primary={`${stat.label}: ${stat.points} ${rollBonusText}`}\n          secondary={stat.description}\n        />\n       \n      </ListItem>\n             <NumericInput \n                onChange={handleStateChange} \n                style={{input: {fontSize: '14pt',color: textColor, width: '100px', height: '40px'}}} \n                mobile={true} \n                min={0}\n                max={max} \n                value={statPoint}\n            />\n        </div>\n       \n    )\n}\n\n\nexport default function StatsForm({updateCharacter, createUserObj, availablePoints, setavailablePoints}) {\n  const classes = useStyles();\n  const statObj = convertStatSheet(createUserObj.stats)\n\n  function updateCharacterStat(key, value){\n    const newCharStats = {...statObj}\n    newCharStats[key].points = newCharStats[key].points + value\n    updateCharacter({stats: convertStatSheet(newCharStats)})\n  }\n  return (\n    <List className={classes.root}>\n        <p>{availablePoints}</p>\n        {\n            map(Object.keys(statObj), (abbr, i)=>{\n                const stat = {...createUserObj.stats[abbr], abbr}\n               return <Stat key={i} updateCharacterStat={updateCharacterStat} stat={stat} availablePoints={availablePoints} setavailablePoints={setavailablePoints}/>\n            })\n        }\n    </List>\n  );\n}","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport theme from '../../core/theme'\nimport weapons from '../../gameData/items/weapons'\nimport {classes} from '../../gameData/player/classes'\n\nconst BluePrint = (options, helperText) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'weapon',\n                            name: 'weapon',\n                            type: 'select',\n                            label: 'Weapon',\n                            variant: 'filled',\n                            options,\n                            helperText\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst WeaponForm = ({initialValues, createUserObj, updateCharacter}) => {\n    const weaponData = weapons[createUserObj.equipped.weapon]\n    const statAbbr = `${Object.keys(weaponData.requirement)[0]}`\n    const requiredText = `Minimum stat needed to use (${statAbbr}: ${weaponData.requirement[statAbbr]})`\n    const options = Object.keys(weapons).map(weaponName=>{\n        return { label: weaponName, value: weaponName}\n    })\n    \n    function validate(values) {\n        const errors = {}\n        Object.keys(values).forEach(field => {\n            const isEmpty = (!values[field]) || (typeof values[field] === 'string' && !values[field].length)\n            if (isEmpty) {\n                errors[field] = 'required'\n            }\n            if(field === 'weapon'){\n                updateCharacter({equipped: {...createUserObj.equipped, weapon: values[field].value}})\n            }\n        })\n        return errors\n    }\n\n    return (\n        <div>\n          <MuiFormGenerator\n            theme={theme}\n            manualValidate={validate}\n            blueprint={BluePrint(options, requiredText)}\n            initialValues={initialValues}\n        />   \n        </div>\n    )\n}\n\nexport default WeaponForm\n","import React from 'react'\n\nconst CompleteCreateForm = ({createUserObj}) => {\n    return (\n        <div>\n            \n        </div>\n    )\n}\n\nexport default CompleteCreateForm\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { initialCharacterObject } from '../../gameData/player/initialCharacterObject';\nimport { forEach } from 'lodash';\nimport ClassForm from './ClassForm';\nimport StatsForm from './StatsForm';\nimport WeaponForm from './WeaponForm';\nimport CompleteCreateForm from './CompleteCreateForm';\n\nimport { statSheet } from '../../gameData/constants';\nimport { useContextState } from 'dynamic-context-provider';\nimport weapons from '../../gameData/items/weapons';\nimport {classes} from '../../gameData/player/classes';\nimport { launchToaster } from '../../core/toaster';\nimport { useUpdateCharacter } from '../../common/hooks/useUpdateCharacter';\nimport { useHistory } from 'react-router-dom';\nimport BasicRoot from '../../common/BasicRoot';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  actionsContainer: {\n    marginBottom: theme.spacing(2),\n  },\n  resetContainer: {\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction getSteps() {\n  return ['Select a Class', 'Choose Your Stats', 'Choose a Weapon', 'Create Character'];\n}\n\n\n\nexport default function CreatePage() {\n  const { user } = useContextState()\n  const history = useHistory()\n  const classStyles = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const steps = getSteps();\n  const [createUserObj, setcreateUserObj] = useState({...initialCharacterObject, name: user.displayName, stats: statSheet})\n  const [availablePoints, setavailablePoints] = useState(10)\n  const [updateFireBaseCharacter] = useUpdateCharacter()\n\n  function checkIfSkilledEnoughToEquip(value={requirement: {}}, character={stats:{}}){\n    let skilledEnough = false\n    forEach(Object.keys(character.stats), statName=>{\n      const { points } = character.stats[statName]\n      const requirement = value.requirement[statName] \n      const noRequirements = !Object.keys(value.requirement).length\n      if((requirement && points >= requirement) || noRequirements){\n        skilledEnough = true\n      }\n    })\n    return skilledEnough\n  }\n\n  function isInvalidateCharacerObj(){\n    let invalid = false\n    if(!createUserObj.class){\n      invalid = 'Please select a class'\n    }\n    if(!createUserObj.equipped.weapon){\n      invalid = 'Please select a weapon'\n    }\n    if(!createUserObj.equipped.weapon){\n      invalid = 'Please select a weapon'\n    }\n    if(!checkIfSkilledEnoughToEquip(weapons[createUserObj.equipped.weapon], createUserObj)){\n      invalid = 'You are not able to use this weapon'\n    }\n    return invalid\n  }\n\n  function updateCharacter(fields={}){\n      const newObj = {...createUserObj}\n      forEach(Object.keys(fields), fieldName=>{\n        newObj[fieldName] = fields[fieldName]\n      })\n      setcreateUserObj(newObj)\n  }\n\n  const handleNext = () => {\n    if(isInvalidateCharacerObj() && activeStep === 2){\n      return launchToaster({type: 'error', content: isInvalidateCharacerObj()})\n    } \n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  function goToStep(index){\n    if(isInvalidateCharacerObj() && index === 3){\n      return launchToaster({type: 'error', content: isInvalidateCharacerObj()})\n    } \n    setActiveStep(index);\n\n  }\n\n  function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return <ClassForm createUserObj={createUserObj} updateCharacter={updateCharacter} />\n      case 1:\n        return <StatsForm createUserObj={createUserObj} updateCharacter={updateCharacter} availablePoints={availablePoints} setavailablePoints={setavailablePoints} />;\n      case 2:\n        return <WeaponForm createUserObj={createUserObj} updateCharacter={updateCharacter} initialValues={{weapon: createUserObj.equipped.weapon}}/>\n      case 3:\n          return <CompleteCreateForm createUserObj={createUserObj}/>\n      default:\n        return 'Unknown step';\n    }\n  }\n  async function handleSubmit(){\n    try{\n      const character = {\n        ...createUserObj,\n        stats: Object.keys(createUserObj.stats).reduce((acc,statKey)=>{\n          return {...acc, [statKey]: createUserObj.stats[statKey].points}\n        },{})\n      }\n      await updateFireBaseCharacter({character})\n      history.replace('/')\n    }catch(e){\n      console.error('log: error', e)\n    }\n\n\n  }\n  function checkIfCharacterExists(){\n    if(user.character)return history.replace('/')\n    if(!user.uid)return history.replace('/sign-in')\n  }\n  React.useEffect(() => {\n    checkIfCharacterExists()\n  }, [user])\n  return (\n    <BasicRoot>\n    <div className={classStyles.root}>\n      <Stepper activeStep={activeStep} orientation=\"vertical\">\n        {steps.map((label, index) => (\n          <Step key={label}>\n            <StepLabel onClick={()=>goToStep(index)}>{label}</StepLabel>\n            <StepContent>\n              {getStepContent(index)}\n              <div className={classStyles.actionsContainer}>\n                <div>\n                  <Button\n                    disabled={activeStep === 0}\n                    onClick={handleBack}\n                    className={classStyles.button}\n                  >\n                    Back\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={activeStep === steps.length - 1 ? handleSubmit : handleNext}\n                    className={classStyles.button}\n                  >\n                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                  </Button>\n                </div>\n              </div>\n            </StepContent>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n    </BasicRoot>\n  );\n}","import { useContextState } from \"dynamic-context-provider\";\nimport { updateCharacter } from \"../../firebase\";\n\nexport const useUpdateCharacter = () => {\n    const { user, updateContextState } = useContextState()\n\n    async function updateAndGetCharacter(updates){\n        const newUser = await updateCharacter(user,updates)\n\n        updateContextState({user: newUser})\n    }\n    \n    return [updateAndGetCharacter]\n  }\n","import {randomIntFromInterval} from '../helpers'\n\nconst monsterAttacks = {\n    wolf: {\n        common: {\n            'Slash': { label: 'Slash', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Growl': { label: 'Growl', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Grand Slash': { label: 'Grand Slash', damage: randomIntFromInterval(6, 10), description: '', element: 'normal', mp: 0},\n            'Monster Howl': { label: 'Monster Howl', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Dark Bite': { label: 'Dark Bite', damage: randomIntFromInterval(6, 20), description: '', element: 'shade', mp: 0},\n            'Shadow Ball': { label: 'Shadow Ball', damage: randomIntFromInterval(12, 20), description: '', element: 'shade', mp: 0},\n        },\n    },\n    bear: {\n        common: {\n            'Slash': { label: 'Slash', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Swipe': { label: 'Swipe', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Force Claw': { label: 'Force Claw', damage: randomIntFromInterval(5, 9), description: '', element: 'normal', mp: 0},\n            'Ferocious Fury': { label: 'Ferocious Fury', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Grand Blade': { label: 'Grand Blade', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Earth Blast': { label: 'Earth Blast', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n\n    snake: {\n        common: {\n            'Bite': { label: 'Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Wrap': { label: 'Wrap', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Headbutt': { label: 'Headbutt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Venomous Bite': { label: 'Venomous Bite', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Buried Assault': { label: 'Buried Assault', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Acid Spit': { label: 'Acid Spit', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Petrify Stare': { label: 'Petrify Stare', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n    \n    slime: {\n        common: {\n            'Tackle': { label: 'Tackle', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Bounce': { label: 'Bounce', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Super Tackle': { label: 'Super Tackle', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Bounce': { label: 'Super Bounce', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Fire Ball': { label: 'Super Fire Ball', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Super Thunder Bolt': { label: 'Super Thunder Bolt', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n    },\n    goblin: {\n        common: {\n            'Scratch': { label: 'Scratch', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Strike': { label: 'Strike', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Eye Poke': { label: 'Eye Poke', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n            'Cry': { label: 'Cry', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n        },\n        special: {\n            'Emperor Assault': { label: 'Emperor Assault', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Heal': { label: 'Heal', damage: randomIntFromInterval(1, 4), description: '', element: 'normal', mp: 0},\n            'Fire Ball': { label: 'Fire Ball', damage: randomIntFromInterval(0, 0), description: '', element: 'normal', mp: 0},\n        },\n    },\n\n}\nexport default monsterAttacks","export default __webpack_public_path__ + \"static/media/wolf.c4291b28.svg\";","import wolf from '../../images/wolf.svg'\nimport kingDireWolf from '../../images/kingDireWolf.svg'\nconst monsters = {\n    wolf: {\n        'Young Dire Wolf': { src: wolf,name: 'Young Dire Wolf', type: 'wolf', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        'Dire Wolf': { src: wolf,name: 'Dire Wolf', type: 'wolf', description: '', level: 9, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        special: {\n            'Grand Dire Wolf': { src: wolf,name: 'Grand Dire Wolf', type: 'wolf', description: '', level: 14, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Grand Slash', 'Dark Bite'] } },\n            'King Dire Wolf': { src: kingDireWolf,name: 'King Dire Wolf', type: 'wolf', description: '', level: 25, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Grand Slash', 'Monster Howl', 'Dark Bite', 'Shadow Ball']} },    \n        },\n    },\n    bear: {\n        'Cub Soldier': { src: wolf,name: 'Cub Soldier', type: 'bear', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        'Bear Scout': { src: wolf,name: 'Bear Scout', type: 'bear', description: '', level: 8, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0} },\n        'Bear Soldier': { src: wolf,name: 'Bear Soldier', type: 'bear', description: '', level: 12, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1} },\n        special: {\n            'Bear Leutinant': { src: wolf,name: 'Bear Leutinant', type: 'bear', description: '', level: 16, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 2} },\n            'Bear Captain': { src: wolf,name: 'Bear Captain', type: 'bear', description: '', level: 20, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Force Claw', 'Power Slash', 'Grand Blade'] } },\n            'Bear General': { src: wolf,name: 'Bear General', type: 'bear', description: '', level: 25, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Force Claw', 'Ferocious Fury', 'Grand Blade', 'Earth Blast'] } },\n           \n        }\n    },\n    snake: {\n        'Aba Cobra': { src: wolf,name: 'Aba Cobra', type: 'snake', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        'Abdu Cobra': { src: wolf,name: 'Abdu Cobra', type: 'snake', description: '', level: 10, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        special: {\n            'Abdura Cobra': { src: wolf,name: 'Abdura Cobra', type: 'snake', description: '', level: 20, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Venomous Bite', 'Buried Assault', 'Acid Spit', 'Petrify Stare'] } },\n        }\n       \n    },\n    slime: {\n        'Blue Slime': { src: wolf,name: 'Blue Slime', type: 'slime', description: '', level: 5, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0 } },\n        'Red Slime': { src: wolf,name: 'Red Slime', type: 'slime', description: '', level: 10, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 0 } },\n        special: {\n            'King Slime': { src: wolf,name: 'King Slime', type: 'slime', description: '', level: 30, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 3 } },\n        }\n        \n    },\n    goblin: {\n        'Goblin': { src: wolf,name: 'Goblin', type: 'globlin', description: '', level: 9, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 1 } },\n        'Warrior Goblin': { src: wolf,name: 'Warrior Goblin', type: 'globlin', description: '', level: 16, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { common: 2, special: 2 } },\n        special: {\n            'Emperor Goblin': { src: wolf,name: 'Emperor Goblin', type: 'globlin', description: '', level: 25, hp: 25, maxHp: 25, mp: 20, maxMp: 20, attackConfig: { attacks: ['Emperor Assault', 'Heal', 'Fire Ball'] } },\n        }\n       \n    },\n  \n\n}\nexport default monsters","export default __webpack_public_path__ + \"static/media/kingDireWolf.4db17a12.svg\";","import { forEach } from 'lodash'\nimport { randomIntFromInterval, getSpecialMonsterList, generateStats } from '../helpers'\nimport monsterAttacks from './attacks'\nimport monsters from './index'\n\nexport function buildMonster({ type = 'wolf', level = 5, attackConfig = { common: 2, special: 1} }) {\n    const monster = { type, level, attacks: [], exp: level * 5.5 }\n    const attackMap = monsterAttacks[type] // { common: {}, special: {}}\n    const availableCommonAttacks = Object.keys(attackMap.common) // ['slash']\n    const availableSpecialAttacks = Object.keys(attackMap.special) // ['fireball']\n\n    if(attackConfig.attacks){\n\n        forEach(attackConfig.attacks, attackName => {\n            monster.attacks.push(attackMap.special[attackName])\n        });\n        forEach(availableCommonAttacks, (name) => {\n            const attack = attackMap.common[name]\n            monster.attacks.push(attack)\n        });\n        \n    }else\n   { for (let i = 0; i < attackConfig.common; i++) {\n        const randomInt = randomIntFromInterval(0, (availableCommonAttacks.length - 1))\n        const attack = attackMap.common[availableCommonAttacks[randomInt]]\n        monster.attacks.push(attack)\n        availableCommonAttacks.splice(randomInt, 1)\n    }\n    for (let i = 0; i < attackConfig.special; i++) {\n        const randomInt = randomIntFromInterval(0, (availableSpecialAttacks.length - 1))\n        const attack = attackMap.special[availableSpecialAttacks[randomInt]]\n        monster.attacks.push(attack)\n        availableSpecialAttacks.splice(randomInt, 1)\n    }}\n    return {...monster, ...generateStats(level)}\n}\n\nexport function generateMonsters(monsterConfig={ wolf: 3, bear: 2, special: ['Grand Dire Wolf']}){\n    const configKeys = Object.keys(monsterConfig) // [wolf, bear, special]\n    const generatedMonsters = configKeys.reduce((acc, monsterType, i)=>{\n\n        const newMonsters = i===0 ? [] : [...acc]\n        const monsterData = monsters[monsterType] //  {'dire wolf': { description: '' } }\n        const amountOfMonster = monsterConfig[monsterType] // 3\n        const monsterList = Object.keys(monsters[monsterType] || {})// ['wolf', 'dire wolf']\n        monsterList.pop() // remove special\n\n        if(monsterType === 'special'){\n            const specialMonsters = getSpecialMonsterList(monsters)\n            forEach(monsterConfig.special, monsterKey=>{\n                forEach(specialMonsters, monsters=>{\n                    if(monsters[monsterKey]){\n                        newMonsters.push({...monsters[monsterKey],name: `${monsters[monsterKey].name} ${i}`, ...buildMonster(monsters[monsterKey])})\n                    }\n                })\n            })\n        }else{\n            for(let i = 0; i<amountOfMonster; i++){\n                const randomInt = randomIntFromInterval(0, (monsterList.length - 1)) // removes the special field\n                const randomMonsterKey = monsterList[randomInt]\n                const randomMonster = ({...monsterData[randomMonsterKey],name: `${monsterData[randomMonsterKey].name} ${i}`, ...buildMonster(monsterData[randomMonsterKey]) })\n                newMonsters.push(randomMonster)\n            }\n        }\n\n        return newMonsters\n    }, [])\n    let experience = 0\n    forEach(generatedMonsters, monster=>{\n        experience += monster.exp\n    })\n    return {monsters: generatedMonsters, exp: Math.round(experience)}\n}","import { generateItems } from \"./helpers\";\nimport { generateMonsters } from \"./monsters/builders\";\n\nexport const battles = {\n    tutorialBattle1: {\n        monsters: generateMonsters({ wolf: 4}).monsters,\n        rewards: {\n            exp: generateMonsters({ wolf: 4}).exp,\n            items: generateItems(['2Potion'])\n        }\n    },\n    tutorialBattle2: {\n        monsters: generateMonsters({ wolf: 2, special: ['Grand Dire Wolf']}).monsters,\n        rewards: {\n            exp: generateMonsters({ wolf: 2, special: ['Grand Dire Wolf']}).exp,\n            items: generateItems(['2Potion'])\n        }\n    },\n  \n}\n","export const npc = {\n    'John': {name: 'John', alliance: 'good', occupation: 'CIA Agent'},\n}","import { battles } from './battles'\nimport { npc } from './npc'\nconst story = {\n    'Chapter 1': {\n        characters: [npc['John']],\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n        battles: {tutorialBattle1: battles.tutorialBattle1, tutorialBattle2: battles.tutorialBattle2},\n        results: '',\n\n    },\n    'Chapter 2': {\n        characters: [npc['John']],\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n        battles: {tutorialBattle1: battles.tutorialBattle1, tutorialBattle2: battles.tutorialBattle2},\n        results: '',\n\n    },\n    'Chapter 3': {\n        characters: [npc['John']],\n        description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n        battles: {tutorialBattle1: battles.tutorialBattle1, tutorialBattle2: battles.tutorialBattle2},\n        results: '',\n\n    }\n}\nexport default story","import styled from 'styled-components'\n\nexport const RichTextContainer = styled.div`\nmargin: 25px;\n\n`","import React from 'react'\nimport MUIRichTextEditor from 'mui-rte'\nimport { RichTextContainer } from './styled'\n\nconst RichTextEditor = ({defaultData, onSave=()=>null, label=\"Start typing...\"}) => {\n    function handleSave(value){\n        onSave(value)\n    }\n    return (\n        <RichTextContainer>\n           <MUIRichTextEditor\n           onSave={handleSave}\n                    defaultValue={defaultData}\n                    label={label}\n                />   \n        </RichTextContainer>\n    )\n}\n\nexport default RichTextEditor\n","import { useContextState } from \"dynamic-context-provider\";\nimport { map } from 'lodash'\n\nexport function useGlobalLoading(){\n    const { globalLoading, updateContextState } = useContextState()\n    function updateGlobalLoading(globalLoading){\n        updateContextState({globalLoading})\n    }\n    return [globalLoading, updateGlobalLoading]\n}\n\nexport function useGetUserOptions(){\n    const { users } = useContextState()\n    const userOptions = map(users, user=>{\n        return {...user, label: user.character.name, value: user.character.name}\n    })\n    const options =  [...userOptions]\n    \n    return {options, users}\n}","import React, { useState, useEffect } from 'react'\nimport {\n    Card,\n    CardContent,\n    Grid,\n    Typography,\n    CardActions,\n    Button,\n    Divider,\n    List,\n    ListItem,\n    CircularProgress,\n    Backdrop\n} from '@material-ui/core'\nimport { map } from 'lodash'\nimport story from '../../../gameData/story'\nimport 'mui-form-generator/dist/index.css'\nimport RichTextEditor from '../../../common/RichTextEditor'\nimport { getStoryChapter, updateStoryChapter } from '../../../firebase'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useGlobalLoading } from '../hooks'\n\nconst Story = () => {\n    const classes = useStyles();\n\n    const [isLoading, setisLoading] = useState(true)\n    const [selectedChapter, setselectedChapter] = useState({})\n    const [globalLoading, setglobalLoading] = useGlobalLoading()\n    \n    async function handleSelectChapter(chapter) {\n        setglobalLoading(true)\n        const ch = await getStoryChapter(chapter)\n        setselectedChapter({label: chapter, notes: ch.notes})\n        setglobalLoading(false)\n    }\n    async function handleNoteSave(values) {\n        await updateStoryChapter(selectedChapter.label, values, 'notes')\n\n    }\n    async function getFirstChapterData() {\n        const ch = await getStoryChapter('Chapter 1')\n        setselectedChapter({ label: 'Chapter 1', notes: ch.notes })\n        setisLoading(false)\n\n    }\n    useEffect(() => {\n        getFirstChapterData()\n    }, [])\n    if (isLoading) return null\n    return (\n        <Grid container>\n            <Grid style={{ maxHeight: 500, overflow: 'scroll' }} item xs={6}>\n                <List>\n                    {\n                        map(Object.keys(story), chapter => {\n                            return (\n                                <ListItem key={chapter}>\n                                    <Card style={{ margin: '25px' }}>\n                                        <CardContent>\n                                            <Typography align=\"center\" variant=\"h5\" component=\"h2\">\n                                                {chapter}\n                                            </Typography>\n                                            <Typography variant=\"h5\" color=\"textSecondary\">\n                                                Story\n                                            </Typography>\n                                            <Divider />\n                                            <Typography variant=\"h6\"  >\n                                                {story[chapter].description}\n                                                <br />\n                                            </Typography>\n                                        </CardContent>\n                                        <CardActions>\n                                            <Button onClick={async () => handleSelectChapter(chapter)} fullWidth>Start Chapter</Button>\n                                        </CardActions>\n                                    </Card>\n                                </ListItem>\n\n                            )\n                        })\n                    }\n\n                </List>\n\n            </Grid>\n            <Grid style={{ border: '1px solid' }} item xs={6}>\n                <Typography variant=\"h5\" align=\"center\">{selectedChapter.label} Notes</Typography>\n                <RichTextEditor defaultData={selectedChapter.notes} onSave={handleNoteSave} />\n            </Grid>\n            <Backdrop className={classes.backdrop} open={globalLoading} >\n  <CircularProgress color=\"inherit\" />\n</Backdrop>\n        </Grid>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: '#fff',\n    },\n  }));\nexport default Story\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { sendUserAMessage } from '../../../firebase'\n\nconst BluePrint = ({options}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'hint',\n                            name: 'hint',\n                            type: 'text',\n                            label: 'Hint'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'innerThoughts',\n                            name: 'innerThoughts',\n                            type: 'text',\n                            label: 'Inner Thoughts'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst HintForm = () => {\n    const {options} = useGetUserOptions()\n\n    async function handleSubmit(values, formik) {\n        await sendUserAMessage(values.target, {innerThoughts: values.innerThoughts, hint: values.hint})\n    }\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            blueprint={BluePrint({options})}\n            initialValues={{ hint: '', innerThoughts: '', target: options[0] }}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default HintForm\n","import { forEach, map } from \"lodash\"\nimport { launchToaster } from \"../../core/toaster\"\nimport { batchUpdate, giveCharacterItem } from \"../../firebase\"\nimport { useGetItems } from \"./useGetItems\"\nimport { initialCharacterObject } from '../../gameData/player/initialCharacterObject'\nimport { useGetUserOptions } from \"../../pages/DmView/hooks\"\n\nexport function useBatchUpdateItems(type){\nconst { options } = useGetUserOptions()\nasync function updateBatchItems(values){\n    const { availableItem: item, quantity} = values\n    const newItems = []\n    const newUsers = map(options, option=>{\n        const newOption = {...option}\n        let currentItems = newOption.character.items[type][item.label]\n        if(currentItems){\n            currentItems.quantity += quantity\n        }else{\n            newOption.character.items[type][item.label] = {...item, quantity}\n        }\n        \n        newItems.push(newOption.character.items)\n        return newOption\n    })\n\n    await batchUpdate('character.items', newUsers, newItems)\n}\nreturn [updateBatchItems]\n}\nexport const useUpdateItems = (user, type) => {\n    const [userItemStorage, items,] = useGetItems(user, type)\n    const characterDbItems = user.character.items[type]\n    async function updateItems(updates = ['3_Potion']){\n        const newItems = { ...characterDbItems}\n        forEach(updates, update => {\n            const [quantityString, itemName] = update.split('_')\n            const quantity = Number(quantityString)\n            const itemToAdd = { ...items[itemName], quantity }\n            const itemsCharacterIsCarrying = characterDbItems[itemName]\n\n            \n\n            if (itemsCharacterIsCarrying) {\n                let newQuantity = itemsCharacterIsCarrying.quantity\n                if (quantity > 0) newQuantity += itemToAdd.quantity\n                if (quantity < 0) {\n                    newQuantity -= itemToAdd.quantity\n                }\n                if (newQuantity < 0) {\n                    newQuantity = 0\n                }\n                itemsCharacterIsCarrying.quantity = newQuantity\n    \n            } else {\n                newItems[itemName] = itemToAdd\n            }\n        })\n\n        await giveCharacterItem(user, newItems, type)\n        launchToaster({type: 'success', content: `Successfully given ${user.displayName} items`})\n    }\n    \n    return [updateItems]\n}\n\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { useGetAllItemOptions } from '../../../common/hooks/useGetBagOptions'\nimport { find, map } from 'lodash'\nimport { useUpdateItems, useBatchUpdateItems } from '../../../common/hooks/useUpdateItems'\n\nconst BluePrint = ({ options, itemTypes, availableItems, setavailableItems, allItems}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'itemType',\n                            name: 'itemType',\n                            type: 'select',\n                            label: 'Item Type',\n                            options: itemTypes,\n                            onChange: ({ value, formHandler})=>{\n                                const newAvailableItems = allItems[value.label]\n                                if(!newAvailableItems)return\n                                setavailableItems(newAvailableItems)\n                                formHandler.setFieldValue('availableItem', newAvailableItems[0])\n                            }\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'availableItem',\n                            name: 'availableItem',\n                            type: 'select',\n                            label: 'Items',\n                            options: availableItems,\n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n\n            \n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'quantity',\n                            name: 'quantity',\n                            type: 'number',\n                            label: 'Amount'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'targetAll',\n                            name: 'targetAll',\n                            type: 'checkbox',\n                            label: 'Give to all'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst ItemForm = () => {\n    const {options, users} = useGetUserOptions()\n\n    const firstUser = options[0]\n    const allItems = useGetAllItemOptions(firstUser)\n    const itemTypes = map(Object.keys(allItems), key=>{\n        return {label: key, value: key}\n    })\n    const initialValues = { targetAll: false, quantity: 1, availableItem: allItems['misc'][0], itemType: find(itemTypes, {label: 'misc'}),  target: firstUser }\n    const [values, setvalues] = React.useState(initialValues)\n    const [availableItems, setavailableItems] = React.useState(allItems['misc'])\n    const [updateItems] = useUpdateItems(values.target, values.itemType.label)\n    const [updateBatchItems] = useBatchUpdateItems(values.itemType.label)\n\n   async function handleSubmit(values, formik) {\n        const reqString = `${values.quantity}_${values.availableItem.label}`\n        if(values.targetAll){\n            await updateBatchItems(values)\n        }else await updateItems([reqString])\n        \n        formik.resetForm()\n    }\n\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            manualValidate={(values)=>setvalues(values)}\n            blueprint={BluePrint({availableItems,setavailableItems, options, itemTypes, allItems})}\n            initialValues={initialValues}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default ItemForm\n","import React from 'react'\nimport { MuiFormGenerator } from 'mui-form-generator'\nimport 'mui-form-generator/dist/index.css'\nimport theme from '../../../core/theme'\nimport { useGetUserOptions } from '../hooks'\nimport { initialCharacterObject } from '../../../gameData/player/initialCharacterObject'\nimport { statSheet } from '../../../gameData/constants' \nimport { map, omit } from 'lodash'\n\nconst BluePrint = ({options}) => {\n    return ({\n        Rows: [\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'target',\n                            name: 'target',\n                            type: 'select',\n                            label: 'Target',\n                            options\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'hint',\n                            name: 'hint',\n                            type: 'text',\n                            label: 'Hint'\n                        \n                        }\n                    },\n                ]\n            },\n            {\n                Cols: [\n                    {\n                        Input: {\n                            id: 'innerThoughts',\n                            name: 'innerThoughts',\n                            type: 'text',\n                            label: 'Inner Thoughts'\n                        \n                        }\n                    },\n                ]\n            },\n           \n            {\n                Cols: [\n                    {\n                        style: { display: 'flex', justifyContent: 'flex-end' },\n                        Button: {\n                            id: 'submit',\n                            name: 'submit',\n                            type: 'submit',\n                            label: 'Submit',\n                            disabled: false,\n                        }\n                    },\n                ]\n            },\n        ]\n    })\n}\nconst UpdateCharacterForm = () => {\n    const updateTypeOptions = map(['Stats', 'Character'], type=>({label:type, value: type}))\n    const {options: targets} = useGetUserOptions()\n    const statOptions = map(Object.keys(statSheet), abbr=>{\n        return {...statSheet[abbr], value: statSheet[abbr].label,}\n    })\n    const omittedCharObj = omit(initialCharacterObject, ['dmMessage', 'items', 'equipped', 'stats', 'techniques', 'title', 'class'])\n    const characterHealthOptions = map((Object.keys(omittedCharObj)), abbr=>{\n        return {label: abbr, value: abbr,}\n    })\n\n    // dmMessage, items\n    function handleSubmit(values, formik) {\n        window.alert(JSON.stringify(values))\n        formik.resetForm()\n    }\n    return (\n        <MuiFormGenerator\n            theme={theme}\n            blueprint={BluePrint({options: targets})}\n            initialValues={{ hint: '', innerThoughts: '', target: targets[0] }}\n            handleSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default UpdateCharacterForm\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PrintIcon from '@material-ui/icons/Print';\nimport ShareIcon from '@material-ui/icons/Share';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText } from '@material-ui/core';\nimport HintForm from './HintForm'\nimport ItemForm from './ItemForm'\nimport UpdateCharacterForm from './UpdateCharacterForm'\n\nconst useStyles = makeStyles((theme) => ({\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\nconst actions = [\n  { icon: <FileCopyIcon />, name: 'Hint' },\n  { icon: <SaveIcon />, name: 'Item' },\n  { icon: <PrintIcon />, name: 'Update Character' },\n  { icon: <ShareIcon />, name: 'Characters' },\n  { icon: <FavoriteIcon />, name: 'Like' },\n];\n// const misc = {Potion: {description: \"Recover 10 hp\",\n// hp: 10,\n// label: \"Potion\",\n// mp: 0,\n// quantity: 2,\n// src: \"/mardock-game/static/media/darkRiteArmor.9c40cf0e.svg\",\n// type: \"misc\"\n// }}\n// async function addItem(){\n//   await updateItems(['Potion 2'])\n// }\n// const [updateItems] = useUpdateItems(users[0])\n\nexport default function QuickMenu() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [dialogType, setdialogType] = React.useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  function closeDialog(){\n    setdialogType('')\n  }\n\n  const dialogContent = {\n    Hint: <HintForm />,\n    Item: <ItemForm />,\n    'Update Character': <UpdateCharacterForm />,\n    Characters: <div>Characters</div>,\n  }\n  return (\n    <>\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<SpeedDialIcon />}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n          direction={'up'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={()=>setdialogType(action.name)}\n            />\n          ))}\n        </SpeedDial>\n        <Dialog\n        open={dialogContent[dialogType] !== undefined}\n        onClose={closeDialog}\n      >\n        <DialogTitle id={dialogType}></DialogTitle>\n        <DialogContent>\n         {dialogContent[dialogType]}\n        </DialogContent>\n        {/* <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Disagree\n          </Button>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Agree\n          </Button>\n        </DialogActions> */}\n      </Dialog>\n        </>\n  );\n}\n","import React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { useContextState } from 'dynamic-context-provider';\n\nconst LoadingContainer = ({children, loading}) => {\n    const { globalLoading } = useContextState()\n    if(globalLoading || loading){\n        return(<Skeleton>{children}</Skeleton>)\n    }\n    return children\n}\n\nexport default LoadingContainer\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { filter, find, map } from 'lodash';\nimport { Divider, Typography } from '@material-ui/core';\nimport { updateCharacter } from '../../../firebase';\nimport { useContextState } from 'dynamic-context-provider';\nimport LoadingContainer from '../../../common/LoadingContainer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 'auto',\n  },\n  paper: {\n    width: 200,\n    height: 230,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n}));\n\nfunction not(a, b) {\n  return a.filter((value) => b.indexOf(value) === -1);\n}\n\nfunction intersection(a, b) {\n  return a.filter((value) => b.indexOf(value) !== -1);\n}\n\nfunction initialViewList(userInView, targets){\n    const inView = userInView ? userInView : []\n    const notInView =  filter(targets, target=>!find(userInView, {name: target.name}))\n    return [notInView, inView]\n}\nexport default function InViewList({user, targets}) {\nconst [initialNotInView, initialInView] = initialViewList(user.character.inView, targets)\n  const classes = useStyles();\n  const [loading, setloading] = React.useState(false);\n  const [checked, setChecked] = React.useState([]);\n  const [notInView, setLeft] = React.useState(initialNotInView);\n  const [inView, setRight] = React.useState(initialInView);\n  const leftChecked = intersection(checked, notInView);\n  const rightChecked = intersection(checked, inView);\n\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const handleAllRight = () => {\n    setRight(inView.concat(notInView));\n    setLeft([]);\n  };\n\n  const handleCheckedRight = () => {\n    setRight(inView.concat(leftChecked));\n    setLeft(not(notInView, leftChecked));\n    setChecked(not(checked, leftChecked));\n  };\n\n  const handleCheckedLeft = () => {\n    setLeft(notInView.concat(rightChecked));\n    setRight(not(inView, rightChecked));\n    setChecked(not(checked, rightChecked));\n  };\n\n  const handleAllLeft = () => {\n    setLeft(notInView.concat(inView));\n    setRight([]);\n  };\n\n  const customList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {map(items, (value, i) => {\n            const { name } = value\n          const labelId = `transfer-list-item-${name}-label`;\n\n          return (\n            <ListItem key={i} role=\"listitem\" button onClick={handleToggle(value)}>\n              <ListItemIcon>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n              </ListItemIcon>\n              <ListItemText id={labelId} primary={name} />\n            </ListItem>\n          );\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  );\n\n  async function addMonstersToUserSight(){\n    setloading(true)\n    let addInView = null\n    if(inView.length){\n        addInView = map(inView, monster=>{\n            return { name: monster.name}\n        })\n    }\n   await updateCharacter(user,{'character.inView': addInView}, true)\n   setloading(false)\n\n}\n  return (\n    <LoadingContainer loading={loading}>\n    <Grid  container spacing={2} justify=\"center\" alignItems=\"center\" className={classes.root}>\n      <Grid item>\n          <Typography>Not in view</Typography>\n          <Divider />\n          {customList(notInView)}\n          </Grid>\n      <Grid item>\n        <Grid container direction=\"column\" alignItems=\"center\">\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleAllRight}\n            disabled={notInView.length === 0}\n            aria-label=\"move all inView\"\n          >\n            \n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedRight}\n            disabled={leftChecked.length === 0}\n            aria-label=\"move selected inView\"\n          >\n            &gt;\n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleCheckedLeft}\n            disabled={rightChecked.length === 0}\n            aria-label=\"move selected notInView\"\n          >\n            &lt;\n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={handleAllLeft}\n            disabled={inView.length === 0}\n            aria-label=\"move all notInView\"\n          >\n            \n          </Button>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={addMonstersToUserSight}\n            aria-label=\"addMonstersToUserSight\"\n          >\n            Add\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid item>\n      <Typography>In view</Typography>\n      <Divider />\n          {customList(inView)}\n          </Grid>\n    </Grid>\n    </LoadingContainer>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useStatSheet } from '../../../common/hooks/useStatSheet';\nimport { Accordion, AccordionDetails, AccordionSummary, CardActionArea, Grid } from '@material-ui/core';\nimport { map } from 'lodash';\nimport InViewList from './InViewList'\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n});\n\nexport default function PlayerCard({ user, targets }) {\n  const { character } = user\n  const stats = useStatSheet(character.stats)\n  const classes = useStyles();\n  const { gil, name, level, exp, hp, maxHp, mp, maxMp } = character\n  if (!character.name) return null\n  return (\n    <Card className={classes.root}>\n      <CardContent style={{ textAlign: 'center' }}>\n        <Typography fontSize={24} color=\"textSecondary\" gutterBottom>\n          {name} - Level {level}\n        </Typography>\n        <Accordion>\n          <AccordionSummary>\n            <Typography align=\"center\">Character Info</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              HP: {hp}/{maxHp}\n              <span style={{ marginLeft: '5px' }}> MP: {mp}/{maxMp}</span>\n            </Typography>\n          </AccordionDetails>\n\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              Experience: {exp}\n            </Typography>\n          </AccordionDetails>\n          <AccordionDetails>\n            <Typography fontSize={14} color=\"textSecondary\" gutterBottom>\n              {gil} Gil\n        </Typography>\n          </AccordionDetails>\n\n\n        </Accordion>\n        <Accordion>\n          <AccordionSummary >\n            <Typography align=\"center\">Stats</Typography>\n\n          </AccordionSummary>\n          <AccordionDetails>\n            <Grid container>\n              {map(Object.keys(stats), (abbr, i) => {\n                const stat = stats[abbr]\n                let statMessage = `${stat.label.toUpperCase()}: ${stat.points}`\n                if (stat.statBoost > 0) {\n                  statMessage = statMessage + ` +${stat.statBoost}`\n                }\n                return (<Grid key={i} item xs={6}><Typography>{statMessage}</Typography></Grid>)\n              })}\n            </Grid>\n          </AccordionDetails>\n        </Accordion>\n        <Grid container>\n          <InViewList user={user} targets={targets} />\n        </Grid>\n\n      </CardContent>\n      {/* <CardActions>\n        <Button size=\"small\">Learn More</Button>\n      </CardActions> */}\n    </Card>\n  );\n}\n","export const columnHeaders =[\n    { title: 'Name', field: 'name' },\n    { title: 'HP', field: 'hp', type: 'numeric' },\n    { title: 'Max HP', field: 'maxHp', type: 'numeric' },\n    { title: 'MP', field: 'mp', type: 'numeric' },\n    { title: 'Max MP', field: 'maxMp', type: 'numeric' },\n  ]\n\n    /*\n        {\n      title: 'Birth Place',\n      field: 'birthCity',\n      lookup: { 34: 'stanbul', 63: 'anlurfa' },\n    },\n      const [data, setData] = useState([\n      { name: 'Mehmet', surname: 'Baran', birthYear: 1987, birthCity: 63 },\n      { name: 'Zerya Betl', surname: 'Baran', birthYear: 2017, birthCity: 34 },\n    ]);\n    */","import React, { useState, useEffect } from 'react'\nimport MaterialTable from 'material-table'\nimport { useContextState } from 'dynamic-context-provider';\nimport { columnHeaders } from './columns'\nimport { find, map } from 'lodash';\nimport { updateCharacter, updateMonsters, giveUserRewards } from '../../../firebase';\nimport { Button } from '@material-ui/core';\nimport { launchToaster } from '../../../core/toaster';\n\nexport default function BattleTable({battle={monsters:[]}}) {\n\n  const { users=[] } = useContextState()\n  \n  const participants = map([...battle.monsters, ...users], participant=>{\n    if(participant.character)return participant.character\n    return participant\n  })  \n    const [columns, setColumns] = useState(columnHeaders);\n    const [data, setData] = useState(participants);\n\n  async function updateParticipant({newData, oldData}){\n    if(newData.title){\n      const user = find(users, {displayName: newData.name})\n      user && await updateCharacter(user,{'character': newData}, true)\n\n    }else{\n      let updateDb = false\n      const newMonsters = map(battle.monsters, monster =>{\n        let newMon = monster\n        if(newData.name === monster.name){\n          newMon = newData\n          updateDb= true\n        }\n        return newMon\n      })\n      updateDb && await updateMonsters(newMonsters)\n\n    }\n\n    const dataUpdate = [...data];\n    const index = oldData.tableData.id;\n    dataUpdate[index] = newData;\n    setData([...dataUpdate]);\n  }\n\n  async function giveReward(){\n    await giveUserRewards(users, battle.rewards)\n  }\n    useEffect(() => {\n      setData(participants)\n    }, [battle])\n    if(!battle.monsters.length)return null\n    return (\n      <div>\n      <MaterialTable\n        title=\"Battle Table\"\n        columns={columns}\n        data={data}\n        options={{pageSize: 20, maxBodyHeight: 440}}\n        editable={{\n        \n          onRowUpdate: async(newData, oldData)=>updateParticipant({newData, oldData}),\n        }}\n      />\n      <Button fullWidth onClick={giveReward}>Give Reward</Button>\n      </div>\n    )\n  }\n  ","import React from 'react'\nimport {battles} from '../../../gameData/battles'\nimport convertToOptions  from '../../../common/helpers/convertToOptions' \nimport { TextField, MenuItem, Card, Grid, Button } from '@material-ui/core'\nimport { map } from 'lodash'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { startBattle } from '../../../firebase'\n\nconst useStyles = makeStyles({\n    container: {\n        \n    },\n    card: {\n        minWidth: 600,\n        minHeight: 400,\n        padding: '60px',\n    },\n  });\nconst SelectBattleForm = () => {\n    const classes = useStyles()\n    const battleOptions = convertToOptions(battles, true)\n    const [battle, setbattle] = React.useState(battleOptions[0].label)\n    function handleChange(e){\n        setbattle(e.target.value)\n    }\n    async function handleClick(){\n        const battleInfo = battles[battle]\n        await startBattle(battleInfo)\n    }\n    return (\n        <Grid item className={classes.container}>\n <Card className={classes.card}>\n             <TextField\n          id=\"battle\"\n          select\n          label=\"Battles\"\n          value={battle}\n          onChange={handleChange}\n          fullWidth\n        >\n          {map(battleOptions, (option) => (\n            <MenuItem key={option.value} value={option.value}>\n              {option.label}\n            </MenuItem>\n          ))}\n        </TextField>\n        \n        </Card>\n        <Button onClick={handleClick}>Start Battle</Button>\n        </Grid>\n       \n    )\n}\n\nexport default SelectBattleForm\n","import React from 'react'\nimport PlayerCard from './PlayerCard'\nimport { useContextState } from 'dynamic-context-provider';\nimport {  Grid } from '@material-ui/core';\nimport { map } from 'lodash';\nimport { useGetBattle } from '../../../common/hooks/useGetBattle'\nimport BattleTable from './BattleTable'\nimport SelectBattleForm from './SelectBattleForm';\n\nconst Battle = () => {\n    const [battle, loading] = useGetBattle()\n    const { users } = useContextState()\n    \n    if(loading)return null\n    return (\n            <Grid justify=\"center\" spacing={3} container>\n          {!battle && <SelectBattleForm />}\n               {battle &&  <>\n                <Grid style={{maxHeight: '75vh', overflow: 'scroll'}} item xs={12} md={6}>\n                {\n                    map(users, (user, i)=>{\n                        return (\n                            \n                        <Grid style={{marginBottom: '20px'}} key={i} item xs={12}>\n                        <PlayerCard targets={battle.monsters}  user={user} />\n                        </Grid>\n                       \n                        )\n                    })\n                }\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <BattleTable battle={battle} />\n                </Grid>\n                </>}\n            </Grid>\n                )\n}\n\nexport default Battle\n","import React from 'react'\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Story from './Story'\nimport { useContextState } from 'dynamic-context-provider';\nimport { dmObserver, getAllUsers, observer, signOut } from '../../firebase';\nimport QuickMenu from './QuickMenu';\nimport Battle from './Battle';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Backdrop, CircularProgress } from '@material-ui/core';\n\nconst DmView = ({dmUser}) => {\n  const classes = useStyles()\n  const history = useHistory()\n    const { users, battle, updateContextState } = useContextState()\n    const [value, setValue] = React.useState(0);\n\n    const handleChange = (_, newValue) => {\n      setValue(newValue);\n    };\n    async function loadUsers(){\n        const users = await getAllUsers()\n        updateContextState({ users })\n    }   \n    function handleSignOut(){\n      signOut()\n      history.replace('/sign-in')\n    }\n    React.useEffect(() => {\n        loadUsers()\n    }, [])\n\n    React.useEffect(() => {\n      observer(updateContextState, dmUser, users)\n      dmObserver(updateContextState, users, battle)\n    })\n    return (\n        <div>\n      <AppBar position=\"static\">\n        <div style={{display: 'flex', justifyContent: 'space-between'}}>\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"Story\" {...a11yProps(0)} />\n          <Tab label=\"Battle\" {...a11yProps(1)} />\n          <Tab label=\"Item Three\" {...a11yProps(2)} />\n        </Tabs>\n        <IconButton onClick={handleSignOut}  color=\"inherit\" aria-label=\"signout\">\n      <ExitToAppIcon />\n    </IconButton>\n    </div>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Story />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n       <Battle />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        Item Three\n      </TabPanel>\n{users?.length > 0 && <QuickMenu />}\n\n    </div>\n    )\n}\n\nexport default DmView\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 100000,\n    color: '#fff',\n  },\n}));\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n","import React from 'react'\nimport BasicRoot from '../../common/BasicRoot'\nimport { ContextStateProvider } from 'dynamic-context-provider';\nimport DmView from './DmView'\n\nconst DmViewResolver = ({dmUser}) => {\n    return (\n        <ContextStateProvider stateConfig={{users: [], globalLoading: false, battle: null}}>\n        <BasicRoot maxWidth=\"xl\">\n       <DmView dmUser={dmUser}/>\n        </BasicRoot>\n        </ContextStateProvider>\n       \n    )\n}\n\nexport default DmViewResolver\n\n","import { useContextState } from 'dynamic-context-provider'\nimport React from 'react'\nimport { Route, useHistory } from 'react-router-dom'\nimport SignInPage from '../pages/SignInPage'\nimport CreatePage from '../pages/CreatePage'\nimport DmViewResolver from '../pages/DmView'\n\n \n\nexport const PrivateRoute = ({ children, ...rest }) => {\n  const { user, globalLoading } = useContextState()\n  const history = useHistory()\n  const isValidLogin = user.uid ? true : false\n  function goToRoute(){\n    let route = null\n    if(user.DM){\n      route = '/DM'\n    }\n    else if(isValidLogin && !user.character){\n      route = '/create'\n    }\n    route && history.replace(route)\n  }\n\n  React.useEffect(() => {\n    if(globalLoading)return\n    goToRoute()\n  }, [globalLoading])\n\n  return(\n  <Route\n    {...rest}\n    render={() =>{\n      if(user.DM)return <DmViewResolver dmUser={user} />\n      else if(isValidLogin && user.character)return children\n      else if(isValidLogin && !user.character)return <CreatePage />\n      else if(!isValidLogin)return <SignInPage />\n    }    \n  }\n  />\n)}\n\n\n","import { useContextState } from \"dynamic-context-provider\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { auth, generateUserDocument, observer, dmObserver } from \"./firebase\";\nimport SignInPage from \"./pages/SignInPage\";\nimport Home from \"./pages/Home\";\nimport Root from \"./common/Root\";\nimport BattlePage from \"./pages/BattlePage\";\nimport CharacterPage from \"./pages/CharacterPage\";\nimport { PrivateRoute } from \"./common/PrivateRoute\";\nimport CreatePage from \"./pages/CreatePage\";\nimport DmViewResolver from \"./pages/DmView/DmView\";\n\nexport default function AppRouter() {\n  const { user, updateContextState } = useContextState()\n  const [appLoading, setappLoading] = useState(true)\n  useEffect(() => {\n    auth.onAuthStateChanged(async (userAuth) => {\n      const user = await generateUserDocument(userAuth) || {}\n      updateContextState({ user })\n      setappLoading(false)\n    });\n  }, [])\n\n  useEffect(() => {\n    if (appLoading) return\n    dmObserver(updateContextState)\n    observer(updateContextState, user)\n  })\n\n  if (appLoading) return null // TODO: add splash/loading screen\n  return (\n    <>\n      <Router basename=\"/mardock-game\">\n        <Switch>\n        {/* Protected Routes */}\n        \n          <PrivateRoute path=\"/Battle\">\n          <Root>\n              <BattlePage />\n              </Root>\n          </PrivateRoute>\n          <PrivateRoute path=\"/\" exact>\n            <Root>\n              <Home />\n              </Root>\n          </PrivateRoute>\n          <PrivateRoute path=\"/Character\">\n            <Root>\n              <CharacterPage />\n              </Root>\n          </PrivateRoute>\n\n        {/* Unprotected Routes */}\n          <Route path=\"/create\">\n            <CreatePage />\n          </Route>\n          {user.character && <PrivateRoute>\n            <Root>\n            <Home />\n            </Root>\n          </PrivateRoute>}\n          <Route path=\"/sign-in\">\n            <SignInPage />\n          </Route>\n          {user.DM && <Route path=\"/DM\">\n            <DmViewResolver dmUser={user} />\n          </Route>}\n          <Route>\n            <SignInPage />\n          </Route>\n        </Switch>\n      </Router>\n\n    </>\n  );\n}\n","import React from 'react'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useContextState } from 'dynamic-context-provider'\n\nimport {\n\n    CircularProgress,\n    Backdrop\n} from '@material-ui/core'\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 100000,\n      color: '#fff',\n    },\n  }));\nconst GlobalLoader = () => {\n    const classes = useStyles()\n    const { globalLoading } = useContextState()\n    return (\n        <Backdrop className={classes.backdrop} open={globalLoading} >\n<CircularProgress color=\"inherit\" />\n</Backdrop>\n    )\n}\n\nexport default GlobalLoader\n","import { ContextStateProvider } from 'dynamic-context-provider';\nimport { globalStateConfig } from './core/globalStateVars';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport AppRouter from './AppRouter';\nimport GlobalLoader from './common/GlobalLoader'\nimport theme from './core/theme'\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n  return (\n    <ContextStateProvider stateConfig={globalStateConfig}>\n      <ThemeProvider theme={theme}>\n      <AppRouter />\n      <ToastContainer />\n      </ThemeProvider>\n      <GlobalLoader />\n  </ContextStateProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}